(this["webpackJsonpchetandr.github.io.src"]=this["webpackJsonpchetandr.github.io.src"]||[]).push([[0],{42:function(e,t,n){},43:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);n(42),n(43);var r=n(5),c=n(81),i=n(25),a=n.n(i),o=n(32),d=n(36),s=n(0),h=n.n(s),u=n(82),l=n(37),g=n.n(l),w=n(3),p=function(){var e=h.a.useRef(),t=h.a.useRef(),n=h.a.useRef(),r=h.a.useRef(),c=h.a.useState({}),i=Object(d.a)(c,2),l=i[0],p=i[1],j=h.a.useState({}),x=Object(d.a)(j,2);x[0],x[1];function b(){return v.apply(this,arguments)}function v(){return(v=Object(o.a)(a.a.mark((function e(){var t,n,r,c,i,o,d;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,e.prev=1,e.prev=2,e.next=5,navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:{exact:"environment"}}});case 5:t=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:{exact:"user"}}});case 12:t=e.sent;case 13:return e.next=15,t.getVideoTracks();case 15:return n=e.sent,r=n[0],c=n[0].getCapabilities(),i=r.getSettings(),console.log(c,i),o={width:{ideal:c.width.max},height:{ideal:c.height.max}},e.prev=21,e.next=24,r.applyConstraints(o);case 24:e.next=29;break;case 26:e.prev=26,e.t1=e.catch(21),alert(e.t1);case 29:return d=r.getSettings(),p(d),e.abrupt("return",{stream:t,settings:d});case 34:e.prev=34,e.t2=e.catch(1),console.error(e.t2);case 37:case"end":return e.stop()}}),e,null,[[1,34],[2,8],[21,26]])})))).apply(this,arguments)}Object(s.useEffect)(Object(o.a)(a.a.mark((function r(){var c;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,b();case 2:c=r.sent,e.current&&("srcObject"in e.current?e.current.srcObject=c.stream:e.src=window.URL.createObjectURL(c.stream),t.current.width=window.innerWidth,t.current.height=window.innerHeight,t.current.style.width="".concat(window.innerWidth,"px"),t.current.style.height="".concat(window.innerHeight,"px"),n.current.width=window.innerWidth,n.current.height=window.innerHeight,n.current.style.width="".concat(window.innerWidth,"px"),n.current.style.height="".concat(window.innerHeight,"px"));case 4:case"end":return r.stop()}}),r)}))),[e,t,n]);var f=function n(){requestAnimationFrame(n);var r,c,i=t.current.getContext("2d"),a=l.width,o=l.height,d=a/o,s=0,h=0;a>o?(r=t.current.width,c=t.current.width/d,s=(t.current.height-c)/2):(r=t.current.height,c=t.current.height*d,h=(t.current.width-r)/2),i.drawImage(e.current,h,s,r,c)};return Object(w.jsxs)("div",{children:[!1,Object(w.jsx)("div",{style:{marginBottom:"16px",display:"none"},children:Object(w.jsx)("video",{ref:e,autoPlay:!0,playsInline:!0,onLoadedMetadata:function(t){"".concat(l.width,"x").concat(l.height),"".concat(e.current.videoWidth,"x").concat(e.current.videoWidth),"".concat(window.availWidth,"x").concat(window.availHeight),"".concat(window.innerWidth,"x").concat(window.innerHeight);f()}})}),Object(w.jsxs)("div",{children:[Object(w.jsx)("canvas",{ref:t,style:{border:"solid 2px red"}}),Object(w.jsx)("canvas",{ref:n,style:{border:"solid 2px red"}})]}),Object(w.jsx)("a",{id:"downloadAnchor",href:"http://chetandr.github.com",ref:r,style:{display:"none"},children:"image"}),Object(w.jsx)("div",{id:"changeVideo",children:Object(w.jsx)(u.a,{color:"primary","aria-label":"upload picture",component:"span",variant:"contained",onClick:function(){var c,i,a=n.current.getContext("2d"),o=l.width,d=l.height,s=o/d,h=0,u=0;o>d?(c=t.current.width,i=t.current.width/s,h=(t.current.height-i)/2):(c=t.current.height,i=t.current.height*s,u=(t.current.width-c)/2),a.drawImage(e.current,u,h,c,i);var g=n.current.toDataURL("image/png");r.current.href=g,r.current.download="MyPhoto.png",r.current.click(),window.URL.revokeObjectURL(g)},children:Object(w.jsx)(g.a,{style:{fontSize:100}})})}),Object(w.jsx)("a",{id:"downloadAnchor",href:"http://chetandr.github.com",ref:r,style:{display:"none"},children:"image"})]})},j=n(31),x=n(39);var b=function(){return Object(w.jsx)(j.a,{children:Object(w.jsx)(r.c,{children:Object(w.jsx)(r.a,{exact:!0,path:"/",children:Object(w.jsx)("div",{className:"App",children:Object(w.jsx)("header",{className:"App-header",children:Object(w.jsx)(c.a,{backend:x.a,options:{enableMouseEvents:!0},children:Object(w.jsx)(p,{})})})})})})})},v=n(19),f=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,83)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),i(e),a(e)}))};n.n(v).a.render(Object(w.jsx)(h.a.StrictMode,{children:Object(w.jsx)(b,{})}),document.getElementById("root")),f()}},[[62,1,2]]]);
//# sourceMappingURL=main.eac12bb5.chunk.js.map