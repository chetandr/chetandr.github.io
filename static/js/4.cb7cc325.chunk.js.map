{"version":3,"sources":["components/Logos/index.jsx","components/Car/index.js","APIConfig/Axios.js","APIConfig/CompanySettings/index.js","APIConfig/AssessmentId/index.js","APIConfig/UpdateAssessmentType/index.js","components/Journey/Onboard/Login/index.jsx","components/OverlayWindow/index.js","components/OverlayMessageBox/index.jsx","components/RoundedButton/index.js","APIConfig/GeneratePresignedUrl/index.js","APIConfig/UploadImageToS3/index.js","APIConfig/UpdateImageFileMetaDataBarcode/index.js","CarDataContext.js","components/MediaStream/helper.js","components/Journey/Onboard/License/index.jsx","components/CaptureIcon/index.jsx","components/CaptureButton/index.jsx","APIConfig/UpdateImageFileMetaDataArea/index.js","components/MediaStream/index.jsx","components/MediaStreamWithDnD/index.js","components/OverlayImage/index.jsx","components/Journey/Inspection/Front/index.jsx","components/Journey/Inspection/Driverside/index.jsx","components/Journey/Inspection/Passengerside/index.jsx","components/Journey/Inspection/Rear/index.jsx","APIConfig/FinalAsessmentSubmission/index.js","components/Journey/Summary/Report/index.jsx","mockconfig/journey1.js","Theme/index.js","components/ErrorBoundary/index.js","Journey/index.jsx","utils/geoLocation.js"],"names":["TheUnlimited","props","Box","p","src","imageURL","alt","style","marginLeft","marginRight","display","width","defaultProps","Car","axios","defaults","headers","post","Axios","create","baseURL","process","REACT_APP_CARDATA_API","timeout","CompanySettings$","otp","from","get","AssessmentId$","fieldOne","UpdateAssessmentType$","assessmentId","deviceId","patch","Login","t","useTranslation","React","useState","checked","setChecked","companyData","setCompanyData","setFieldOne","errors","setErrors","swipeButton","useRef","openTermsAndConditions","setOpenTermsAndConditions","useEffect","subscribe","response","data","e","console","log","Fragment","logo","pt","px","Typography","textAlign","company_name","TextField","id","placeholder","fullWidth","margin","variant","onChange","target","value","InputProps","borderRadius","pl","FormGroup","FormLabel","Checkbox","color","name","float","cursor","onClick","text","onSuccess","push","length","current","reset","assessment_id","nextAction","ref","Dialog","open","fullScreen","DialogTitle","DialogContent","overflow","padding","paddingLeft","terms_and_conditions_url","height","border","DialogActions","Button","maxWidth","map","error","Alert","severity","prevAction","OverlayWindow","Grid","container","item","xs","className","windowSize","borderColor","OverlayMessageBox","Styled","position","zIndex","backgroundColor","maxSize","RoundedButton","size","textTransform","paddingRight","label","GeneratePresignedUrl$","fileExtension","md5","UploadImageToS3$","uploadURL","contentType","params","request","method","url","UpdateImageFileMetaDataArea$","imageRequestId","gps","originalImageResolution","tags","uploadDone","put","CarDataContext","createContext","getReso","getMedia","a","stream","supportedConstraints","navigator","mediaDevices","getSupportedConstraints","getUserMedia","audio","video","facingMode","exact","getVideoTracks","videoTracks","videoTrack","getCapabilities","getSettings","reso","platform","indexOf","constraints","ideal","applyConstraints","alert","updatedSettings","settings","getMD5","blob","Promise","resolve","reject","fileReader","FileReader","onloadend","file","Uint8Array","result","hash","btoa","sparkMD5","ArrayBuffer","readAsArrayBuffer","Divider","styled","License","licenseData","setlicenseData","codeReader","BrowserMultiFormatReader","carData","useContext","Object","keys","constructor","login","JSON","parse","sessionStorage","getItem","geoLocation","videoInputDevices","decodeFromConstraints","err","decodeFromVideoDevice","res","carInfo","split","captureCanvas","toBlob","md5Data","uploadUrl","uploadResponse","status","tag_type","make","model","license_number","registration_number","engine_number","vin_number","UpdateImageFileMetaDataBarcode$","stopStreams","NotFoundException","top","left","disableTypography","m","CaptureIcon","Icon","CaptureButton","right","IconButton","ItemTypes","MediaStream","videoRef","videoWrapper","imageRef","thumbnail","bboxWrapper","canvasRef","imageCanvasRef","currentBBox","setCurrentBBox","downloadAnchor","mediaSettings","setMediaSettings","setDebugData","setCapturing","bboxProperties","setBboxProperties","stage","setStage","monitor","useDragDropManager","getMonitor","imageBboxRef","x","y","currentPosition","setCurrentPosition","dragInitPositionDiff","setDragInitPositionDiff","useDrag","type","collect","isDragging","bbox","useDrop","accept","drop","moveBox","isOver","cbbox","cp","diff","rbox","getClientRects","x1","y1","newBboxProperties","MyPreview","usePreview","itemType","getTargetDimensions","ms","video_width","video_height","to_width","offsetWidth","to_height","offsetHeight","Math","floor","scaleRatioY","scaleRatioX","to_x","document","documentElement","clientWidth","renderMedia","useCallback","media","srcObject","window","URL","createObjectURL","to_y","transform","offsetLeft","offsetTop","transformOrigin","newDebugData","scale","targetXY","addEventListener","event","captureImage","ctx","getContext","pause","drawImage","ctxt","thumbnailUrl","toDataURL","side","setTimeout","subscribeToOffsetChange","offset","getClientOffset","initialClientOffset","getInitialClientOffset","initialSourceClientOffset","getInitialSourceClientOffset","autoPlay","playsInline","bottom","href","onTouchStart","onMouseDown","opacity","MediaStreamWithDnD","DndProvider","backend","TouchBackend","options","enableMouseEvents","LinearProgress","OverlayImage","imageName","image","FinalAsessmentSubmission$","assessmentLocation","preferredLocation","StyledPaper","Paper","StyledCard","Card","Report","license","front","driverside","passengerside","rear","ackOpen","setAckOpen","CardHeader","title","titleTypographyProps","align","CardContent","spacing","Intl","DateTimeFormat","format","Date","CardMedia","component","mb","justifyContent","mockJourney","step","contained","CSAItheme","createMuiTheme","typography","fontFamily","join","palette","primary","main","secondary","overrides","MuiButton","textSecondary","MuiCardMedia","img","borderTopLeftRadius","borderTopRightRadius","ErrorBoundary","state","errorInfo","this","setState","children","Component","Journey","setCarData","useParams","nextIndex","setItem","stringify","toLowerCase","history","getComposed","startCase","newComponent","createElement","JourneyModule","default","useHistory","currentIndex","findIndex","mj","getCurrentAndNext","geolocation","getCurrentPosition","latitude","coords","longitude","lat","long","info","then","geoData","currentAction","CssBaseline","theme","Provider","Container"],"mappings":"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","file":"static/js/4.cb7cc325.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nimport { Box } from '@material-ui/core';\r\n\r\nconst TheUnlimited = (props) => {\r\n\treturn (\r\n\t\t<Box p={4}>\r\n\t\t\t<img\r\n\t\t\t\tsrc={props.imageURL}\r\n\t\t\t\talt={props.alt}\r\n\t\t\t\tstyle={{ marginLeft: 'auto', marginRight: 'auto', display: 'block', width: '80vw' }}\r\n\t\t\t></img>\r\n\t\t</Box>\r\n\t);\r\n};\r\n\r\nTheUnlimited.defaultProps = {\r\n\timageURL: '/logos/carScan_logo.png',\r\n\talt: \"Carscan\"\r\n}\r\nexport default TheUnlimited;\r\n","import React from \"react\"\r\n\r\nconst Car = () => {\r\n    return <img src=\"/images/car.png\" style={{width:'95vw'}}/>;\r\n}\r\n\r\nexport default Car;","import axios from 'axios';\r\n\r\n// axios.defaults.baseURL = ;\r\n// axios.defaults.headers.common['Authorization'] = AUTH_TOKEN;\r\naxios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';\r\n\r\nconst  Axios = axios.create({\r\n    baseURL: process.env.REACT_APP_CARDATA_API || \"https://cardata.devinternal.carscan.ai​​\",\r\n    timeout: 30000,\r\n  });\r\n\r\nexport default Axios;\r\n","import Axios from '../Axios';\r\nimport { from } from 'rxjs';\r\n\r\nconst CompanySettings$ = (otp) => from(Axios.get(`/cardata/companies/${otp}/settings`));\r\n\r\nexport default CompanySettings$;\r\n","import Axios from '../Axios';\r\nimport { from } from 'rxjs';\r\n\r\nconst AssessmentId$ = (otp, fieldOne) => from(Axios.post(`/cardata/companies/${otp}/assessments`, {\r\n    \"captcha_id\": \"60cb91e6a1673b6e53f595fa\",\r\n    \"captcha_token\": \"cu2wy\",\r\n    \"device_id\": \"b04d837c-3539-430e-b9ae-159dcbe1e96b\",\r\n    \"field_one\": fieldOne || \"9876567654\",\r\n    \"notification_reg_id\": \"123456789\"\r\n}));\r\n\r\nexport default AssessmentId$;\r\n","import Axios from '../Axios';\r\nimport { from } from 'rxjs';\r\n\r\nconst UpdateAssessmentType$ = (otp, assessmentId, deviceId) => from(Axios.patch(`/cardata/external/companies/${otp}/assessments/${assessmentId}`, {\r\n    \"assessment_type\": \"PRE_INSPECTION\"\r\n}, { headers: { 'device-id': deviceId }, 'Content-Type': 'application/json' }));\r\n\r\nexport default UpdateAssessmentType$;\r\n","import Box from \"@material-ui/core/Box\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport React from \"react\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Logo from \"../../../Logos\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport FormLabel from \"@material-ui/core/FormLabel\";\r\nimport FormGroup from \"@material-ui/core/FormGroup\";\r\nimport Car from \"../../../Car\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport ReactSwipeButton from \"react-swipe-button\";\r\nimport CompanySettings$ from \"../../../../APIConfig/CompanySettings\";\r\nimport AssessmentId$ from \"../../../../APIConfig/AssessmentId\";\r\nimport UpdateAssessmentType$ from \"../../../../APIConfig/UpdateAssessmentType\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport { useEffect } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nconst Login = (props) => {\r\n  const { t } = useTranslation();\r\n  const [checked, setChecked] = React.useState(false);\r\n  const [companyData, setCompanyData] = React.useState(null);\r\n  const [fieldOne, setFieldOne] = React.useState(null);\r\n  const [errors, setErrors] = React.useState([]);\r\n  const swipeButton = React.useRef();\r\n  const [openTermsAndConditions, setOpenTermsAndConditions] =\r\n    React.useState(false);\r\n  const handleChange = () => {\r\n    setChecked(!checked);\r\n  };\r\n  // Load Company Details for the component to get data\r\n  useEffect(() => {\r\n    try {\r\n      CompanySettings$(9994).subscribe((response) =>\r\n        setCompanyData(response.data)\r\n      );\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  }, []);\r\n\r\n  // When the Login Button is swiped take this action\r\n  const handleClicked = () => {\r\n    const errors = [];\r\n    // If the contact number is not set, Register an error\r\n    if (fieldOne === null) {\r\n      errors.push(t(\"Enter the Contact number\"));\r\n    }\r\n\r\n    // If the terms and conditions are not checked, Register an error\r\n    if (!checked) {\r\n      errors.push(\r\n        t(\"Agree to the terms and coditions by selecting the checkbox below\")\r\n      );\r\n    }\r\n\r\n    if (!errors.length) {\r\n      // If there are no errors\r\n      // Fetch the assessment ID and execute the Update the assessment id with the default type as pre inspection.\r\n      AssessmentId$(9994, fieldOne).subscribe((response) =>\r\n        UpdateAssessmentType$(\r\n          9994,\r\n          response.data.assessment_id,\r\n          \"b04d837c-3539-430e-b9ae-159dcbe1e96b\"\r\n        ).subscribe(props.nextAction(response.data))\r\n      );\r\n    } else {\r\n      // Set the errors object\r\n      setErrors(errors);\r\n\r\n      // reset the swipe button;\r\n      swipeButton.current.reset();\r\n    }\r\n  };\r\n  return (\r\n    <React.Fragment>\r\n      {companyData !== null && <Logo imageURL={companyData?.logo} />}\r\n\r\n      <Box pt={2} px={4}>\r\n        <Typography style={{ textAlign: \"center\" }}>\r\n          {t(\"welcome\", {\r\n            company_name:\r\n              companyData !== null ? companyData.company_name : \"our Shop\",\r\n          })}\r\n        </Typography>\r\n      </Box>\r\n      <Box pt={2} px={4}>\r\n        <TextField\r\n          id=\"standard-full-width\"\r\n          placeholder={t(\"Enter Your Contact Number\")}\r\n          fullWidth\r\n          margin=\"normal\"\r\n          variant=\"outlined\"\r\n          onChange={(e) => setFieldOne(e.target.value)}\r\n          InputProps={{\r\n            style: { borderRadius: \"28px\" },\r\n          }}\r\n        />\r\n      </Box>\r\n      <Box pt={4} pl={4}>\r\n        <FormGroup>\r\n          <FormLabel>\r\n            <Checkbox\r\n              color=\"primary\"\r\n              checked={checked}\r\n              onChange={handleChange}\r\n              name=\"Agreed\"\r\n              style={{ float: \"left\" }}\r\n            />\r\n            <Typography variant=\"caption\">\r\n              {t(\"I have read, understood and agreed with your\")}{\" \"}\r\n              <Typography\r\n                color=\"primary\"\r\n\t\t\t\tvariant=\"caption\"\r\n                style={{ cursor: \"pointer\", display: \"inline-block\" }}\r\n                onClick={() => setOpenTermsAndConditions(true)}\r\n              >\r\n                {\" \"}\r\n                {t(\"Terms and Conditions\")}\r\n              </Typography>\r\n            </Typography>\r\n          </FormLabel>\r\n        </FormGroup>\r\n      </Box>\r\n\r\n      <Box p={2}>\r\n        <Car />\r\n      </Box>\r\n      <Box pt={4} px={4}>\r\n        <ReactSwipeButton\r\n          text={t(\"Swipe to Login\")}\r\n          color=\"#EDA03A\"\r\n          onSuccess={handleClicked}\r\n          ref={swipeButton}\r\n        />\r\n      </Box>\r\n      {companyData !== null && (\r\n        <Dialog\r\n          open={openTermsAndConditions}\r\n        //   maxWidth=\"lg\"\r\n\t\tfullScreen\r\n\t\tfullWidth\r\n        //   style={{ width: \"90vw\", height: \"90vh\" }}\r\n        >\r\n          <DialogTitle>{t(\"Terms and Conditions\")}</DialogTitle>\r\n          <DialogContent style={{ overflow: \"hidden\", padding: 0, paddingLeft: 16}}>\r\n            <iframe\r\n              src={companyData.terms_and_conditions_url}\r\n              style={{ width: \"100%\", height: \"100%\", border: \"none\" }}\r\n            ></iframe>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              onClick={() => setOpenTermsAndConditions(false)}\r\n            >\r\n              {t(\"Close\")}\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      )}\r\n      {errors.length !== 0 && (\r\n        <Dialog\r\n          open={errors.length}\r\n          maxWidth=\"lg\"\r\n          style={{ width: \"80vw\", height: \"60vw\" }}\r\n        >\r\n          <DialogTitle>Error!!</DialogTitle>\r\n          <DialogContent style={{ overflow: \"hidden\" }}>\r\n            {errors.map((error) => (\r\n              <Box p={1}>\r\n                <Alert severity=\"error\">{error}</Alert>\r\n              </Box>\r\n            ))}\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              onClick={() => setErrors([])}\r\n            >\r\n              Ok\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nLogin.defaultProps = {\r\n  nextAction: () => {},\r\n  prevAction: () => {},\r\n};\r\nexport default Login;\r\n","import React from \"react\";\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Grid from '@material-ui/core/Grid';\r\nconst OverlayWindow =(props) => {\r\n    return (\r\n        <React.Fragment>\r\n            <Grid container  style={{ height:\"100vh\"}}>\r\n            <Grid item xs={12} className=\"translucent\" style={{height:`${(100 - props.windowSize)/2}%`}}></Grid>\r\n            <Grid item xs={12}  style={{height:`${props.windowSize}%`}}>\r\n                <Grid container  style={{height:\"100%\"}}>\r\n                    <Grid item xs={1} className=\"translucent\">\r\n                    </Grid>\r\n                    <Grid item xs={10} className=\"window\" style={{borderColor: props.borderColor}}>\r\n                        <div className=\"windowCorner topLeftWindowCorner\" style={{borderColor: props.borderColor}}></div>\r\n                        <div className=\"windowCorner topRightWindowCorner\" style={{borderColor: props.borderColor}}></div>\r\n                        <div className=\"windowCorner bottomLeftWindowCorner\" style={{borderColor: props.borderColor}}></div>\r\n                        <div className=\"windowCorner bottomRightWindowCorner\" style={{borderColor: props.borderColor}}></div>\r\n                    </Grid>\r\n                    <Grid item xs={1} className=\"translucent\">\r\n                    </Grid>\r\n                </Grid>    \r\n            </Grid>\r\n            <Grid item xs={12} className=\"translucent\" style={{height:`${(100 - props.windowSize)/2}%`}}></Grid>\r\n            </Grid>\r\n        </React.Fragment>\r\n    )\r\n    // return <Backdrop open={true}></Backdrop>\r\n}\r\nOverlayWindow.defaultProps = {\r\n    windowSize: 15,\r\n    borderColor : '#7EF424',\r\n}\r\n\r\nexport default OverlayWindow;\r\n","import Styled from '@material-ui/core/styles/styled';\r\nimport Box from '@material-ui/core/Box';\r\n\r\nconst OverlayMessageBox = Styled(Box)({\r\n\tposition: 'relative',\r\n\t// margin: 16,\r\n\twidth: '100%',\r\n\ttextAlign: 'center',\r\n\tcolor: '#fff',\r\n\tzIndex: 2002,\r\n\tbackgroundColor: '#000',\r\n\tmaxSize: '640px',\r\n    borderRadius: '8px'\r\n});\r\n\r\nexport default OverlayMessageBox;\r\n","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nconst RoundedButton = (props) => {\r\n\tconst handleClick = () => {\r\n\t\tprops.onClick();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Button\r\n\t\t\tvariant={props.variant}\r\n\t\t\tcolor={props.color}\r\n\t\t\tfullWidth={props.fullWidth}\r\n\t\t\tsize={props.size}\r\n\t\t\tstyle={{ borderRadius: '28px', height: '0.05%', textTransform: 'none', paddingLeft: '16px',  paddingRight: '16px'  }}\r\n\t\t\tonClick={handleClick}\r\n\t\t>\r\n\t\t\t{props.label}\r\n\t\t</Button>\r\n\t);\r\n};\r\n\r\nRoundedButton.defaultProps = {\r\n\tlabel: '',\r\n\tcolor: 'primary',\r\n\tonClick: () => {},\r\n\tfullWidth: true,\r\n\tsize: 'medium',\r\n\tvariant: 'contained',\r\n};\r\n\r\nexport default RoundedButton;\r\n","import Axios from '../Axios';\r\nimport { from } from 'rxjs';\r\n\r\nconst GeneratePresignedUrl$ = (otp, assessmentId, deviceId, fileExtension, md5) => from(Axios.post(`/cardata/external/companies/${otp}/assessments/${assessmentId}/files`, {\r\n  \"fileExtension\": fileExtension,\r\n  \"md5s\": md5\r\n}, { headers: { \"device-id\": deviceId }, 'Content-Type': 'application/json' }));\r\n\r\nexport default GeneratePresignedUrl$;\r\n","import Axios from \"../Axios\";\r\nimport { from } from \"rxjs\";\r\n\r\nconst UploadImageToS3$ = (uploadURL, data, md5, contentType, params) => {\r\n  console.log(\"IMGMD5 UPLOAD\", data);\r\n//   var formData = new FormData();\r\n//   formData.append('file', data, 'someFileName.png');\r\n  return from(\r\n    Axios.request({\r\n      method: \"PUT\",\r\n      url: uploadURL,\r\n      data: data,\r\n      headers: {\r\n        // \"Access-Control-Allow-Origin\": \"*\",\r\n        \"Content-MD5\": md5,\r\n        \"Content-Type\": contentType\r\n      },\r\n    })\r\n  );\r\n};\r\n\r\nexport default UploadImageToS3$;\r\n","import Axios from \"../Axios\";\r\nimport { from } from \"rxjs\";\r\n\r\n// {{url}}/cardata/external/companies/{{otp}}/assessments/{{assessment_id}}/files/{{image_request_id}}\r\nconst UpdateImageFileMetaDataArea$ = (\r\n  otp,\r\n  assessmentId,\r\n  deviceId,\r\n  imageRequestId,\r\n  gps,\r\n  originalImageResolution,\r\n  tags,\r\n  uploadDone\r\n) =>\r\n  from(\r\n    Axios.put(\r\n      `/cardata/external/companies/${otp}/assessments/${assessmentId}/files/${imageRequestId}`,\r\n      {\r\n        \"gps\": gps,\r\n        \"original_image_resolution\" : originalImageResolution,\r\n        \"tags\" : tags,\r\n        \"upload_done\" : uploadDone\r\n      },\r\n      { headers: { \"device-id\": deviceId }, \"Content-Type\": \"application/json\" }\r\n    )\r\n  );\r\n\r\nexport default UpdateImageFileMetaDataArea$;\r\n","import React from 'react';\r\n\r\nconst CarDataContext = React.createContext([]);\r\n\r\nexport default CarDataContext;","import md5 from \"crypto-js/md5\";\r\nimport encLatin1 from \"crypto-js/enc-latin1\";\r\nimport encBase64 from \"crypto-js/enc-base64\";\r\nimport sparkMD5 from 'spark-md5';\r\n\r\nexport const getReso = (width, height) => {\r\n  switch (`${width}x${height}`) {\r\n    case \"4032x3024\":\r\n      return \"DCI 4K (iCAM 12MP)\";\r\n    case \"3840x2160\":\r\n      return \"4K (iCAM 12MP)\";\r\n    case \"4096x2160\":\r\n      return \"DCI 4K\";\r\n    case \"3840x2160\":\r\n      return \"4K\";\r\n    case \"2048x1152\":\r\n      return \"2K\";\r\n    case \"1920x1080\":\r\n      return \"Full HD\";\r\n    case \"1280x720\":\r\n      return \"HD\";\r\n    case \"640x480\":\r\n      return \"SD\";\r\n    default:\r\n      switch (width) {\r\n        case 4032:\r\n          return \"DCI 4K\";\r\n        case 3840:\r\n          return \"4K\";\r\n        case 2048:\r\n          return \"2K\";\r\n        case 1920:\r\n          return \"Full HD\";\r\n        case 1280:\r\n          return \"HD\";\r\n        case 640:\r\n          return \"HD\";\r\n        default:\r\n          return \"Non SD\";\r\n      }\r\n  }\r\n};\r\n\r\nexport async function getMedia() {\r\n  let stream = null;\r\n  const supportedConstraints = navigator.mediaDevices.getSupportedConstraints();\r\n  console.log(\"Supported Constraints\", supportedConstraints);\r\n  try {\r\n    try {\r\n      stream = await navigator.mediaDevices.getUserMedia({\r\n        audio: false,\r\n        video: { facingMode: { exact: \"environment\" } },\r\n      });\r\n    } catch (err) {\r\n      try {\r\n        stream = await navigator.mediaDevices.getUserMedia({\r\n          audio: false,\r\n          video: { facingMode: { exact: \"user\" } },\r\n        });\r\n      } catch (e) {\r\n        stream = await navigator.mediaDevices.getUserMedia({\r\n          audio: false,\r\n          video: true,\r\n        });\r\n      }\r\n    }\r\n\r\n    const videoTracks = await stream.getVideoTracks();\r\n    const videoTrack = videoTracks[0];\r\n    if (\"getCapabilities\" in videoTracks[0]) {\r\n      const capabilities = videoTracks[0].getCapabilities();\r\n    }\r\n    const settings = videoTrack.getSettings();\r\n    let reso = \"\";\r\n    if (navigator.platform.indexOf(\"Mac\") > -1) {\r\n      try {\r\n        // DCI 4K - iCam 12 MP\r\n        reso = \"DCI 4K\";\r\n        const constraints = {\r\n          width: { ideal: 4032 },\r\n          height: { ideal: 3024 },\r\n        };\r\n        await videoTrack.applyConstraints(constraints);\r\n      } catch (e) {\r\n        try {\r\n          // UHD - iCam 8 MP\r\n          reso = \"DCI 4K\";\r\n          const constraints = {\r\n            width: { ideal: 3840 },\r\n            height: { ideal: 2160 },\r\n          };\r\n          await videoTrack.applyConstraints(constraints);\r\n        } catch (e) {\r\n          try {\r\n            // UHD - iCam 8 MP\r\n            reso = \"DCI 4K\";\r\n            const constraints = {\r\n              width: { ideal: 3840 },\r\n              height: { ideal: 2160 },\r\n            };\r\n            await videoTrack.applyConstraints(constraints);\r\n          } catch (e) {\r\n            try {\r\n              // Full HD\r\n              reso = \"Full HD\";\r\n              const constraints = {\r\n                width: { ideal: 1920 },\r\n                height: { ideal: 1080 },\r\n              };\r\n              await videoTrack.applyConstraints(constraints);\r\n            } catch (e) {\r\n              try {\r\n                // HD\r\n                reso = \"HD\";\r\n\r\n                const constraints = {\r\n                  width: { ideal: 1280 },\r\n                  height: { ideal: 720 },\r\n                };\r\n                await videoTrack.applyConstraints(constraints);\r\n              } catch (e) {\r\n                try {\r\n                  // HD\r\n                  reso = \"SD\";\r\n                  const constraints = {\r\n                    width: { ideal: 640 },\r\n                    height: { ideal: 480 },\r\n                  };\r\n                  await videoTrack.applyConstraints(constraints);\r\n                } catch (e) {\r\n                  alert(e);\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      try {\r\n        // DCI 4K\r\n        reso = \"DCI 4K\";\r\n        const constraints = {\r\n          width: { ideal: 4096 },\r\n          height: { ideal: 2160 },\r\n        };\r\n        console.log(\"DCI 4k\", constraints);\r\n        await videoTrack.applyConstraints(constraints);\r\n      } catch (e) {\r\n        try {\r\n          // UHD\r\n          reso = \"UHD\";\r\n          const constraints = {\r\n            width: { ideal: 3840 },\r\n            height: { ideal: 2160 },\r\n          };\r\n          console.log(\"UHD\", constraints);\r\n\r\n          await videoTrack.applyConstraints(constraints);\r\n        } catch (e) {\r\n          try {\r\n            // 2K\r\n            reso = \"2K\";\r\n            const constraints = {\r\n              width: { ideal: 2048 },\r\n              height: { ideal: 1152 },\r\n            };\r\n            console.log(\"2K\", constraints);\r\n\r\n            await videoTrack.applyConstraints(constraints);\r\n          } catch (e) {\r\n            try {\r\n              // Full HD\r\n              reso = \"Full HD\";\r\n              const constraints = {\r\n                width: { ideal: 1920 },\r\n                height: { ideal: 1080 },\r\n              };\r\n              console.log(\"Full HD\", constraints);\r\n\r\n              await videoTrack.applyConstraints(constraints);\r\n            } catch (e) {\r\n              try {\r\n                // HD\r\n                reso = \"HD\";\r\n\r\n                const constraints = {\r\n                  width: { ideal: 1280 },\r\n                  height: { ideal: 720 },\r\n                };\r\n                console.log(\"HD\", constraints);\r\n\r\n                await videoTrack.applyConstraints(constraints);\r\n              } catch (e) {\r\n                try {\r\n                  // HD\r\n                  reso = \"SD\";\r\n                  const constraints = {\r\n                    width: { ideal: 640 },\r\n                    height: { ideal: 480 },\r\n                  };\r\n                  console.log(\"SD\", constraints);\r\n\r\n                  await videoTrack.applyConstraints(constraints);\r\n                } catch (e) {\r\n                  alert(e);\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    const updatedSettings = videoTrack.getSettings();\r\n    updatedSettings.reso = reso;\r\n    return { stream, settings: updatedSettings, reso: reso };\r\n    /* use the stream */\r\n  } catch (err) {\r\n    console.error(err);\r\n    /* handle the error */\r\n  }\r\n}\r\n\r\nexport const getMD5 = (blob, name) =>\r\n  new Promise((resolve, reject) => {\r\n    console.log(\"dataURL\", blob);\r\n    const fileReader = new FileReader();\r\n    const hash = md5(blob);\r\n    fileReader.onloadend = async function (file) {\r\n      const iconName = \"sample\";\r\n      const content = new Uint8Array(fileReader.result);\r\n      \r\n      console.log(fileReader.result);\r\n      const hash = btoa(sparkMD5.ArrayBuffer.hash(fileReader.result, true));//md5(fileReader.result);\r\n      console.log(\"dataURL\", hash, fileReader.result);\r\n      resolve([hash, fileReader.result]);\r\n    };\r\n    fileReader.readAsArrayBuffer(blob);\r\n  });","import React from \"react\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport OverlayWindow from \"../../../OverlayWindow\";\r\nimport OverlayMessageBox from \"../../../OverlayMessageBox\";\r\nimport RoundedButton from \"../../../RoundedButton\";\r\nimport { DialogTitle, Typography } from \"@material-ui/core\";\r\nimport { Dialog, DialogActions } from \"@material-ui/core\";\r\nimport styled from \"@material-ui/core/styles/styled\";\r\nimport GeneratePresignedUrl$ from \"../../../../APIConfig/GeneratePresignedUrl\";\r\nimport UploadImageToS3$ from \"../../../../APIConfig/UploadImageToS3\";\r\nimport UpdateImageFileMetaDataBarcode$ from \"../../../../APIConfig/UpdateImageFileMetaDataBarcode\";\r\nimport CarDataContext from \"../../../../CarDataContext\";\r\nimport {\r\n  BrowserMultiFormatReader,\r\n  NotFoundException,\r\n  Result,\r\n} from \"@zxing/library\";\r\n\r\nimport { getMD5 } from \"../../../MediaStream/helper\";\r\nimport { useEffect } from \"react\";\r\n// import geoLocation from \"../../../../utils/geoLocation\";\r\nconst Divider = styled(Box)({\r\n  height: \"1px\",\r\n  backgroundColor: \"#EBEBEB\",\r\n});\r\nconst License = (props) => {\r\n  const [licenseData, setlicenseData] = React.useState([]);\r\n  const codeReader = new BrowserMultiFormatReader();\r\n  const result = React.useRef();\r\n  const video = React.useRef();\r\n  const handleClicked = () => {\r\n    console.log(\"next Clicked\", props.nextAction);\r\n    props.nextAction(licenseData);\r\n  };\r\n  const handleReset = () => {\r\n    console.log(\"RESET\");\r\n    setlicenseData([]);\r\n    codeReader.reset();\r\n  };\r\n  let carData = React.useContext(CarDataContext);\r\n  if (Object.keys(carData).length === 0 && carData.constructor === Object) {\r\n    carData = {\r\n      login: JSON.parse(sessionStorage.getItem(\"login\")),\r\n      geoLocation: JSON.parse(sessionStorage.getItem(\"geoLocation\")),\r\n    };\r\n  }\r\n  useEffect(async () => {\r\n    let videoInputDevices;\r\n    try {\r\n      videoInputDevices = codeReader.decodeFromConstraints({\r\n        audio: false,\r\n        video: { facingMode: { exact: \"environment\" } },\r\n      });\r\n    } catch (err) {\r\n      try {\r\n        videoInputDevices = codeReader.decodeFromConstraints({\r\n          audio: false,\r\n          video: { facingMode: { exact: \"user\" } },\r\n        });\r\n        // stream = await navigator.mediaDevices.getUserMedia();\r\n      } catch (e) {\r\n        videoInputDevices = codeReader.decodeFromConstraints({\r\n          audio: false,\r\n          video: true,\r\n        });\r\n      }\r\n    }\r\n\r\n    // const videoInputDevices = codeReader.listVideoInputDevices();\r\n    console.log(\"codeReader\", codeReader);\r\n    console.log(\r\n      `Started continous decode from camera with id ${videoInputDevices[0]}`\r\n    );\r\n    console.log(result.current);\r\n    codeReader.decodeFromVideoDevice(\r\n      videoInputDevices[0],\r\n      video.current,\r\n      (res, err) => {\r\n        if (res) {\r\n          const carInfo = res.text.split(\"%\");\r\n          console.log(\"carInfo\", carInfo);\r\n          setlicenseData(carInfo);\r\n          codeReader.captureCanvas.toBlob(async (blob) => {\r\n            // imageRef.current.style.display = \"block\";\r\n            const [md5Data] = await getMD5(blob);\r\n            console.log(\"BLOB\", blob);\r\n            GeneratePresignedUrl$(\r\n              9994,\r\n              carData.login.assessment_id,\r\n              \"b04d837c-3539-430e-b9ae-159dcbe1e96b\",\r\n              \"PNG\",\r\n              md5Data\r\n            ).subscribe((response) => {\r\n              console.log(\"Uploading the Image to the URL \", response.data);\r\n              //   const parsed = s3Client.URLParse(response.data.uploadUrl);\r\n              try {\r\n                UploadImageToS3$(\r\n                  response.data.uploadUrl,\r\n                  blob,\r\n                  md5Data,\r\n                  \"image/png\"\r\n                  // params\r\n                ).subscribe((uploadResponse) => {\r\n                  if (uploadResponse.status === 200 && props.nextAction) {\r\n                    //  otp,assessmentId,deviceId,imageRequestId, gps, originalImageResolution,tags,uploadDone\r\n                    const tags = [\r\n                      {\r\n                        tag_type: \"VEHICLE_IDENTIFIER\",\r\n                        value: \"BAR_CODE\",\r\n                        make: carInfo[9],\r\n                        model: carInfo[8],\r\n                        license_number: carInfo[6],\r\n                        registration_number: carInfo[7],\r\n                        engine_number: carInfo[13],\r\n                        vin_number: carInfo[12],\r\n                      },\r\n                    ];\r\n                    UpdateImageFileMetaDataBarcode$(\r\n                      9994,\r\n                      carData.login.assessment_id,\r\n                      \"b04d837c-3539-430e-b9ae-159dcbe1e96b\",\r\n                      response.data.id,\r\n                      carData.geoLocation,\r\n                      {\r\n                        height: codeReader.captureCanvas.width,\r\n                        width: codeReader.captureCanvas.width,\r\n                      },\r\n                      tags,\r\n                      true\r\n                    );\r\n                  }\r\n                });\r\n              } catch (e) {\r\n                console.error(\"Error\", e);\r\n              }\r\n            });\r\n          });\r\n\r\n          // result.current.textContent = res.text\r\n          codeReader.stopStreams();\r\n        }\r\n        if (err && !(err instanceof NotFoundException)) {\r\n          console.error(err);\r\n          // result.current.textContent = err\r\n        }\r\n      }\r\n    );\r\n  }, []);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Box\r\n        p={2}\r\n        style={{ display: \"block\", width: \"100%\", position: \"absolute\" }}\r\n      >\r\n        <OverlayMessageBox>\r\n          <Box p={2}>\r\n            <Box p={1}>\r\n              <Typography variant=\"body1\">Generate Vehicle Details</Typography>\r\n            </Box>\r\n            <Grid container>\r\n              <Grid item xs={1}></Grid>\r\n              <Grid item xs={4}>\r\n                <Box>\r\n                  <RoundedButton\r\n                    color=\"secondary\"\r\n                    size=\"small\"\r\n                    fullWidth={false}\r\n                    label=\"License Disc\"\r\n                    // onClick={() => setDetailsOpen(true)}\r\n                  />\r\n                </Box>\r\n              </Grid>\r\n              <Grid item xs={1}></Grid>\r\n\r\n              <Grid item xs={4}>\r\n                <Box>\r\n                  <RoundedButton\r\n                    color=\"secondary\"\r\n                    size=\"small\"\r\n                    fullWidth={false}\r\n                    label=\"Vin Number\"\r\n                    variant=\"text\"\r\n                  />\r\n                </Box>\r\n              </Grid>\r\n              <Grid item xs={1}></Grid>\r\n            </Grid>\r\n          </Box>\r\n        </OverlayMessageBox>\r\n      </Box>\r\n      <Box\r\n        p={4}\r\n        style={{\r\n          display: \"block\",\r\n          width: \"100%\",\r\n          position: \"absolute\",\r\n          top: \"20%\",\r\n          zIndex: 200,\r\n          textAlign: \"center\",\r\n          color: \"white\",\r\n        }}\r\n      >\r\n        <Typography>\r\n          Place our License disc within the frames and hold it there for a few\r\n          second.\r\n        </Typography>\r\n      </Box>\r\n      <Box>\r\n        <div>\r\n          <video id=\"video\" width=\"300\" height=\"200\" ref={video}></video>\r\n        </div>\r\n      </Box>\r\n\r\n      <Box style={{ top: 0, left: 0 }}>\r\n        <OverlayWindow windowSize={24} />\r\n      </Box>\r\n      <Box\r\n        p={4}\r\n        style={{\r\n          display: \"block\",\r\n          width: \"100%\",\r\n          position: \"absolute\",\r\n          top: \"64%\",\r\n          zIndex: 200,\r\n          textAlign: \"center\",\r\n          color: \"white\",\r\n        }}\r\n      >\r\n        <Typography>Move Closer to the scan area.</Typography>\r\n      </Box>\r\n      <Dialog open={licenseData.length > 0} size=\"md\">\r\n        <DialogTitle disableTypography=\"false\">\r\n          <Typography variant=\"h4\" style={{ textAlign: \"center\" }}>\r\n            Details found !\r\n          </Typography>\r\n        </DialogTitle>\r\n        <Box p={1} m={2} textAlign=\"center\">\r\n          <Typography variant=\"h6\">{licenseData[9]}</Typography>\r\n          <Divider />\r\n          <Typography variant=\"body2\" textAlign=\"center\">\r\n            Make\r\n          </Typography>\r\n        </Box>\r\n        <Box p={1} m={2} textAlign=\"center\">\r\n          <Typography variant=\"h6\">{licenseData[8]}</Typography>\r\n          <Divider />\r\n          <Typography variant=\"body2\" textAlign=\"center\">\r\n            Model\r\n          </Typography>\r\n        </Box>\r\n        <Box p={1} m={2} textAlign=\"center\">\r\n          <Typography variant=\"h6\">{licenseData[6]}</Typography>\r\n          <Divider />\r\n          <Typography variant=\"body2\" textAlign=\"center\">\r\n            License No\r\n          </Typography>\r\n        </Box>\r\n        <Box p={1} m={2} textAlign=\"center\">\r\n          <Typography variant=\"h6\">{licenseData[12]}</Typography>\r\n          <Divider />\r\n          <Typography variant=\"body2\" textAlign=\"center\">\r\n            Vin No\r\n          </Typography>\r\n        </Box>\r\n        <DialogActions>\r\n          <RoundedButton\r\n            label=\"Retake\"\r\n            color=\"tertiary\"\r\n            onClick={handleReset}\r\n          ></RoundedButton>\r\n          <RoundedButton\r\n            label=\"Confirm\"\r\n            onClick={handleClicked}\r\n          ></RoundedButton>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </React.Fragment>\r\n  );\r\n  // return <Backdrop open={true}></Backdrop>\r\n};\r\n\r\nexport default License;\r\n","import React from 'react';\r\nimport Icon from '@material-ui/core/Icon';\r\nconst CaptureIcon = (props) => {\r\n\treturn (\r\n\t\t<Icon style={{ height: '100%', width: '100%' }}>\r\n\t\t\t<img src='/images/CaptureButton.png' style={{ textAlign: 'center', width: '80px' }} />\r\n\t\t</Icon>\r\n\t);\r\n};\r\n\r\nexport default CaptureIcon;\r\n","import React from 'react';\r\nimport Box from '@material-ui/core/Box';\r\nimport IconButton from '@material-ui/core/IconButton';\r\n\r\nimport CaptureIcon from '../CaptureIcon';\r\n\r\nconst CaptureButton = (props) => {\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tp={4}\r\n\t\t\tstyle={{\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tposition: 'absolute',\r\n\t\t\t\ttop: '40%',\r\n\t\t\t\tright: '0%',\r\n\t\t\t\tzIndex: 205,\r\n\t\t\t\ttextAlign: 'center',\r\n\t\t\t\tcolor: 'white',\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<IconButton onClick={props.onClick}>\r\n\t\t\t\t<CaptureIcon />\r\n\t\t\t</IconButton>\r\n\t\t</Box>\r\n\t);\r\n};\r\n\r\nexport default CaptureButton;","import Axios from \"../Axios\";\r\nimport { from } from \"rxjs\";\r\n\r\n// {{url}}/cardata/external/companies/{{otp}}/assessments/{{assessment_id}}/files/{{image_request_id}}\r\nconst UpdateImageFileMetaDataArea$ = (\r\n  otp,\r\n  assessmentId,\r\n  deviceId,\r\n  imageRequestId,\r\n  gps,\r\n  originalImageResolution,\r\n  tags,\r\n  uploadDone\r\n) =>\r\n  from(\r\n    Axios.put(\r\n      `/cardata/external/companies/${otp}/assessments/${assessmentId}/files/${imageRequestId}`,\r\n      {\r\n        \"gps\": gps,\r\n        \"original_image_resolution\" : originalImageResolution,\r\n        \"tags\" : tags,\r\n        \"upload_done\" : uploadDone\r\n      },\r\n      { headers: { \"device-id\": deviceId }, \"Content-Type\": \"application/json\" }\r\n    )\r\n  );\r\n\r\nexport default UpdateImageFileMetaDataArea$;\r\n","import React, { useEffect } from \"react\";\r\nimport { getMedia, getReso, getMD5 } from \"./helper\";\r\nimport { useDrag, useDragDropManager, useDrop } from \"react-dnd\";\r\n\r\nimport DebugData from \"../DebugData\";\r\nimport { usePreview } from \"react-dnd-preview\";\r\n// import Hierarchy from './components/Hierarchy';\r\nimport CaptureButton from \"../CaptureButton\";\r\nimport GeneratePresignedUrl$ from \"../../APIConfig/GeneratePresignedUrl\";\r\nimport UploadImageToS3$ from \"../../APIConfig/UploadImageToS3\";\r\nimport UpdateImageFileMetaDataArea$ from \"../../APIConfig/UpdateImageFileMetaDataArea\";\r\nimport CarDataContext from \"../../CarDataContext\";\r\n\r\nimport { S3Client } from \"@aws-sdk/client-s3\";\r\n// or with ES6 modulesBinaryBitmap(new HybridBinarizer\r\nimport {\r\n  MultiFormatReader,\r\n  BarcodeFormat,\r\n  DecodeHintType,\r\n  RGBLuminanceSource,\r\n  BitmapLuminanceSource,\r\n  BinaryBitmap,\r\n  BitSource,\r\n  HybridBinarizer,\r\n  PDF417Reader,\r\n} from \"@zxing/library\";\r\n\r\nconst ItemTypes = {\r\n  BOUNDARY: \"boundry\",\r\n};\r\n\r\nconst MediaStream = (props) => {\r\n  const debug = false;\r\n  const videoRef = React.useRef();\r\n  const videoWrapper = React.useRef();\r\n\r\n  const imageRef = React.useRef();\r\n  const thumbnail = React.useRef();\r\n  const bboxWrapper = React.useRef();\r\n  const canvasRef = React.useRef();\r\n  const imageCanvasRef = React.useRef();\r\n  const [currentBBox, setCurrentBBox] = React.useState();\r\n  const downloadAnchor = React.useRef();\r\n  const [mediaSettings, setMediaSettings] = React.useState({});\r\n  const [debugData, setDebugData] = React.useState({});\r\n  const [capturing, setCapturing] = React.useState(false);\r\n  const [bboxProperties, setBboxProperties] = React.useState();\r\n  const [stage, setStage] = React.useState(\"INIT\");\r\n  const dragDropManager = useDragDropManager();\r\n  const monitor = dragDropManager.getMonitor();\r\n  const imageBboxRef = React.useRef();\r\n  const [currentPosition, setCurrentPosition] = React.useState({ x: 0, y: 0 });\r\n  const [dragInitPositionDiff, setDragInitPositionDiff] = React.useState({\r\n    x: 0,\r\n    y: 0,\r\n  });\r\n  let carData = React.useContext(CarDataContext);\r\n  if (Object.keys(carData).length === 0 && carData.constructor === Object) {\r\n    carData = {\r\n      login: JSON.parse(sessionStorage.getItem(\"login\")),\r\n      geoLocation: JSON.parse(sessionStorage.getItem(\"geoLocation\")),\r\n    };\r\n  }\r\n  console.log(\"carData\", carData);\r\n  const [{ isDragging }, bbox] = useDrag(() => ({\r\n    type: ItemTypes.BOUNDARY,\r\n    collect: (monitor) => ({\r\n      isDragging: !!monitor.isDragging(),\r\n    }),\r\n  }));\r\n  const [{ isOver }, drop] = useDrop(\r\n    () => ({\r\n      accept: ItemTypes.BOUNDARY,\r\n      drop: () => moveBox(currentBBox, currentPosition, dragInitPositionDiff),\r\n      collect: (monitor) => ({\r\n        isOver: !!monitor.isOver(),\r\n      }),\r\n    }),\r\n    [currentPosition, dragInitPositionDiff, currentBBox]\r\n  );\r\n  const moveBox = (cbbox, cp, diff) => {\r\n    const x = cp.x - diff.x;\r\n    const y = cp.y - diff.y;\r\n    console.log(cbbox, cp, diff);\r\n    const rbox = cbbox.current.getClientRects();\r\n    const x1 = x + rbox[0].width;\r\n    const y1 = y + rbox[0].height;\r\n    cbbox.current.style.left = `${x}px`;\r\n    cbbox.current.style.top = `${y}px`;\r\n    const newBboxProperties = {\r\n      ...bboxProperties,\r\n      [cbbox.current.id]: [\r\n        { x, y },\r\n        { x: x1, y: y1 },\r\n      ],\r\n    };\r\n    setBboxProperties(newBboxProperties);\r\n    // drag.current.left = `${currentPosition.x}px`;\r\n    // drag.current.top = `${currentPosition.y}px`;\r\n  };\r\n  const MyPreview = () => {\r\n    const { display, itemType, item, style } = usePreview();\r\n    if (!display) {\r\n      return null;\r\n    }\r\n    return (\r\n      <div className=\"boundingBoxWrapper\" style={style}>\r\n        <div className=\"boundingBox\"></div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const getTargetDimensions = (ms) => {\r\n    const video_width = ms.width;\r\n    const video_height = ms.height;\r\n    let to_width = videoWrapper.current.offsetWidth;\r\n    let to_height = videoWrapper.current.offsetHeight;\r\n    if (to_width > to_height) {\r\n      to_height = Math.floor((to_width * video_height) / video_width);\r\n    } else {\r\n      to_width = Math.floor((to_height * video_width) / video_height);\r\n    }\r\n    const scaleRatioY = to_height / video_height;\r\n    const scaleRatioX = to_width / video_width;\r\n    let to_x = 0;\r\n    let to_y = 0;\r\n    if (to_width > document.documentElement.clientWidth) {\r\n      to_x = -(to_width - document.documentElement.clientWidth) / 2;\r\n    }\r\n    // if(to_width > to_height) {\r\n    // \tif (video_width > to_width) {\r\n    // \t\tto_x = -Math.ceil(scaleRatioX * 100);\r\n    // \t\tto_y = -Math.ceil(scaleRatioY * 100);\r\n    // \t} else {\r\n    // \t\tto_x = -Math.ceil((video_width / to_width) * 100);\r\n    // \t\tto_y = -Math.ceil((video_height / to_height) * 100);\r\n    // \t}\r\n    // } else {\r\n    // \tif (video_width > to_height) {\r\n    // \t\tto_x = (video_width - to_height) / 2;\r\n    // \t\tto_y = -Math.ceil(scaleRatioY * 100);\r\n    // \t} else {\r\n    // \t\tto_x = -Math.ceil((video_width / to_width) * 100);\r\n    // \t\tto_y = -Math.ceil((video_height / to_height) * 100);\r\n    // \t}\r\n    // }\r\n\r\n    console.log(video_width, video_height, to_width, to_height, to_x, to_y);\r\n    return [\r\n      video_width,\r\n      video_height,\r\n      to_width,\r\n      to_height,\r\n      to_x,\r\n      to_y,\r\n      scaleRatioX,\r\n      scaleRatioY,\r\n    ];\r\n  };\r\n\r\n  const renderMedia = React.useCallback(async () => {\r\n    const media = await getMedia();\r\n    if (media && videoRef.current) {\r\n      if (\"srcObject\" in videoRef.current) {\r\n        videoRef.current.srcObject = media.stream;\r\n      } else {\r\n        videoRef.src = window.URL.createObjectURL(media.stream);\r\n      }\r\n      setMediaSettings(media.settings);\r\n      const [\r\n        video_width,\r\n        video_height,\r\n        to_width,\r\n        to_height,\r\n        to_x,\r\n        to_y,\r\n        scaleRatioX,\r\n        scaleRatioY,\r\n      ] = getTargetDimensions(media.settings);\r\n\r\n      videoRef.current.width = video_width;\r\n      videoRef.current.height = video_height;\r\n      imageRef.current.width = video_width;\r\n      imageRef.current.height = video_height;\r\n      if (to_width < document.documentElement.clientWidth) {\r\n        videoRef.current.style.transform = `translate(${-videoRef.current\r\n          .offsetLeft}px, ${-videoRef.current\r\n          .offsetTop}px) scale(${scaleRatioX}, ${scaleRatioY})`;\r\n      } else {\r\n        console.log(\r\n          `translate(${-to_x}px, ${-to_y}px) scale(${scaleRatioX}, ${scaleRatioY})`\r\n        );\r\n        videoRef.current.style.transform = `translate(${to_x}px, ${-videoRef\r\n          .current.offsetTop}px) scale(${scaleRatioX}, ${scaleRatioY})`;\r\n      }\r\n\r\n      videoRef.current.style.transformOrigin = \"top left\";\r\n      imageCanvasRef.current.width = video_width; //media.settings.width; //window.innerWidth;\r\n      imageCanvasRef.current.height = video_height; //media.settings.height; //window.innerHeight;\r\n      imageCanvasRef.current.style.width = `${to_width}px`;\r\n      imageCanvasRef.current.style.height = `${to_height}px`;\r\n      const newDebugData = {\r\n        video: `${video_width} x ${video_height} (${getReso(\r\n          video_width,\r\n          video_height\r\n        )})`,\r\n        scale: `${scaleRatioX} x ${scaleRatioY}`,\r\n        media: `${media.settings.width} x ${media.settings.height}`,\r\n        target: `${to_width} x ${to_height}`,\r\n        targetXY: `${to_x} x ${to_y}`,\r\n      };\r\n      // setInterval(() => readBarcode(to_width, to_height), 2000)\r\n      setDebugData(newDebugData);\r\n    }\r\n  }, [videoRef, videoWrapper, canvasRef, imageCanvasRef]);\r\n\r\n  window.addEventListener(\"orientationchange\", function (event) {\r\n    renderMedia();\r\n  });\r\n\r\n  useEffect(async () => {\r\n    renderMedia();\r\n  }, [videoRef, videoWrapper, canvasRef, imageCanvasRef]);\r\n\r\n  const captureImage = async () => {\r\n    const [\r\n      video_width,\r\n      video_height,\r\n      to_width,\r\n      to_height,\r\n      to_x,\r\n      to_y,\r\n      scaleRatioX,\r\n      scaleRatioY,\r\n    ] = getTargetDimensions(mediaSettings);\r\n\r\n    const ctx = imageCanvasRef.current.getContext(\"2d\");\r\n    setCapturing(true);\r\n    videoRef.current.pause();\r\n    // videoRef.current.currentTime = 0;\r\n    // ctx.scale(scaleRatioX, scaleRatioY);\r\n    ctx.drawImage(videoRef.current, 0, 0);\r\n\r\n    // const url = imageCanvasRef.current.toDataURL(\"image/png\");\r\n    // const imgData =ctx.getImageData(0,0,to_width, to_height);\r\n    const thumbWidth = 480;\r\n    const ctxt = thumbnail.current.getContext(\"2d\");\r\n    thumbnail.current.width = thumbWidth; //imageCanvasRef.current.width;\r\n    thumbnail.current.height = thumbnail.current.width / 1.7;\r\n    ctxt.scale(\r\n      thumbWidth / imageCanvasRef.current.width,\r\n      thumbWidth / 1.7 / imageCanvasRef.current.height\r\n    );\r\n    ctxt.drawImage(videoRef.current, 2, 0);\r\n    const thumbnailUrl = thumbnail.current.toDataURL(\"image/png\");\r\n    // downloadAnchor.current.href = thumbnailUrl;\r\n    // downloadAnchor.current.download = 'MyPhoto.png';\r\n    // downloadAnchor.current.click();\r\n    imageCanvasRef.current.toBlob(async (blob) => {\r\n      // imageRef.current.style.display = \"block\";\r\n      const [md5Data] = await getMD5(blob);\r\n      console.log(\"BLOB\", blob);\r\n      GeneratePresignedUrl$(\r\n        9994,\r\n        carData.login.assessment_id,\r\n        \"b04d837c-3539-430e-b9ae-159dcbe1e96b\",\r\n        \"PNG\",\r\n        md5Data\r\n      ).subscribe((response) => {\r\n        console.log(\"Uploading the Image to the URL \", response.data);\r\n        //   const parsed = s3Client.URLParse(response.data.uploadUrl);\r\n        try {\r\n          UploadImageToS3$(\r\n            response.data.uploadUrl,\r\n            blob,\r\n            md5Data,\r\n            \"image/png\"\r\n            // params\r\n          ).subscribe((uploadResponse) => {\r\n            if (uploadResponse.status === 200 && props.nextAction) {\r\n              //  otp,assessmentId,deviceId,imageRequestId, gps, originalImageResolution,tags,uploadDone\r\n              UpdateImageFileMetaDataArea$(\r\n                9994,\r\n                carData.login.assessment_id,\r\n                \"b04d837c-3539-430e-b9ae-159dcbe1e96b\",\r\n                response.data.id,\r\n                carData.geoLocation,\r\n                {\r\n                  height: video_width,\r\n                  width: video_height,\r\n                },\r\n                [\r\n                  {\r\n                    tag_type: \"AREA\",\r\n                    value: props.side,\r\n                  },\r\n                ],\r\n                true\r\n              );\r\n              props.nextAction({ ...response.data, thumbnail: thumbnailUrl });\r\n            }\r\n          });\r\n        } catch (e) {\r\n          console.error(\"Error\", e);\r\n        }\r\n      });\r\n    });\r\n    setTimeout(() => setCapturing(false), 3000);\r\n    setStage(\"CAPTURED\");\r\n  };\r\n\r\n  const captureBox = () => {\r\n    const video_width = mediaSettings.width;\r\n    const video_height = mediaSettings.height;\r\n    const to_width = videoWrapper.current.offsetWidth; //document.documentElement.clientWidth; //window.innerWidth;\r\n    const to_height = Math.floor((to_width * video_height) / video_width); //window.innerHeight;\r\n    // const ratio = media.settings.aspectRatio;\r\n    const scaleRatioY = to_height / video_height;\r\n    const scaleRatioX = to_width / video_width;\r\n    const ctx = imageCanvasRef.current.getContext(\"2d\");\r\n    ctx.lineWidth = \"2\";\r\n\r\n    ctx.globalAlpha = 0.2;\r\n    ctx.fillStyle = \"#FFD600\";\r\n\r\n    ctx.fillRect(\r\n      bboxWrapper.current.offsetLeft / scaleRatioX,\r\n      bboxWrapper.current.offsetTop / scaleRatioY,\r\n      bboxWrapper.current.offsetWidth / scaleRatioX,\r\n      bboxWrapper.current.offsetHeight / scaleRatioY\r\n    );\r\n    ctx.globalAlpha = 1;\r\n    ctx.strokeStyle = \"#ff7300\";\r\n    ctx.stroke();\r\n    setCapturing(true);\r\n    // videoRef.current.pause();\r\n    // videoRef.current.currentTime = 0;\r\n    // // ctx.scale(scaleRatioX, scaleRatioY);\r\n    // ctx.drawImage(videoRef.current, 0, 0);\r\n\r\n    const url = imageCanvasRef.current.toDataURL(\"image/png\");\r\n    imageBboxRef.current.src = url;\r\n    videoRef.current.style.display = \"none\";\r\n    imageBboxRef.current.style.display = \"block\";\r\n    imageRef.current.style.display = \"none\";\r\n    // videoWrapper.current.style.oveflor ='auto';\r\n    // imageRef.current.style.transform = `translate(${-videoRef.current.offsetLeft}px, ${-videoRef.current\r\n    // .offsetTop}px) scale(${scaleRatioX}, ${scaleRatioY})`;\r\n    imageBboxRef.current.style.transformOrigin = \"top left\";\r\n    videoRef.current.style.display = \"none\";\r\n    imageBboxRef.current.style.display = \"block\";\r\n    // photo.current.setAttribute('src', url);\r\n    // downloadAnchor.current.href = url;\r\n    // downloadAnchor.current.download = 'MyPhoto.png';\r\n    // downloadAnchor.current.click();\r\n    // //\r\n    // window.URL.revokeObjectURL(url);\r\n    setTimeout(() => setCapturing(false), 3000);\r\n    setStage(\"CAPTURED\");\r\n  };\r\n  React.useEffect(() => {\r\n    monitor.subscribeToOffsetChange(() => {\r\n      const offset = monitor.getClientOffset();\r\n      const initialClientOffset = monitor.getInitialClientOffset();\r\n      const initialSourceClientOffset = monitor.getInitialSourceClientOffset();\r\n      if (initialClientOffset && initialSourceClientOffset) {\r\n        setDragInitPositionDiff({\r\n          x: initialClientOffset.x - initialSourceClientOffset.x,\r\n          y: initialClientOffset.y - initialSourceClientOffset.y,\r\n        });\r\n        setCurrentPosition(offset);\r\n      }\r\n\r\n      // do stuff like setState, though consider directly updating style through refs for performance\r\n    });\r\n  }, [monitor]);\r\n  const reset = () => {\r\n    videoRef.current.style.display = \"block\";\r\n    const ctx = imageCanvasRef.current.getContext(\"2d\");\r\n    ctx.clearRect(\r\n      0,\r\n      0,\r\n      imageCanvasRef.current.width,\r\n      imageCanvasRef.current.height\r\n    );\r\n    ctx.globalAlpha = 1;\r\n    imageBboxRef.current.style.display = \"none\";\r\n    imageRef.current.style.display = \"none\";\r\n    videoRef.current.play();\r\n    setStage(\"INIT\");\r\n  };\r\n  console.log(\"DRAGGING\", isDragging);\r\n  return (\r\n    <div ref={drop}>\r\n      {debug && (\r\n        <div id=\"debug\">\r\n          <DebugData debugData={debugData} />\r\n        </div>\r\n      )}\r\n      <div\r\n        ref={videoWrapper}\r\n        className=\"videoWrapper\"\r\n        style={{ overflow: stage === \"CAPTURED\" ? \"auto\" : \"hidden\" }}\r\n      >\r\n        {/* <div ref={videoWrapper}> */}\r\n        <video\r\n          ref={videoRef}\r\n          id=\"camvideo\"\r\n          autoPlay\r\n          playsInline\r\n          // onLoadedMetadata={metaDataLoadHandle}\r\n          // style={{ display: 'none' }}\r\n          // className=\"videosize\"\r\n        ></video>\r\n        <img\r\n          ref={imageRef}\r\n          style={{ border: \"solid 2px red\", display: \"none\" }}\r\n        ></img>\r\n        <img\r\n          ref={imageBboxRef}\r\n          style={{ border: \"solid 2px red\", display: \"none\" }}\r\n        ></img>\r\n      </div>\r\n\r\n      <div style={{ position: \"absolute\" }}>\r\n        <canvas\r\n          ref={canvasRef}\r\n          style={{ border: \"solid 2px red\", display: \"none\" }}\r\n        ></canvas>\r\n        <canvas\r\n          ref={imageCanvasRef}\r\n          style={{ border: \"solid 2px green\", display: \"none\" }}\r\n        ></canvas>\r\n        <canvas\r\n          ref={thumbnail}\r\n          style={{\r\n            border: \"solid 2px orange\",\r\n            position: \"absolute\",\r\n            bottom: \"10px\",\r\n            zIndex: \"1000\",\r\n            display: \"none\",\r\n          }}\r\n        ></canvas>\r\n      </div>\r\n      <a\r\n        id=\"downloadAnchor\"\r\n        href=\"http://chetandr.github.com\"\r\n        ref={downloadAnchor}\r\n        style={{ display: \"none\" }}\r\n      >\r\n        image\r\n      </a>\r\n      {stage === \"BBOX\" && (\r\n        <div\r\n          className=\"boundingBoxWrapper\"\r\n          id=\"bbox\"\r\n          ref={bboxWrapper}\r\n          onTouchStart={() => setCurrentBBox(bboxWrapper)}\r\n          onMouseDown={() => setCurrentBBox(bboxWrapper)}\r\n          style={{ opacity: isDragging ? 0 : 1 }}\r\n        >\r\n          <div\r\n            className=\"boundingBox\"\r\n            ref={bbox}\r\n            style={{\r\n              cursor: \"move\",\r\n              display: \"inline-block\",\r\n            }}\r\n          ></div>\r\n        </div>\r\n      )}\r\n      <a\r\n        id=\"downloadAnchor\"\r\n        href=\"http://chetandr.github.com\"\r\n        ref={downloadAnchor}\r\n        style={{ display: \"none\" }}\r\n      >\r\n        image\r\n      </a>\r\n      <MyPreview />\r\n      <CaptureButton onClick={captureImage} />\r\n    </div>\r\n  );\r\n};\r\n\r\nMediaStream.defaultProps = {\r\n  nextAction: () => {},\r\n  side:\"\"\r\n};\r\nexport default MediaStream;\r\n","import { DndProvider } from \"react-dnd\";\r\nimport MediaStream from \"../MediaStream\";\r\nimport { TouchBackend } from \"react-dnd-touch-backend\";\r\nimport { LinearProgress } from \"@material-ui/core\";\r\nfunction MediaStreamWithDnD(props) {\r\n  if (props.side) {\r\n    return (\r\n      <DndProvider backend={TouchBackend} options={{ enableMouseEvents: true }}>\r\n        <MediaStream nextAction={props.nextAction} side={props.side} />\r\n      </DndProvider>\r\n    );\r\n  } else {\r\n    return <LinearProgress />;\r\n  }\r\n}\r\n\r\nMediaStreamWithDnD.defaultProps = {\r\n  nextAction: () => {},\r\n  side: \"\",\r\n};\r\n\r\nexport default MediaStreamWithDnD;\r\n","import React from 'react';\r\n\r\nconst OverlayImage = (props) => {\r\n\tconst imageName = `/images/overlays/${props.image}`;\r\n\treturn <img src={imageName} width={props.width} />;\r\n};\r\n\r\nOverlayImage.defaultProps = {\r\n\timage: 'FrontFull.png',\r\n\twidth: '60%',\r\n};\r\n\r\nexport default OverlayImage;\r\n","import React from 'react';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Button from '@material-ui/core/Button';\r\nimport OverlayWindow from '../../../OverlayWindow';\r\nimport MediaStreamWithDnD from '../../../MediaStreamWithDnD';\r\nimport OverlayImage from '../../../OverlayImage';\r\nimport RoundedButton from '../../../RoundedButton';\r\nimport { Typography } from '@material-ui/core';\r\nimport PhotoCameraRounded from '@material-ui/icons/PhotoCameraRounded';\r\nimport CaptureIcon from '../../../CaptureIcon';\r\nimport CaptureButton from '../../../CaptureButton';\r\nconst License = (props) => {\r\n\tconst handleClicked = (data) => {\r\n\t\tconsole.log('next Clicked', props.nextAction);\r\n\t\tprops.nextAction(data);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<Box\r\n\t\t\t\tp={4}\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tdisplay: 'block',\r\n\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\ttop: '10px',\r\n\t\t\t\t\tzIndex: 200,\r\n\t\t\t\t\ttextAlign: 'center',\r\n\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Typography>Position front of the car within the outlines and take a photo.</Typography>\r\n\t\t\t</Box>\r\n\r\n\t\t\t<MediaStreamWithDnD nextAction={handleClicked} side=\"FRONT_SIDE\"/>\r\n\t\t\t{/* <Box style={{ postion: 'absolute', top: 0, left: 0 }}>\r\n\t\t\t\t<OverlayWindow windowSize={24} />\r\n\t\t\t</Box> */}\r\n\t\t\t{/* <CaptureButton onClick={handleClicked}/> */}\r\n\t\t\t<Box\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tdisplay: 'block',\r\n\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\ttop: '20%',\r\n\t\t\t\t\tzIndex: 200,\r\n\t\t\t\t\ttextAlign: 'center',\r\n\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<OverlayImage image='FrontFull.png' width=\"50%\"/>\r\n\t\t\t</Box>\r\n\t\t</React.Fragment>\r\n\t);\r\n\t// return <Backdrop open={true}></Backdrop>\r\n};\r\n\r\nexport default License;\r\n","import React from 'react';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Button from '@material-ui/core/Button';\r\nimport OverlayWindow from '../../../OverlayWindow';\r\nimport MediaStreamWithDnD from '../../../MediaStreamWithDnD';\r\nimport OverlayImage from '../../../OverlayImage';\r\nimport RoundedButton from '../../../RoundedButton';\r\nimport { Typography } from '@material-ui/core';\r\nimport PhotoCameraRounded from '@material-ui/icons/PhotoCameraRounded';\r\nimport CaptureIcon from '../../../CaptureIcon';\r\nimport CaptureButton from '../../../CaptureButton';\r\nconst License = (props) => {\r\n\tconst handleClicked = (data) => {\r\n\t\tconsole.log('next Clicked', props.nextAction);\r\n\t\tprops.nextAction(data);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<Box\r\n\t\t\t\tp={4}\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tdisplay: 'block',\r\n\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\ttop: '10px',\r\n\t\t\t\t\tzIndex: 200,\r\n\t\t\t\t\ttextAlign: 'center',\r\n\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Typography>Position driver side of the car within the outlines and take a photo.</Typography>\r\n\t\t\t</Box>\r\n\r\n\t\t\t<MediaStreamWithDnD nextAction={handleClicked} side=\"DRIVER_SIDE\"/>\r\n\t\t\t{/* <Box style={{ postion: 'absolute', top: 0, left: 0 }}>\r\n\t\t\t\t<OverlayWindow windowSize={24} />\r\n\t\t\t</Box> */}\r\n\t\t\t{/* <CaptureButton onClick={handleClicked}/> */}\r\n\t\t\t<Box\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tdisplay: 'block',\r\n\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\ttop: '35%',\r\n\t\t\t\t\tzIndex: 200,\r\n\t\t\t\t\ttextAlign: 'center',\r\n\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<OverlayImage image='DriverSideFull.png' />\r\n\t\t\t</Box>\r\n\t\t</React.Fragment>\r\n\t);\r\n\t// return <Backdrop open={true}></Backdrop>\r\n};\r\n\r\nexport default License;\r\n","import React from 'react';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Button from '@material-ui/core/Button';\r\nimport OverlayWindow from '../../../OverlayWindow';\r\nimport MediaStreamWithDnD from '../../../MediaStreamWithDnD';\r\nimport OverlayImage from '../../../OverlayImage';\r\nimport RoundedButton from '../../../RoundedButton';\r\nimport { Typography } from '@material-ui/core';\r\nimport PhotoCameraRounded from '@material-ui/icons/PhotoCameraRounded';\r\nimport CaptureIcon from '../../../CaptureIcon';\r\nimport CaptureButton from '../../../CaptureButton';\r\nconst License = (props) => {\r\n\tconst handleClicked = (data) => {\r\n\t\tconsole.log('next Clicked', props.nextAction);\r\n\t\tprops.nextAction(data);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<Box\r\n\t\t\t\tp={4}\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tdisplay: 'block',\r\n\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\ttop: '10px',\r\n\t\t\t\t\tzIndex: 200,\r\n\t\t\t\t\ttextAlign: 'center',\r\n\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Typography>Position passenger side of the car within the outlines and take a photo.</Typography>\r\n\t\t\t</Box>\r\n\r\n\t\t\t<MediaStreamWithDnD nextAction={handleClicked} side=\"PASSENGER_SIDE\"/>\r\n\t\t\t{/* <Box style={{ postion: 'absolute', top: 0, left: 0 }}>\r\n\t\t\t\t<OverlayWindow windowSize={24} />\r\n\t\t\t</Box> */}\r\n\t\t\t{/* <CaptureButton onClick={handleClicked}/> */}\r\n\t\t\t<Box\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tdisplay: 'block',\r\n\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\ttop: '35%',\r\n\t\t\t\t\tzIndex: 200,\r\n\t\t\t\t\ttextAlign: 'center',\r\n\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<OverlayImage image=\"PassengerSideFull.png\"/>\r\n\t\t\t</Box>\r\n\t\t</React.Fragment>\r\n\t);\r\n\t// return <Backdrop open={true}></Backdrop>\r\n};\r\n\r\nexport default License;\r\n","import React from 'react';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Button from '@material-ui/core/Button';\r\nimport OverlayWindow from '../../../OverlayWindow';\r\nimport MediaStreamWithDnD from '../../../MediaStreamWithDnD';\r\nimport OverlayImage from '../../../OverlayImage';\r\nimport RoundedButton from '../../../RoundedButton';\r\nimport { Typography } from '@material-ui/core';\r\nimport PhotoCameraRounded from '@material-ui/icons/PhotoCameraRounded';\r\nimport CaptureIcon from '../../../CaptureIcon';\r\nimport CaptureButton from '../../../CaptureButton';\r\nconst License = (props) => {\r\n\tconst handleClicked = (data) => {\r\n\t\tconsole.log('next Clicked', props.nextAction);\r\n\t\tprops.nextAction(data);\r\n\t};\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<Box\r\n\t\t\t\tp={4}\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tdisplay: 'block',\r\n\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\ttop: '10px',\r\n\t\t\t\t\tzIndex: 200,\r\n\t\t\t\t\ttextAlign: 'center',\r\n\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Typography>Position rear of the car within the outlines and take a photo.</Typography>\r\n\t\t\t</Box>\r\n\r\n\t\t\t<MediaStreamWithDnD nextAction={handleClicked} side=\"REAR_SIDE\"/>\r\n\t\t\t{/* <Box style={{ postion: 'absolute', top: 0, left: 0 }}>\r\n\t\t\t\t<OverlayWindow windowSize={24} />\r\n\t\t\t</Box> */}\r\n\t\t\t{/* <CaptureButton onClick={handleClicked}/> */}\r\n\t\t\t<Box\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tdisplay: 'block',\r\n\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\ttop: '20%',\r\n\t\t\t\t\tzIndex: 200,\r\n\t\t\t\t\ttextAlign: 'center',\r\n\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<OverlayImage image='RearFull.png' width=\"50%\"/>\r\n\t\t\t</Box>\r\n\t\t</React.Fragment>\r\n\t);\r\n\t// return <Backdrop open={true}></Backdrop>\r\n};\r\n\r\nexport default License;\r\n","import Axios from '../Axios';\r\nimport { from } from 'rxjs';\r\n\r\nconst FinalAsessmentSubmission$ = (otp, assessmentId, deviceId, assessmentLocation, preferredLocation) => from(Axios.post(`/cardata/external/companies/${otp}/assessments/${assessmentId}/submit`, {\r\n  \"assessment_location\": assessmentLocation,\r\n  \"preferred_location\": preferredLocation\r\n}, { headers: { \"device-id\": deviceId }, 'Content-Type': 'application/json' }));\r\n\r\nexport default FinalAsessmentSubmission$;\r\n","import Typography from \"@material-ui/core/Typography\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport React from \"react\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport CardHeader from \"@material-ui/core/CardHeader\";\r\nimport CardMedia from \"@material-ui/core/CardMedia\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport styled from \"@material-ui/core/styles/styled\";\r\nimport RoundedButton from \"../../../RoundedButton\";\r\nimport { DialogTitle } from \"@material-ui/core\";\r\nimport { Dialog, DialogActions, DialogContent } from \"@material-ui/core\";\r\nimport CarDataContext from \"../../../../CarDataContext\";\r\nimport { useContext } from \"react\";\r\nimport FinalAsessmentSubmission$ from \"../../../../APIConfig/FinalAsessmentSubmission\";\r\n\r\nconst StyledPaper = styled(Paper)({\r\n  margin: \"16px 8px 16px 8px\",\r\n  borderRadius: \"16px\",\r\n  border: \"solid 1px #DADCE6\",\r\n});\r\n\r\nconst StyledCard = styled(Card)({\r\n  margin: \"8px\",\r\n  backgroundColor: \"#F0F1F5\",\r\n});\r\nconst Report = () => {\r\n  let carData = useContext(CarDataContext);\r\n  if (!Object.keys(carData).length) {\r\n    carData = {\r\n      license: JSON.parse(sessionStorage.getItem(\"license\")),\r\n      login: JSON.parse(sessionStorage.getItem(\"login\")),\r\n      front: JSON.parse(sessionStorage.getItem(\"front\")),\r\n      driverside: JSON.parse(sessionStorage.getItem(\"driverside\")),\r\n      passengerside: JSON.parse(sessionStorage.getItem(\"passengerside\")),\r\n      rear: JSON.parse(sessionStorage.getItem(\"rear\")),\r\n      geoLocation: JSON.parse(sessionStorage.getItem(\"geoLocation\")),\r\n    };\r\n  }\r\n  \r\n  console.log(\"carData\", carData);\r\n  const [ackOpen, setAckOpen] = React.useState(false);\r\n\r\n  const onSubmit = () => {\r\n    // otp, assessmentId, deviceId, assessmentLocation, preferredLocation\r\n    FinalAsessmentSubmission$(\r\n      9994,\r\n      carData.login.assessment_id,\r\n      \"b04d837c-3539-430e-b9ae-159dcbe1e96b\",\r\n      carData.geoLocation,\r\n      carData.geoLocation\r\n    ).subscribe((response) => setAckOpen(true))\r\n    \r\n  }\r\n  return (\r\n    <Box>\r\n      <Card>\r\n        <CardHeader\r\n          title=\"Assessment Summary\"\r\n          titleTypographyProps={{ align: \"center\" }}\r\n        />\r\n        <CardContent>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={6}>\r\n              <Box p={2}>\r\n                <Typography variant=\"body2\">Make</Typography>\r\n                <Typography variant=\"h6\">{carData.license[9]}</Typography>\r\n              </Box>\r\n            </Grid>\r\n            <Grid item xs={6}>\r\n              <Box p={2}>\r\n                <Typography variant=\"body2\">Model</Typography>\r\n                <Typography variant=\"h6\">{carData.license[8]}</Typography>\r\n              </Box>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={6}>\r\n              <Box p={2}>\r\n                <Typography variant=\"body2\">License Plate</Typography>\r\n                <Typography variant=\"h6\">{carData.license[6]}</Typography>\r\n              </Box>\r\n            </Grid>\r\n            <Grid item xs={6}>\r\n              <Box p={2}>\r\n                <Typography variant=\"body2\">Vin Number</Typography>\r\n                <Typography variant=\"h6\">{carData.license[12]}</Typography>\r\n              </Box>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={6}>\r\n              <Box p={2}>\r\n                <Typography variant=\"body2\">Request Date</Typography>\r\n                <Typography variant=\"h6\">\r\n                  {new Intl.DateTimeFormat(\"en-ZA\").format(new Date())}\r\n                </Typography>\r\n              </Box>\r\n            </Grid>\r\n            <Grid item xs={6}></Grid>\r\n          </Grid>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={6}></Grid>\r\n          </Grid>\r\n        </CardContent>\r\n      </Card>\r\n      <StyledCard>\r\n        <CardHeader title=\"Front Side\"></CardHeader>\r\n        <Grid container spacing={2}>\r\n          <Grid item xs={12}>\r\n            <StyledPaper>\r\n              <CardMedia\r\n                component=\"img\"\r\n                alt=\"Contemplative Reptile\"\r\n                height=\"140\"\r\n                image={carData.front.thumbnail}\r\n                title=\"Front Side\"\r\n              />\r\n              <CardContent>\r\n                <Box mb={3}>\r\n                  <Typography variant=\"body2\">Damaged Area</Typography>\r\n                  <Typography variant=\"h6\">-NA-</Typography>\r\n                </Box>\r\n                <Box>\r\n                  <Typography variant=\"body2\">Damaged type</Typography>\r\n                  <Typography variant=\"h6\">-NA-</Typography>\r\n                </Box>\r\n              </CardContent>\r\n            </StyledPaper>\r\n          </Grid>\r\n        </Grid>\r\n      </StyledCard>\r\n      <StyledCard>\r\n        <CardHeader title=\"Driver Side\"></CardHeader>\r\n        <Grid container spacing={2}>\r\n          <Grid item xs={12}>\r\n            <StyledPaper>\r\n              <CardMedia\r\n                component=\"img\"\r\n                alt=\"Contemplative Reptile\"\r\n                height=\"140\"\r\n                image={carData.driverside.thumbnail}\r\n                title=\"Front Side\"\r\n              />\r\n              <CardContent>\r\n                <Box mb={3}>\r\n                  <Typography variant=\"body2\">Damaged Area</Typography>\r\n                  <Typography variant=\"h6\">-NA-</Typography>\r\n                </Box>\r\n                <Box>\r\n                  <Typography variant=\"body2\">Damaged type</Typography>\r\n                  <Typography variant=\"h6\">-NA-</Typography>\r\n                </Box>\r\n              </CardContent>\r\n            </StyledPaper>\r\n          </Grid>\r\n        </Grid>\r\n      </StyledCard>\r\n      <StyledCard>\r\n        <CardHeader title=\"Passenger Side\"></CardHeader>\r\n        <Grid container spacing={2}>\r\n          <Grid item xs={12}>\r\n            <StyledPaper>\r\n              <CardMedia\r\n                component=\"img\"\r\n                alt=\"Contemplative Reptile\"\r\n                height=\"140\"\r\n                image={carData.passengerside.thumbnail}\r\n                title=\"Front Side\"\r\n              />\r\n              <CardContent>\r\n                <Box mb={3}>\r\n                  <Typography variant=\"body2\">Damaged Area</Typography>\r\n                  <Typography variant=\"h6\">-NA-</Typography>\r\n                </Box>\r\n                <Box>\r\n                  <Typography variant=\"body2\">Damaged type</Typography>\r\n                  <Typography variant=\"h6\">-NA-</Typography>\r\n                </Box>\r\n              </CardContent>\r\n            </StyledPaper>\r\n          </Grid>\r\n        </Grid>\r\n      </StyledCard>\r\n      <StyledCard>\r\n        <CardHeader title=\"Rear Side\"></CardHeader>\r\n        <Grid container spacing={2}>\r\n          <Grid item xs={12}>\r\n            <StyledPaper>\r\n              <CardMedia\r\n                component=\"img\"\r\n                alt=\"Contemplative Reptile\"\r\n                height=\"140\"\r\n                image={carData.rear.thumbnail}\r\n                title=\"Front Side\"\r\n              />\r\n              <CardContent>\r\n                <Box mb={3}>\r\n                  <Typography variant=\"body2\">Damaged Area</Typography>\r\n                  <Typography variant=\"h6\">-NA-</Typography>\r\n                </Box>\r\n                <Box>\r\n                  <Typography variant=\"body2\">Damaged type</Typography>\r\n                  <Typography variant=\"h6\">-NA-</Typography>\r\n                </Box>\r\n              </CardContent>\r\n            </StyledPaper>\r\n          </Grid>\r\n        </Grid>\r\n      </StyledCard>\r\n      <Box p={1} m={2} textAlign=\"right\">\r\n        <RoundedButton\r\n          label=\"Submit\"\r\n          fullWidth={false}\r\n          onClick={onSubmit}\r\n        />\r\n      </Box>\r\n      <Dialog open={ackOpen} size=\"md\">\r\n        <DialogTitle style={{ textAlign: \"center\" }}>Thank you !</DialogTitle>\r\n        <DialogContent>\r\n          <Typography style={{textAlign: \"center\"}}>Your vehicle assessment is now complete!</Typography>\r\n          <Typography style={{textAlign: \"center\"}}>We will be in touch with you soon.</Typography>\r\n        </DialogContent>\r\n        <DialogActions style={{ justifyContent: \"center\" }}>\r\n          <RoundedButton\r\n            label=\"Ok\"\r\n            onClick={() => {}}\r\n            fullWidth={false}\r\n          ></RoundedButton>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Report;\r\n","export const mockJourney = [\r\n    { type: \"Onboard\", step: \"login\", contained : true },\r\n    { type: \"Onboard\", step: \"license\" },\r\n    { type: \"Inspection\", step: \"front\" },\r\n    { type: \"Inspection\", step: \"driverside\" },\r\n    { type: \"Inspection\", step: \"passengerside\" },\r\n    { type: \"Inspection\", step: \"rear\" },\r\n    { type: \"Summary\", step: \"report\" },\r\n    { type: \"OffBoard\", step: \"report\" },\r\n]","import { ThemeOptions, createMuiTheme } from '@material-ui/core/styles';\r\n\r\nconst CSAItheme = createMuiTheme({\r\n\ttypography: {\r\n\t\tfontFamily: [\r\n\t\t\t'Roboto',\r\n\t\t\t'\"Helvetica Neue\"',\r\n\t\t\t'Arial',\r\n\t\t\t'sans-serif',\r\n\t\t\t'\"Apple Color Emoji\"',\r\n\t\t\t'\"Segoe UI Emoji\"',\r\n\t\t\t'\"Segoe UI Symbol\"',\r\n\t\t].join(','),\r\n\t},\r\n\tpalette: {\r\n\t\tprimary: {\r\n\t\t\tmain: '#EDA03A',\r\n\t\t},\r\n\t\tsecondary: {\r\n\t\t\tmain: 'rgb(126, 244, 36)',\r\n\t\t},\r\n\t},\r\n\toverrides: {\r\n\t\tMuiButton : {\r\n\t\t\ttextSecondary: {\r\n\t\t\t\tcolor: '#FFF',\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiCardMedia : {\r\n\t\t\timg : {\r\n\t\t\t\tborderTopLeftRadius : '16px',\r\n\t\t\t\tborderTopRightRadius : '16px'\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n});\r\n\r\nexport default CSAItheme;\r\n","import React, { Component } from \"react\";\r\nimport Alert from \"@material-ui/lab/Alert\"\r\nclass ErrorBoundary extends Component {\r\n    state = {\r\n        error: null,\r\n        errorInfo: null,\r\n    }\r\n\r\n    componentDidCatch(error, errorInfo) {\r\n        this.setState(error, errorInfo);\r\n    }\r\n\r\n    render() {\r\n        const { errorInfo } = this.state;\r\n        if (errorInfo) {\r\n            return <Alert severity=\"error\">Error Rendering the Component</Alert>\r\n        }\r\n        return this.props.children;\r\n    }\r\n}\r\n\r\nexport default ErrorBoundary;","import React from \"react\";\r\n\r\nimport * as JourneyModule from \"../components/Journey\";\r\n\r\nimport { mockJourney } from \"../mockconfig/journey1\";\r\n\r\nimport CSAItheme from \"../Theme\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport MuiThemeProvider from \"@material-ui/core/styles/MuiThemeProvider\";\r\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport findIndex from \"lodash/findIndex\";\r\nimport startCase from \"lodash/startCase\";\r\n// import { useRouter } from 'next/router';\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\n// import useFullscreen from '../utils/useFullScreen';\r\nimport CarDataContext from \"../CarDataContext\";\r\nimport ErrorBoundary from \"../components/ErrorBoundary\";\r\nimport geoLocation from \"../utils/geoLocation\";\r\n\r\nconst getCurrentAndNext = (type, step) => {\r\n  // findIndex(mockJourney, (mj:StepData) => mj.type === type && mj.step == step);\r\n  const currentIndex = findIndex(\r\n    mockJourney,\r\n    (mj) =>\r\n      mj.type.toLowerCase() === type.toLowerCase() &&\r\n      mj.step.toLowerCase() === step.toLowerCase()\r\n  );\r\n  const prevIndex = currentIndex - 1;\r\n  const nextIndex = currentIndex + 1;\r\n  return [prevIndex, currentIndex, nextIndex];\r\n};\r\n\r\nconst Journey = () => {\r\n  const container = React.useRef();\r\n  const [carData, setCarData] = React.useState({});\r\n  let { type, step } = useParams();\r\n  // let setIsFullscreen, exitFullscreen;\r\n\r\n  // Method called when the next action is to be laoded\r\n  const nextAction = (data) => {\r\n    const href = `/journey/${mockJourney[nextIndex].type}/${mockJourney[nextIndex].step}`;\r\n    if (data) {\r\n      setCarData({ ...carData, [step]: data });\r\n      sessionStorage.setItem(step, JSON.stringify(data));\r\n    }\r\n    console.log(\"nextAction\", mockJourney[nextIndex].type.toLowerCase());\r\n    // if (mockJourney[nextIndex].type.toLowerCase() === 'inspection') {\r\n    // \tsetIsFullscreen();\r\n    // } else {\r\n    // \texitFullscreen();\r\n    // }\r\n    history.push(href);\r\n  };\r\n\r\n  // Get the Component to be rendered currently\r\n  const getComposed = ({ type, step }) => {\r\n    let Component = [];\r\n    console.log(\"Module\", startCase(type), startCase(step).split(\" \").join(\"\"));\r\n    if (type) {\r\n      const newComponent = React.createElement(\r\n        JourneyModule[startCase(type)][startCase(step)].default,\r\n        {\r\n          nextAction,\r\n        }\r\n      );\r\n      Component.push(newComponent);\r\n    }\r\n    return Component;\r\n  };\r\n\r\n  // For the root route i.e \"/\" load the first type and step\r\n  if (!type && !step) {\r\n    type = mockJourney[0].type;\r\n    step = mockJourney[0].step;\r\n  }\r\n\r\n  // try {\r\n  // \t[isFullscreen, setIsFullscreen, exitFullscreen] = useFullscreen(container);\r\n  // } catch (e) {\r\n  // \tconsole.log('Fullscreen not supported');\r\n  // \tisFullscreen = false;\r\n  // \tsetIsFullscreen = undefined;\r\n  // }\r\n  const history = useHistory();\r\n\r\n  const [prevIndex, currentIndex, nextIndex] = getCurrentAndNext(type, step);\r\n  if (mockJourney[currentIndex].step === \"license\") {\r\n    if (!carData.geoLocation) {\r\n      geoLocation().then((geoData) => {\r\n        setCarData({ ...carData, geoLocation: geoData });\r\n        sessionStorage.setItem(\"geoLocation\", JSON.stringify(geoData));\r\n      });\r\n    }\r\n  }\r\n  const currentAction = mockJourney[currentIndex];\r\n  if (type && step) {\r\n    return (\r\n      <React.Fragment>\r\n        <CssBaseline />\r\n        <MuiThemeProvider theme={CSAItheme}>\r\n          <CarDataContext.Provider value={carData}>\r\n            {currentAction.container ? (\r\n              <Container>\r\n                <ErrorBoundary>\r\n                  {type && step && getComposed({ type, step })}\r\n                </ErrorBoundary>\r\n              </Container>\r\n            ) : (\r\n              type &&\r\n              step && (\r\n                <ErrorBoundary>\r\n                  <Box ref={container}>\r\n                    {getComposed({\r\n                      type,\r\n                      step,\r\n                    })}\r\n                  </Box>\r\n                </ErrorBoundary>\r\n              )\r\n            )}\r\n          </CarDataContext.Provider>\r\n        </MuiThemeProvider>\r\n      </React.Fragment>\r\n    );\r\n  } else {\r\n    return <LinearProgress />;\r\n  }\r\n};\r\n\r\nexport default Journey;\r\n","export default function geoLocation() {\r\n  return new Promise((resolve, reject) => {\r\n    function success(position) {\r\n      const latitude = position.coords.latitude;\r\n      const longitude = position.coords.longitude;\r\n\r\n      resolve({\r\n        lat: latitude,\r\n        long: longitude,\r\n      });\r\n    }\r\n\r\n    function error() {\r\n      console.error(\"Unable to retrieve your location\");\r\n    }\r\n    if (!navigator.geolocation) {\r\n      console.info(\"Geolocation is not supported by your browser\");\r\n    } else {\r\n      navigator.geolocation.getCurrentPosition(success, error);\r\n    }\r\n  });\r\n}\r\n"],"sourceRoot":""}