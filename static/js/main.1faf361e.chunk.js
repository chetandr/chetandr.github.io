(this["webpackJsonpchetandr.github.io.src"]=this["webpackJsonpchetandr.github.io.src"]||[]).push([[0],{42:function(e,t,n){},43:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);n(42),n(43);var a=n(5),c=n(83),r=n(25),s=n.n(r),i=n(33),o=n(29),d=n(0),u=n.n(d),l=n(82),h=n(84),p=n(37),x=n.n(p),b=n(3),g=function(e){var t=[];if(e.debugData)for(var n in e.debugData)t.push(Object(b.jsxs)("div",{className:"debugRow",children:[Object(b.jsxs)("span",{className:"debugLabel",children:[n," : "]}),Object(b.jsx)("span",{className:"debugValue",children:e.debugData[n]})]}));return t},j=function(){var e=u.a.useRef(),t=u.a.useRef(),n=u.a.useRef(),a=u.a.useRef(),c=u.a.useRef(),r=u.a.useState({}),p=Object(o.a)(r,2),j=p[0],v=p[1],f=u.a.useState({}),O=Object(o.a)(f,2),m=O[0],y=O[1],w=u.a.useState(!1),k=Object(o.a)(w,2),D=k[0],C=k[1];function R(){return S.apply(this,arguments)}function S(){return(S=Object(i.a)(s.a.mark((function e(){var t,n,a,c,r,i,o,d,u,l,h,p,x;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,e.prev=1,e.prev=2,e.next=5,navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:{exact:"environment"}}});case 5:t=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:{exact:"user"}}});case 12:t=e.sent;case 13:return e.next=15,t.getVideoTracks();case 15:return n=e.sent,a=n[0],c=n[0].getCapabilities(),r=a.getSettings(),i="",console.log(c,r),e.prev=21,i="DCI 4K",o={width:{ideal:4096},height:{ideal:2160}},e.next=26,a.applyConstraints(o);case 26:e.next=76;break;case 28:return e.prev=28,e.t1=e.catch(21),e.prev=30,i="UHD",d={width:{ideal:3840},height:{ideal:2160}},e.next=35,a.applyConstraints(d);case 35:e.next=76;break;case 37:return e.prev=37,e.t2=e.catch(30),e.prev=39,i="2K",u={width:{ideal:2048},height:{ideal:1152}},e.next=44,a.applyConstraints(u);case 44:e.next=76;break;case 46:return e.prev=46,e.t3=e.catch(39),e.prev=48,i="Full HD",l={width:{ideal:1920},height:{ideal:1080}},e.next=53,a.applyConstraints(l);case 53:e.next=76;break;case 55:return e.prev=55,e.t4=e.catch(48),e.prev=57,i="HD",h={width:{ideal:1280},height:{ideal:720}},e.next=62,a.applyConstraints(h);case 62:e.next=76;break;case 64:return e.prev=64,e.t5=e.catch(57),e.prev=66,i="SD",p={width:{ideal:640},height:{ideal:480}},e.next=71,a.applyConstraints(p);case 71:e.next=76;break;case 73:e.prev=73,e.t6=e.catch(66),alert(e.t6);case 76:return(x=a.getSettings()).reso=i,v(x),e.abrupt("return",{stream:t,settings:x,reso:i});case 82:e.prev=82,e.t7=e.catch(1),console.error(e.t7);case 85:case"end":return e.stop()}}),e,null,[[1,82],[2,8],[21,28],[30,37],[39,46],[48,55],[57,64],[66,73]])})))).apply(this,arguments)}var L=function(e,t){switch("".concat(e,"x").concat(t)){case"4096x2160":return"DCI 4K";case"3840x2160":return"4K";case"2048x1152":return"2K";case"1920x1080":return"Full HD";case"1280x720":return"HD";case"640x480":return"SD"}};Object(d.useEffect)(Object(i.a)(s.a.mark((function n(){var c,r,i,o,d,u,l,h;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,R();case 2:c=n.sent,e.current&&("srcObject"in e.current?e.current.srcObject=c.stream:e.src=window.URL.createObjectURL(c.stream),r=c.settings.width,i=c.settings.height,o=document.documentElement.clientHeight,d=Math.floor(o*c.settings.aspectRatio),j.aspectRatio,u=o/i,l=d/r,console.log("videoWrapper",t.current),t.current.style.width="".concat(d,"px"),t.current.style.height="".concat(o,"px"),e.current.width=r,e.current.height=i,e.current.style.transform="scale(".concat(l,", ").concat(u,")"),e.current.style.transformOrigin="top left",a.current.width=r,a.current.height=i,a.current.style.width="".concat(d,"px"),a.current.style.height="".concat(o,"px"),h={video:"".concat(r," x ").concat(i," (").concat(L(r,i),")"),scale:"".concat(l," x ").concat(u),media:"".concat(c.settings.width," x ").concat(c.settings.height),target:"".concat(d," x ").concat(o)},y(h));case 4:case"end":return n.stop()}}),n)}))),[e,t,n,a]);return Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{id:"debug",children:Object(b.jsx)(g,{debugData:m})}),Object(b.jsx)("div",{ref:t,style:{marginBottom:"16px"},children:Object(b.jsx)("video",{ref:e,autoPlay:!0,playsInline:!0,onLoadedMetadata:function(e){}})}),Object(b.jsxs)("div",{children:[Object(b.jsx)("canvas",{ref:n,style:{border:"solid 2px red",display:"none"}}),Object(b.jsx)("canvas",{ref:a,style:{border:"solid 2px red",display:"none"}})]}),Object(b.jsx)("a",{id:"downloadAnchor",href:"http://chetandr.github.com",ref:c,style:{display:"none"},children:"image"}),Object(b.jsx)("div",{id:"changeVideo",children:Object(b.jsx)(h.a,{color:"primary","aria-label":"upload picture",component:"span",variant:"contained",onClick:function(){var t=a.current.getContext("2d");C(!0),t.drawImage(e.current,0,0);var n=a.current.toDataURL("image/png");c.current.href=n,c.current.download="MyPhoto.png",c.current.click(),window.URL.revokeObjectURL(n),setTimeout((function(){return C(!1)}),3e3)},children:D?Object(b.jsx)(l.a,{color:"secondary",thinkness:7,size:100}):Object(b.jsx)(x.a,{style:{fontSize:100}})})}),Object(b.jsx)("a",{id:"downloadAnchor",href:"http://chetandr.github.com",ref:c,style:{display:"none"},children:"image"})]})},v=n(32),f=n(39);var O=function(){return Object(b.jsx)(v.a,{children:Object(b.jsx)(a.c,{children:Object(b.jsx)(a.a,{exact:!0,path:"/",children:Object(b.jsx)("div",{className:"App",children:Object(b.jsx)("header",{className:"App-header",children:Object(b.jsx)(c.a,{backend:f.a,options:{enableMouseEvents:!0},children:Object(b.jsx)(j,{})})})})})})})},m=n(19),y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,85)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};n.n(m).a.render(Object(b.jsx)(u.a.StrictMode,{children:Object(b.jsx)(O,{})}),document.getElementById("root")),y()}},[[62,1,2]]]);
//# sourceMappingURL=main.1faf361e.chunk.js.map