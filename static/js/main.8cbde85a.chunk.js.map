{"version":3,"sources":["components/capture/cameraAccess.js","components/capture/browserCompatibility.js","components/capture/browserHelper.js","components/capture/camera.js","components/capture/unsupportedBrowserError.js","components/capture/customError.js","components/capture/index.jsx","App.js","reportWebVitals.js","index.js"],"names":["__awaiter","this","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","n","v","op","TypeError","call","pop","length","push","__spreadArrays","s","i","il","arguments","r","Array","k","a","j","jl","exports","__esModule","CameraAccess","browserCompatibility_1","require","browserHelper_1","camera_1","unsupportedBrowserError_1","getCamerasPromise","backCameraKeywords","cameraObjects","Map","isBackCameraLabel","lowercaseLabel","toLowerCase","some","keyword","includes","getUserMediaVideoParams","resolutionFallbackLevel","isSafariBrowser","width","min","ideal","max","height","enumerateDevices","navigator","mediaDevices","window","MediaStreamTrack","getSources","Error","devices","filter","device","kind","map","deviceId","groupId","toJSON","_a","browserCompatibility","fullSupport","scannerSupport","missingFeatures","BrowserCompatibility","Feature","MEDIA_DEVICES","UnsupportedBrowserError","adjustCamerasFromMainCameraStream","mediaStreamTrack","cameras","mediaTrackSettings","getSettings","activeCamera","find","camera","undefined","activeCameraIsBackFacing","facingMode","activeCameraIsMainBackCamera","forEach","cameraType","Camera","Type","BACK","FRONT","mainBackCamera","sort","camera1","camera2","localeCompare","getCameras","_this","BrowserHelper","checkBrowserCompatibility","accessPermissionPromise","every","getUserMedia","video","audio","stream","error_1","videoDevice","has","get","set","backCameraIndex","cameraResolutions","match","parseInt","NaN","cameraResolution","isNaN","lastIndexOf","Math","extractCamerasFromDevices","console","debug","name","getVideoTracks","track","stop","accessCameraStream","getUserMediaParams","browserName","userAgentInfo","getBrowser","exact","log","setTimeout","getUserMediaDelayed","UAParser","js_cookie_1","ua_parser_js_1","userAgent","canvas","document","createElement","objectHasPropertyWithType","object","propertyNames","propertyType","objectProperty","slice","WEB_WORKERS","WEB_ASSEMBLY","BLOB","URL_OBJECT","OFFSCREEN_CANVAS","getContext","WEBGL","os","userAgentOS","getOS","version","WEB_ASSEMBLY_ERROR_FREE","getDeviceId","storedDeviceId","randomDeviceId","charAt","floor","random","expires","isValidHTMLElement","HTMLElement","tagName","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","p","hasOwnProperty","__","constructor","prototype","create","_super","message","data","CustomError","_b","_c","_d","ItemTypes","Capture","useRef","downloadAnchor","photo","snap","bboxWrapper0","bboxWrapper1","bboxWrapper2","bboxWrapper3","bboxWrapper4","bboxWrapper5","useState","bboxProperties","setBboxProperties","disp0","disp1","disp2","disp3","disp4","disp5","displayBox","setDisplayBox","x","currentPosition","setCurrentPosition","dragInitPositionDiff","setDragInitPositionDiff","debugData","setDebugData","monitor","useDragDropManager","getMonitor","bboxCount","setBBoxCount","currentBBox","setCurrentBBox","imageHeight","setImageHieght","imageWidth","setImageWidth","useDrag","type","collect","isDragging0","isDragging","bbox0","isDragging1","bbox1","isDragging2","bbox2","isDragging3","bbox3","isDragging4","bbox4","isDragging5","bbox5","usePreview","MyPreview","display","itemType","item","style","className","React","useEffect","subscribeToOffsetChange","offset","getClientOffset","initialClientOffset","getInitialClientOffset","initialSourceClientOffset","getInitialSourceClientOffset","useDrop","accept","drop","moveBox","isOver","cbbox","cp","diff","rbox","current","getClientRects","x1","y1","left","top","newBboxProperties","id","getVideo","useCallback","res","CamerHelper","mediaStream","srcObject","isSafari","indexOf","reso","newDebugData","JSON","stringify","streamSettings","getCamera","getSupportedConstraints","enumDevices","backDevice","components","key","getDebugData","ref","onMouseMove","screenX","screenY","autoPlay","muted","IconButton","color","aria-label","component","variant","onClick","context","drawImage","innerWidth","innerHeight","font","cnt","contentText","strokeText","url","toDataURL","setAttribute","href","download","click","URL","revokeObjectURL","fontSize","newDisplayBox","disabled","src","alt","onTouchStart","onMouseDown","opacity","cursor","App","DndProvider","backend","TouchBackend","options","enableMouseEvents","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"uIACA,IAAIA,EACFC,MAAQA,KAAKD,WACd,SAAUE,EAASC,EAAYC,EAAGC,GAQjC,OAAO,IAAKD,IAAMA,EAAIE,WAAU,SAAUC,EAASC,GAClD,SAASC,EAAUC,GAClB,IACCC,EAAKN,EAAUO,KAAKF,IACnB,MAAOG,GACRL,EAAOK,IAGT,SAASC,EAASJ,GACjB,IACCC,EAAKN,EAAS,MAAUK,IACvB,MAAOG,GACRL,EAAOK,IAGT,SAASF,EAAKI,GAtBf,IAAeL,EAuBbK,EAAOC,KAAOT,EAAQQ,EAAOL,QAvBhBA,EAuB+BK,EAAOL,MAtB7CA,aAAiBN,EACrBM,EACA,IAAIN,GAAE,SAAUG,GAChBA,EAAQG,OAmBgDO,KAAKR,EAAWK,GAE3EH,GAAMN,EAAYA,EAAUa,MAAMhB,EAASC,GAAc,KAAKS,YAG7DO,EACFlB,MAAQA,KAAKkB,aACd,SAAUjB,EAASkB,GAClB,IASCC,EACAC,EACAC,EACAC,EAZGC,EAAI,CACNC,MAAO,EACPC,KAAM,WACL,GAAW,EAAPJ,EAAE,GAAQ,MAAMA,EAAE,GACtB,OAAOA,EAAE,IAEVK,KAAM,GACNC,IAAK,IAMP,OACEL,EAAI,CAAEZ,KAAMkB,EAAK,GAAIC,MAAOD,EAAK,GAAIE,OAAQF,EAAK,IACjC,oBAAXG,SACLT,EAAES,OAAOC,UAAY,WACrB,OAAOjC,OAETuB,EAED,SAASM,EAAKK,GACb,OAAO,SAAUC,GAChB,OAGF,SAAcC,GACb,GAAIhB,EAAG,MAAM,IAAIiB,UAAU,mCAC3B,KAAOb,GACN,IACC,GACGJ,EAAI,EACNC,IACEC,EACQ,EAARc,EAAG,GACAf,EAAC,OACDe,EAAG,GACHf,EAAC,SAAeC,EAAID,EAAC,SAAeC,EAAEgB,KAAKjB,GAAI,GAC/CA,EAAEV,SACJW,EAAIA,EAAEgB,KAAKjB,EAAGe,EAAG,KAAKrB,KAEzB,OAAOO,EAER,OADMD,EAAI,EAAIC,IAAIc,EAAK,CAAS,EAARA,EAAG,GAAQd,EAAEb,QAC7B2B,EAAG,IACV,KAAK,EACL,KAAK,EACJd,EAAIc,EACJ,MACD,KAAK,EAEJ,OADAZ,EAAEC,QACK,CAAEhB,MAAO2B,EAAG,GAAIrB,MAAM,GAC9B,KAAK,EACJS,EAAEC,QACFJ,EAAIe,EAAG,GACPA,EAAK,CAAC,GACN,SACD,KAAK,EACJA,EAAKZ,EAAEI,IAAIW,MACXf,EAAEG,KAAKY,MACP,SACD,QACC,KACkBjB,GAAdA,EAAIE,EAAEG,MAAca,OAAS,GAAKlB,EAAEA,EAAEkB,OAAS,MACvC,IAAVJ,EAAG,IAAsB,IAAVA,EAAG,IAClB,CACDZ,EAAI,EACJ,SAED,GAAc,IAAVY,EAAG,MAAcd,GAAMc,EAAG,GAAKd,EAAE,IAAMc,EAAG,GAAKd,EAAE,IAAM,CAC1DE,EAAEC,MAAQW,EAAG,GACb,MAED,GAAc,IAAVA,EAAG,IAAYZ,EAAEC,MAAQH,EAAE,GAAI,CAClCE,EAAEC,MAAQH,EAAE,GACZA,EAAIc,EACJ,MAED,GAAId,GAAKE,EAAEC,MAAQH,EAAE,GAAI,CACxBE,EAAEC,MAAQH,EAAE,GACZE,EAAEI,IAAIa,KAAKL,GACX,MAEGd,EAAE,IAAIE,EAAEI,IAAIW,MAChBf,EAAEG,KAAKY,MACP,SAEFH,EAAKjB,EAAKmB,KAAKrC,EAASuB,GACvB,MAAOZ,GACRwB,EAAK,CAAC,EAAGxB,GACTS,EAAI,EA5DL,QA8DCD,EAAIE,EAAI,EAEV,GAAY,EAARc,EAAG,GAAQ,MAAMA,EAAG,GACxB,MAAO,CAAE3B,MAAO2B,EAAG,GAAKA,EAAG,QAAK,EAAQrB,MAAM,GAvEtCL,CAAK,CAACwB,EAAGC,OA0EhBO,EACF1C,MAAQA,KAAK0C,gBACd,WACC,IAAK,IAAIC,EAAI,EAAGC,EAAI,EAAGC,EAAKC,UAAUN,OAAQI,EAAIC,EAAID,IAAKD,GAAKG,UAAUF,GAAGJ,OACxE,IAAIO,EAAIC,MAAML,GAAIM,EAAI,EAA3B,IAA8BL,EAAI,EAAGA,EAAIC,EAAID,IAC5C,IAAK,IAAIM,EAAIJ,UAAUF,GAAIO,EAAI,EAAGC,EAAKF,EAAEV,OAAQW,EAAIC,EAAID,IAAKF,IAAKF,EAAEE,GAAKC,EAAEC,GAC7E,OAAOJ,GAETM,EAAQC,YAAa,EACrBD,EAAQE,kBAAe,EACvB,IAAIC,EAAyBC,EAAQ,IACjCC,EAAkBD,EAAQ,IAC1BE,EAAWF,EAAQ,IACnBG,EAA4BH,EAAQ,KAKxC,SAAWF,GAUV,IA+CIM,EA/CAC,EAAqB,CACxB,OACA,OACA,UACA,aACA,UACA,UACA,WACA,aACA,eACA,eACA,eACA,eACA,eACA,eACA,uCACA,6CACA,SACA,OACA,cACA,2BACA,WACA,UACA,MACA,MACA,QACA,aACA,WACA,uCACA,2BACA,QACA,cACA,WACA,UACA,WACA,iCACA,gBACA,WACA,sBAKGC,EAAgB,IAAIC,IAWxB,SAASC,EAAkBxC,GAC1B,IAAIyC,EAAiBzC,EAAM0C,cAC3B,OAAOL,EAAmBM,MAAK,SAAUC,GACxC,OAAOH,EAAeI,SAASD,MAsOjC,SAASE,EAAwBC,EAAyBC,GACzD,OAAQD,GACP,KAAK,EACL,KAAK,EACJ,OAAIC,EACI,CACNC,MAAO,CAAEC,IAAK,KAAMC,MAAO,KAAMC,IAAK,MACtCC,OAAQ,CAAEH,IAAK,KAAMC,MAAO,KAAMC,IAAK,OAGjC,CACNH,MAAO,CAAEC,IAAK,KAAMC,MAAO,KAAMC,IAAK,MACtCC,OAAQ,CAAEH,IAAK,KAAMC,MAAO,KAAMC,IAAK,OAG1C,KAAK,EACJ,OAAIJ,EACI,CACNC,MAAO,CAAEC,IAAK,KAAMC,MAAO,KAAMC,IAAK,MACtCC,OAAQ,CAAEH,IAAK,IAAKC,MAAO,KAAMC,IAAK,OAGhC,CACNH,MAAO,CAAEC,IAAK,KAAMC,MAAO,KAAMC,IAAK,MACtCC,OAAQ,CAAEH,IAAK,IAAKC,MAAO,KAAMC,IAAK,OAGzC,KAAK,EACJ,OAAIJ,EACI,CACNC,MAAO,CAAEC,IAAK,KAAMC,MAAO,KAAMC,IAAK,MACtCC,OAAQ,CAAEH,IAAK,IAAKC,MAAO,KAAMC,IAAK,OAGhC,CACNH,MAAO,CAAEC,IAAK,KAAMC,MAAO,KAAMC,IAAK,MACtCC,OAAQ,CAAEH,IAAK,IAAKC,MAAO,KAAMC,IAAK,OAGzC,KAAK,EACJ,OAAIJ,EACI,CACNC,MAAO,CAAEC,IAAK,KAAMC,MAAO,KAAMC,IAAK,MACtCC,OAAQ,CAAEH,IAAK,IAAKC,MAAO,IAAKC,IAAK,OAG/B,CACNH,MAAO,CAAEC,IAAK,KAAMC,MAAO,KAAMC,IAAK,MACtCC,OAAQ,CAAEH,IAAK,IAAKC,MAAO,KAAMC,IAAK,OAGzC,KAAK,EACJ,OAAIJ,EACI,CACNC,MAAO,CAAEC,IAAK,IAAKC,MAAO,KAAMC,IAAK,MACrCC,OAAQ,CAAEH,IAAK,IAAKC,MAAO,IAAKC,IAAK,MAG/B,CACNH,MAAO,CAAEC,IAAK,IAAKC,MAAO,KAAMC,IAAK,MACrCC,OAAQ,CAAEH,IAAK,IAAKC,MAAO,IAAKC,IAAK,MAGxC,KAAK,EACJ,OAAIJ,EACI,CACNC,MAAO,CAAEC,IAAK,IAAKC,MAAO,KAAMC,IAAK,MACrCC,OAAQ,CAAEH,IAAK,IAAKC,MAAO,IAAKC,IAAK,MAG/B,CACNH,MAAO,CAAEC,IAAK,IAAKC,MAAO,KAAMC,IAAK,MACrCC,OAAQ,CAAEH,IAAK,IAAKC,MAAO,IAAKC,IAAK,MAGxC,KAAK,EACJ,OAAIJ,EACI,CACNC,MAAO,CAAEC,IAAK,IAAKC,MAAO,IAAKC,IAAK,MACpCC,OAAQ,CAAEH,IAAK,IAAKC,MAAO,IAAKC,IAAK,MAG/B,CACNH,MAAO,CAAEC,IAAK,IAAKC,MAAO,IAAKC,IAAK,MACpCC,OAAQ,CAAEH,IAAK,IAAKC,MAAO,IAAKC,IAAK,MAGxC,QACC,MAAO,IAoDV,SAASE,IACR,MAA0C,oBAA/BC,UAAUD,iBACbC,UAAUD,mBAEiB,kBAA3BC,UAAUC,cACkC,oBAA5CD,UAAUC,aAAaF,iBAEvBC,UAAUC,aAAaF,mBAEvB,IAAI1E,SAAQ,SAAUC,EAASC,GACrC,IACC,GAA+B,MAA3B2E,OAAOC,kBAAkE,MAAtCD,OAAOC,iBAAiBC,WAC9D,MAAM,IAAIC,MAEXH,OAAOC,iBAAiBC,YAAW,SAAUE,GAC5ChF,EACCgF,EACEC,QAAO,SAAUC,GACjB,MAC+B,UAA9BA,EAAOC,KAAKtB,eACkB,eAA9BqB,EAAOC,KAAKtB,iBAGbuB,KAAI,SAAUF,GACd,MAAO,CACNG,SAA6B,MAAnBH,EAAOG,SAAmBH,EAAOG,SAAW,GACtDC,QAASJ,EAAOI,QAChBH,KAAM,aACNhE,MAAO+D,EAAO/D,MACdoE,OAAmC,WAClC,OAAO7F,cAMZ,MAAO8F,GACR,IAAIC,EAAuB,CAC1BC,aAAa,EACbC,gBAAgB,EAChBC,gBAAiB,CAAC1C,EAAuB2C,qBAAqBC,QAAQC,gBAEvE,OAAO9F,EAAO,IAAIqD,EAA0B0C,wBAAwBP,QAjWxExC,EAAagD,kCA3Cb,SAA2CC,EAAkBC,GAC5D,IAAIC,EACwC,oBAAjCF,EAAiBG,cAC3BD,EAAqBF,EAAiBG,eAEvC,IAAIC,EAAeH,EAAQI,MAAK,SAAUC,GACzC,OACwB,MAAtBJ,GAA8BI,EAAOnB,WAAae,EAAmBf,UACtEmB,EAAOrF,QAAU+E,EAAiB/E,SAGpC,QAAqBsF,IAAjBH,EAA4B,CAC/B,IAAII,EACoB,MAAtBN,GAAgE,gBAAlCA,EAAmBO,YAClDhD,EAAkBuC,EAAiB/E,OAChCyF,EAA+BF,EAEnC,GAAIA,GAA4BP,EAAQjE,OAAS,EAAG,CAEnDiE,EAAQU,SAAQ,SAAUL,GACrBA,EAAOnB,WAAaiB,EAAajB,SAEpCmB,EAAOM,WAAazD,EAAS0D,OAAOC,KAAKC,KAC9BtD,EAAkB6C,EAAOrF,SAEpCqF,EAAOM,WAAazD,EAAS0D,OAAOC,KAAKE,UAG3C,IAAIC,EAAiBhB,EACnBlB,QAAO,SAAUuB,GACjB,OAAOA,EAAOM,aAAezD,EAAS0D,OAAOC,KAAKC,QAElDG,MAAK,SAAUC,EAASC,GACxB,OAAOD,EAAQlG,MAAMoG,cAAcD,EAAQnG,UACzC,GACJyF,EAA+BN,EAAajB,WAAa8B,EAAe9B,SAEzE,GAAuB,IAAnBc,EAAQjE,QAAgB0E,EAC3B,OAAON,IAqJVrD,EAAauE,WAzEb,WACC,IAAIC,EAAQ/H,KACZ,GAAyB,MAArB6D,EACH,OAAOA,EAER,IAAIkC,EAAuBrC,EAAgBsE,cAAcC,4BACzD,IAAKlC,EAAqBC,YACzB,OAAO3F,QAAQE,OAAO,IAAIqD,EAA0B0C,wBAAwBP,IAE7E,IAAImC,EAA0B,IAAI7H,SAAQ,SAAUC,EAASC,GAC5D,OAAOwE,IACL/D,MAAK,SAAUsE,GAEdA,EACEC,QAAO,SAAUC,GACjB,MAAuB,eAAhBA,EAAOC,QAEd0C,OAAM,SAAU3C,GAChB,MAAwB,KAAjBA,EAAO/D,SAGhBnB,EACC0E,UAAUC,aAAamD,aAAa,CACnCC,OAAO,EACPC,OAAO,KAIThI,OAlBI,MAqBIC,MAwCZ,OAtCAsD,EAAoB,IAAIxD,SAAQ,SAAUC,EAASC,GAClD,OAAOR,EAAUgI,OAAO,OAAQ,GAAQ,WACvC,IAAIQ,EAAQjD,EAASmB,EAAS+B,EAC9B,OAAOtH,EAAYlB,MAAM,SAAU8F,GAClC,OAAQA,EAAGrE,OACV,KAAK,EAEJ,OADAqE,EAAGnE,KAAKc,KAAK,CAAC,EAAG,EAAG,EAAG,IAChB,CAAC,EAAayF,GACtB,KAAK,EAEJ,OADAK,EAASzC,EAAGpE,OACL,CAAC,EAAaqD,KACtB,KAAK,EAIJ,OAHAO,EAAUQ,EAAGpE,OACb+E,EA9GN,SAAmCnB,GAClC,IAAImB,EAAUnB,EACZC,QAAO,SAAUC,GACjB,MAAuB,eAAhBA,EAAOC,QAEdC,KAAI,SAAU+C,GACd,GAAI1E,EAAc2E,IAAID,EAAY9C,UACjC,OAAO5B,EAAc4E,IAAIF,EAAY9C,UAEtC,IAAIlE,EAA6B,MAArBgH,EAAYhH,MAAgBgH,EAAYhH,MAAQ,GACxDqF,EAAS,CACZnB,SAAU8C,EAAY9C,SACtBlE,MAAOA,EACP2F,WAAYnD,EAAkBxC,GAASkC,EAAS0D,OAAOC,KAAKC,KAAO5D,EAAS0D,OAAOC,KAAKE,OAKzF,MAHc,KAAV/F,GACHsC,EAAc6E,IAAIH,EAAY9C,SAAUmB,GAElCA,KAET,GACCL,EAAQjE,OAAS,IAChBiE,EAAQrC,MAAK,SAAU0C,GACvB,OAAOA,EAAOM,aAAezD,EAAS0D,OAAOC,KAAKC,QAElD,CAGD,IAAIsB,EAAkBpC,EAAQjE,OAAS,EACnCsG,EAAoBrC,EAAQf,KAAI,SAAUoB,GAC7C,IAAIiC,EAAQjC,EAAOrF,MAAMsH,MAAM,oBAC/B,OAAa,MAATA,EACIC,SAASD,EAAM,GAAI,IAEpBE,OAGNH,EAAkB1E,MAAK,SAAU8E,GACjC,OAAOC,MAAMD,QAGdL,EAAkBC,EAAkBM,YAAYC,KAAKxE,IAAI5D,MAAMoI,KAAMP,KAGtErC,EAAQoC,GAAiBzB,WAAazD,EAAS0D,OAAOC,KAAKC,KAE5D,OAAOd,EAgEQ6C,CAA0BhE,GACpCiE,QAAQC,MAAMvI,MAAMsI,QAAS7G,EAAe,CAAC,iBAAkB+D,IACxD,CAAC,EAAcnG,EAAQmG,IAC/B,KAAK,EAMJ,MAHqB,4BAFrB+B,EAAU1C,EAAGpE,QAED+H,OACXjB,EAAQiB,KAAO,oBAET,CAAC,EAAclJ,EAAOiI,IAC9B,KAAK,EAQJ,OANc,MAAVD,GACHA,EAAOmB,iBAAiBvC,SAAQ,SAAUwC,GACzCA,EAAMC,UAGR/F,OAAoBkD,EACb,CAAC,GACT,KAAK,EACJ,MAAO,CAAC,cA6HdxD,EAAagB,wBAA0BA,EAyCvChB,EAAasG,mBA7Bb,SAA4BrF,EAAyBsC,GACpD,IACIgD,EADAC,EAAcrG,EAAgBsE,cAAcgC,cAAcC,aAAaR,KA0B3E,OAvBCK,EADGtF,EAA0B,EACR,CACpB8D,OAAO,EACPD,MAAO,CAAEpB,WAAY,gBAGD,CACpBqB,OAAO,EACPD,MAAO9D,EACNC,EACe,MAAfuF,GAAuBA,EAAYzF,SAAS,YAIvB,KAApBwC,EAAOnB,UAAmC,MAAfoE,GAAuBA,EAAYzF,SAAS,UAC1EwF,EAAmBzB,MAAMpB,WAAa,CACrCrC,MAAOkC,EAAOM,aAAezD,EAAS0D,OAAOC,KAAKC,KAAO,cAAgB,QAG1EuC,EAAmBzB,MAAM1C,SAAW,CACnCuE,MAAOpD,EAAOnB,UAGhB4D,QAAQY,IAAIL,GAnJb,SAA6BA,GAE5B,OADAP,QAAQY,IAAI,iBAAkBL,EAAmBzB,OAC1C,IAAIhI,SAAQ,SAAUC,EAASC,GACrC2E,OAAOkF,YAAW,WACjBpF,UAAUC,aAAamD,aAAa0B,GAAoB9I,KAAKV,GAA7D,MAA+EC,KAC7E,MA+IG8J,CAAoBP,IA3a7B,CAoemBzG,EAAQE,eAAiBF,EAAQE,aAAe,M,gCCznBnEF,EAAQC,YAAa,EACrBD,EAAQ8C,0BAAuB,EAE/B,SAAWA,IAKP,SAAWC,GAKPA,EAAO,KAAW,OAKlBA,EAAO,cAAoB,eAK3BA,EAAO,iBAAuB,kBAK9BA,EAAO,WAAiB,YAKxBA,EAAO,YAAkB,aAKzBA,EAAO,aAAmB,cAI1BA,EAAO,wBAA8B,uBAKrCA,EAAO,MAAY,QAvCvB,CAwCaD,EAAqBC,UAAYD,EAAqBC,QAAU,KA7CjF,CA8C0B/C,EAAQ8C,uBAAyB9C,EAAQ8C,qBAAuB,M,0ECjD1F9C,EAAQC,YAAa,EACrBD,EAAQ2E,cAAgB3E,EAAQiH,cAAW,EAC3C,IAAIC,EAAc9G,EAAQ,IACtB+G,EAAiB/G,EAAQ,IAC7BJ,EAAQiH,SAAWE,EAAeF,SAClC,IAAI9G,EAAyBC,EAAQ,KAErC,SAAWuE,GAIPA,EAAcgC,cAAgB,IAAIQ,EAAeF,SAAStF,UAAUyF,WAIpEzC,EAAc0C,OAASC,SAASC,cAAc,UAsE9C5C,EAAcC,0BAlEd,WACI,SAAS4C,EAA0BC,EAAQC,EAAeC,GAEtD,IAAIC,EAAiBH,EAAOC,EAAc,IAC1C,OAAsB,MAAlBE,IAGyB,IAAzBF,EAAcvI,cACAyI,IAAmBD,GAGE,oBAAnBC,GAA2D,kBAAnBA,IACpDJ,EAA0BI,EAAgBF,EAAcG,MAAM,GAAIF,IAM9E,IAAIhF,GAAc,EACdC,GAAiB,EACjBC,EAAkB,GACjB2E,EAA0B7F,UAAW,CAAC,eAAgB,gBAAiB,aACvE6F,EAA0B7F,UAAW,CAAC,oBAAqB,aAC3D6F,EAA0B3F,OAAQ,CAAC,mBAAoB,cAAe,cACvEgB,EAAgBzD,KAAKe,EAAuB2C,qBAAqBC,QAAQC,eACzEL,GAAc,GAEb6E,EAA0B3F,OAAQ,CAAC,UAAW,cAC/CgB,EAAgBzD,KAAKe,EAAuB2C,qBAAqBC,QAAQ+E,aACzEnF,EAAcC,GAAiB,GAE9B4E,EAA0B3F,OAAQ,CAAC,eAAgB,YACpDgB,EAAgBzD,KAAKe,EAAuB2C,qBAAqBC,QAAQgF,cACzEpF,EAAcC,GAAiB,GAE9B4E,EAA0B3F,OAAQ,CAAC,QAAS,cAC7CgB,EAAgBzD,KAAKe,EAAuB2C,qBAAqBC,QAAQiF,MACzErF,EAAcC,GAAiB,GAE9B4E,EAA0B3F,OAAQ,CAAC,MAAO,mBAAoB,cAC/DgB,EAAgBzD,KAAKe,EAAuB2C,qBAAqBC,QAAQkF,YACzEtF,EAAcC,GAAiB,GAE9B4E,EAA0B3F,OAAQ,CAAC,mBAAoB,aACxDgB,EAAgBzD,KAAKe,EAAuB2C,qBAAqBC,QAAQmF,kBAE7E,IACI,IAAKV,EAA0B3F,OAAQ,CAAC,yBAA0B,aACjB,MAA5C8C,EAAc0C,OAAOc,WAAW,UAA6E,MAAzDxD,EAAc0C,OAAOc,WAAW,sBACrF,MAAM,IAAInG,MAGlB,MAAOS,GACHI,EAAgBzD,KAAKe,EAAuB2C,qBAAqBC,QAAQqF,OAE7E,IAxC+BC,EAwC3BC,EAAc3D,EAAcgC,cAAc4B,QAK9C,MA5CuB,SADQF,EAyCLC,GAxCZlC,MAAgC,MAAdiC,EAAGG,SAAmB,CAAC,SAAU,SAAU,UAAUvH,SAASoH,EAAGG,WAyC7F3F,EAAgBzD,KAAKe,EAAuB2C,qBAAqBC,QAAQ0F,yBACzE9F,EAAcC,GAAiB,GAE5B,CACHD,YAAaA,EACbC,eAAgBA,EAChBC,gBAAiBA,IA2BzB8B,EAAc+D,YAfd,WACI,IACIC,EAAiBzB,EAAW,QAAY5B,IAAI,qBAChD,GAAsB,MAAlBqD,GAA6C,KAAnBA,EAC1B,OAAOA,EAIX,IAFA,IACIC,EAAiB,GACZrJ,EAAI,EAAGA,EAAI,KAAMA,EAEtBqJ,GAJgB,mBAIgBC,OAAO7C,KAAK8C,MAAsB,GAAhB9C,KAAK+C,WAG3D,OADA7B,EAAW,QAAY3B,IAXP,oBAWsBqD,EAAgB,CAAEI,QAAS,OAC1DJ,GAgBXjE,EAAcsE,mBAJd,SAA4BxB,GACxB,OAAQA,aAAkByB,aACX,MAAVzB,GAAoC,kBAAXA,GAAiD,kBAAnBA,EAAO0B,SAlH3E,CAqHmBnJ,EAAQ2E,gBAAkB3E,EAAQ2E,cAAgB,M,gCC5HrE3E,EAAQC,YAAa,EACrBD,EAAQgE,YAAS,EAEjB,SAAWA,IAKP,SAAWC,GAIPA,EAAI,MAAY,QAIhBA,EAAI,KAAW,OARnB,CASUD,EAAOC,OAASD,EAAOC,KAAO,KAd5C,CAeYjE,EAAQgE,SAAWhE,EAAQgE,OAAS,M,gCClBhD,IAAIoF,EAAazM,MAAQA,KAAKyM,WAAe,WACzC,IAAIC,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBG,OAAOC,gBAClB,CAAEC,UAAW,cAAgB/J,OAAS,SAAU2J,EAAGC,GAAKD,EAAEI,UAAYH,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAII,KAAKJ,EAAOA,EAAEK,eAAeD,KAAIL,EAAEK,GAAKJ,EAAEI,MACpDL,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASM,IAAOlN,KAAKmN,YAAcR,EADnCD,EAAcC,EAAGC,GAEjBD,EAAES,UAAkB,OAANR,EAAaC,OAAOQ,OAAOT,IAAMM,EAAGE,UAAYR,EAAEQ,UAAW,IAAIF,IAV1C,GAa7C7J,EAAQC,YAAa,EACrBD,EAAQiD,6BAA0B,EAClC,IAIIA,EAAyC,SAAUgH,GAGnD,SAAShH,EAAwBP,GAC7B,IAAIgC,EAAQuF,EAAOhL,KAAKtC,KAAM,CAC1ByJ,KAAM,0BACN8D,QAAS,6FACPvN,KAEN,OADA+H,EAAMyF,KAAOzH,EACNgC,EAEX,OAVA0E,EAAUnG,EAAyBgH,GAU5BhH,EAXkC,CAJzB7C,EAAQ,IAgBZgK,aAChBpK,EAAQiD,wBAA0BA,G,gCChClC,IAAImG,EAAazM,MAAQA,KAAKyM,WAAe,WACzC,IAAIC,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBG,OAAOC,gBAClB,CAAEC,UAAW,cAAgB/J,OAAS,SAAU2J,EAAGC,GAAKD,EAAEI,UAAYH,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAII,KAAKJ,EAAOA,EAAEK,eAAeD,KAAIL,EAAEK,GAAKJ,EAAEI,MACpDL,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASM,IAAOlN,KAAKmN,YAAcR,EADnCD,EAAcC,EAAGC,GAEjBD,EAAES,UAAkB,OAANR,EAAaC,OAAOQ,OAAOT,IAAMM,EAAGE,UAAYR,EAAEQ,UAAW,IAAIF,IAV1C,GAa7C7J,EAAQC,YAAa,EACrBD,EAAQoK,iBAAc,EACtB,IAAIA,EAA6B,SAAUH,GAGvC,SAASG,EAAY3H,GACjB,IAAI4H,OAAY,IAAP5H,EAAgB,GAAKA,EAAI6H,EAAKD,EAAGjE,KAAMA,OAAc,IAAPkE,EAAgB,GAAKA,EAAIC,EAAKF,EAAGH,QAASA,OAAiB,IAAPK,EAAgB,GAAKA,EAC5H7F,EAAQuF,EAAOhL,KAAKtC,KAAMuN,IAAYvN,KAG1C,OAFA6M,OAAOC,eAAe/E,EAAO0F,EAAYL,WACzCrF,EAAM0B,KAAOA,EACN1B,EAEX,OATA0E,EAAUgB,EAAaH,GAShBG,EAVsB,CAW/BpI,OACFhC,EAAQoK,YAAcA,G,0OClBhBI,EACK,UA+aIC,EA5aC,WACf,IAEMzF,EAAQ0F,mBACRrD,EAASqD,mBACTC,EAAiBD,mBACjBE,EAAQF,mBACRG,EAAOH,mBACPI,EAAeJ,mBACfK,EAAeL,mBACfM,EAAeN,mBACfO,EAAeP,mBACfQ,EAAeR,mBACfS,EAAeT,mBACrB,EAA4CU,qBAA5C,mBAAOC,EAAP,KAAuBC,EAAvB,KACA,EAAoCF,mBAAS,CAC5CG,OAAO,EACPC,OAAO,EACPC,OAAO,EACPC,OAAO,EACPC,OAAO,EACPC,OAAO,IANR,mBAAOC,EAAP,KAAmBC,EAAnB,KAQA,EAA8CV,mBAAS,CAAEW,EAAG,EAAG/N,EAAG,IAAlE,mBAAOgO,EAAP,KAAwBC,EAAxB,KACA,EAAwDb,mBAAS,CAAEW,EAAG,EAAG/N,EAAG,IAA5E,mBAAOkO,EAAP,KAA6BC,EAA7B,KACA,EAAkCf,mBAAS,IAA3C,mBAAOgB,EAAP,KAAkBC,EAAlB,KAEMC,EADkBC,cACQC,aAChC,EAAkCpB,mBAAS,GAA3C,mBAAOqB,EAAP,KAAkBC,EAAlB,KACA,EAAsCtB,qBAAtC,oBAAOuB,GAAP,MAAoBC,GAApB,MACA,GAAsCxB,mBAAS,GAA/C,qBAAOyB,GAAP,MAAoBC,GAApB,MACA,GAAoC1B,mBAAS,GAA7C,qBAAO2B,GAAP,MAAmBC,GAAnB,MACA,GAAiCC,aAAQ,iBAAO,CAC/CC,KAAM1C,EACN2C,QAAS,SAACb,GAAD,MAAc,CACtBc,cAAed,EAAQe,mBAHzB,qBAASD,GAAT,MAASA,YAAeE,GAAxB,MAMA,GAAiCL,aAAQ,iBAAO,CAC/CC,KAAM1C,EACN2C,QAAS,SAACb,GAAD,MAAc,CACtBiB,cAAejB,EAAQe,mBAHzB,qBAASE,GAAT,MAASA,YAAeC,GAAxB,MAMA,GAAiCP,aAAQ,iBAAO,CAC/CC,KAAM1C,EACN2C,QAAS,SAACb,GAAD,MAAc,CACtBmB,cAAenB,EAAQe,mBAHzB,qBAASI,GAAT,MAASA,YAAeC,GAAxB,MAMA,GAAiCT,aAAQ,iBAAO,CAC/CC,KAAM1C,EACN2C,QAAS,SAACb,GAAD,MAAc,CACtBqB,cAAerB,EAAQe,mBAHzB,qBAASM,GAAT,MAASA,YAAeC,GAAxB,MAMA,GAAiCX,aAAQ,iBAAO,CAC/CC,KAAM1C,EACN2C,QAAS,SAACb,GAAD,MAAc,CACtBuB,cAAevB,EAAQe,mBAHzB,qBAASQ,GAAT,MAASA,YAAeC,GAAxB,MAMA,GAAiCb,aAAQ,iBAAO,CAC/CC,KAAM1C,EACN2C,QAAS,SAACb,GAAD,MAAc,CACtByB,cAAezB,EAAQe,mBAHzB,qBAASU,GAAT,MAASA,YAAeC,GAAxB,MAMA,GAA2CC,cACrCC,IADN,GAAQC,QAAR,GAAiBC,SAAjB,GAA2BC,KAA3B,GAAiCC,MACf,WACjB,MAA2CL,cAAnCE,EAAR,EAAQA,QAAyBG,GAAjC,EAAiBF,SAAjB,EAA2BC,KAA3B,EAAiCC,OACjC,OAAKH,EAIJ,qBAAKI,UAAU,sBAAsBD,MAAOA,EAA5C,SACC,qBAAKC,UAAU,kBAJT,OAQTC,IAAMC,WAAU,WACfnC,EAAQoC,yBAAwB,WAC/B,IAAMC,EAASrC,EAAQsC,kBACjBC,EAAsBvC,EAAQwC,yBAC9BC,EAA4BzC,EAAQ0C,+BACtCH,GAAuBE,IAC1B5C,EAAwB,CACvBJ,EAAG8C,EAAoB9C,EAAIgD,EAA0BhD,EACrD/N,EAAG6Q,EAAoB7Q,EAAI+Q,EAA0B/Q,IAEtDiO,EAAmB0C,SAKnB,CAACrC,IAEJ,IAIA,GAA2B2C,aAC1B,iBAAO,CACNC,OAAQ1E,EACR2E,KAAM,kBAAMC,GAAQzC,GAAaX,EAAiBE,IAClDiB,QAAS,SAACb,GAAD,MAAc,CACtB+C,SAAU/C,EAAQ+C,cAGpB,CAACrD,EAAiBE,EAAsBS,KARzC,qBAAmBwC,IAAnB,MAASE,OAAT,OAUMD,GAAU,SAACE,EAAOC,EAAIC,GAC3B,IAAMzD,EAAIwD,EAAGxD,EAAIyD,EAAKzD,EAChB/N,EAAIuR,EAAGvR,EAAIwR,EAAKxR,EAEhByR,EAAOH,EAAMI,QAAQC,iBACrBC,EAAK7D,EAAI0D,EAAK,GAAGpO,MACjBwO,EAAK7R,EAAIyR,EAAK,GAAGhO,OACvB6N,EAAMI,QAAQpB,MAAMwB,KAApB,UAA8B/D,EAA9B,MACAuD,EAAMI,QAAQpB,MAAMyB,IAApB,UAA6B/R,EAA7B,MACA,IAAMgS,EAAiB,2BACnB3E,GADmB,kBAErBiE,EAAMI,QAAQO,GAAK,CACnB,CAAElE,IAAG/N,KACL,CAAE+N,EAAG6D,EAAI5R,EAAG6R,MAGdvE,EAAkB0E,IAKbE,GAAWC,sBAAW,uCAC3B,WAAOhO,EAAQF,GAAf,6BAAApC,EAAA,6DAGKuQ,EAAM,EAHX,SASGA,EAAK,EATR,SAUuBC,eAAyB7J,mBAAmB,EAAGrE,GAVtE,OAUGmO,EAVH,wEAaIF,EAAM,EAbV,UAcwBC,eAAyB7J,mBAAmB,EAAGrE,GAdvE,QAcImO,EAdJ,2EAiBKF,EAAM,EAjBX,UAkByBC,eAAyB7J,mBAAmB,EAAGrE,GAlBxE,QAkBKmO,EAlBL,2EAqBMF,EAAM,EArBZ,UAsB0BC,eAAyB7J,mBAAmB,EAAGrE,GAtBzE,QAsBMmO,EAtBN,OAuBMtL,EAAM0K,QAAQa,UAAYD,EAvBhC,oEA0BOF,EAAM,EA1Bb,UA2B2BC,eAAyB7J,mBAAmB,EAAGrE,GA3B1E,QA2BOmO,EA3BP,OA4BOtL,EAAM0K,QAAQa,UAAYD,EA5BjC,oEA+BQF,EAAM,EA/Bd,UAgC4BC,eAAyB7J,mBAAmB,EAAGrE,GAhC3E,QAgCQmO,EAhCR,2EAmCSF,EAAM,EAnCf,UAoC6BC,eAAyB7J,mBAAmB,EAAGrE,GApC5E,QAoCSmO,EApCT,2EAuCUF,EAAM,EAvChB,UAwC8BC,eAAyB7J,mBAC5C,EACArE,GA1CX,QAwCUmO,EAxCV,2EA8CWF,EAAM,EA9CjB,UA+C+BC,eAAyB7J,mBAC5C,EACArE,GAjDZ,QA+CWmO,EA/CX,kEA+DOE,GAAqD,GAA1C7O,UAAUyF,UAAUqJ,QAAQ,UACvCC,EAAOL,eAAyBnP,wBAAwBkP,EAAKI,GACnEtK,QAAQY,IAAIsJ,EAAKM,IACXC,EAAe,IACT,WAAiBP,GAAO,EAAIQ,KAAKC,UAAUH,GAAQ,UAC/DrE,EAAasE,GACbzK,QAAQY,IAAIwJ,EAAYjK,iBAAiB,GAAG/C,eACtCwN,EAAiBR,EAAYjK,iBAAiB,GAAG/C,cACjDjC,EAAQyP,EAAezP,MACvBI,EAASqP,EAAerP,OAC9BqL,GAAerL,GACfuL,GAAc3L,GAGd2D,EAAM0K,QAAQa,UAAYD,EA7E3B,yHAD2B,wDAgF3B,CAACtL,EAAOqC,EAAQsD,EAAgBC,EAAOkC,GAAgBE,KAGlD+D,GAAYZ,sBAAW,sBAAC,kCAAAtQ,EAAA,sEACH8B,UAAUC,aAAaoP,0BADpB,cACvBC,EADuB,OAG7B/K,QAAQY,IAAImK,GAHiB,SAIPZ,eAAyB5L,aAJlB,OAIvBxC,EAJuB,OAKvBmK,EAAY,GAClBnK,EAAQI,KAAI,SAACiH,EAAG/J,GAAJ,OAAW6M,EAAU,gBAAD,OAAiB7M,IAAOqR,KAAKC,UAAUvH,MAEnE4H,EAAajP,EAAQC,QAAO,SAACC,GAAD,MAAkC,SAAtBA,EAAO4B,cAEnDqI,EAAU,mBAAqB8E,EAAW/R,OAAS,OAAS,QAC5DiN,EAAU,eAAiBwE,KAAKC,UAAUK,EAAW,IACrD9E,EAAU,sBAAwBwE,KAAKC,UAAUK,EAAW/R,QAC5DkN,EAAaD,GAET8E,EAAW/R,OACd+Q,GAASgB,EAAW,GAAIjP,GAExBiO,GAASjO,EAAQ,GAAIA,GAlBO,4CAoB3B,CAACiO,KAEJzB,qBAAU,WACTsC,OAEE,CA/OW,KA+OH/L,EAAOqC,EAAQsD,EAAgBC,EAAOmG,GAAWb,KAyC5D,OACC,qCACW,sBAAKD,GAAG,QAAR,mBAdS,WACpB,IAAMkB,EAAa,GACnB,IAAK,IAAIC,KAAOhF,EACf+E,EAAW/R,KACV,sBAAKmP,UAAU,WAAf,UACC,uBAAMA,UAAU,aAAhB,UAA8B6C,EAA9B,SACA,sBAAM7C,UAAU,aAAhB,SAA8BnC,EAAUgF,SAI3C,OAAOD,EAI2BE,MACjC,sBAAK9C,UAAU,YAAY+C,IAAKnC,GAAMoC,YA3LnB,SAAChU,GACrB0O,EAAmB,CAAEF,EAAGxO,EAAEiU,QAASxT,EAAGT,EAAEkU,WA0LvC,UACC,uBAAOH,IAAKtM,EAAOiL,GAAG,QAAQyB,UAAQ,EAACC,OAAK,IAC5C,qBAAK1B,GAAG,cAAR,SACC,cAAC2B,EAAA,EAAD,CACCC,MAAM,UACNC,aAAW,iBACXC,UAAU,OACVC,QAAQ,YACRV,IAAKzG,EACLoH,QA9CgB,WACpB/L,QAAQY,IAAI+F,GAAaE,IACzB,IAAMmF,EAAU7K,EAAOqI,QAAQvH,WAAW,MAC1Cd,EAAOqI,QAAQrO,MAAQ0L,GACvB1F,EAAOqI,QAAQjO,OAASoL,GACxBqF,EAAQC,UAAUnN,EAAM0K,QAAS,EAAG,EAAG7N,OAAOuQ,WAAYvQ,OAAOwQ,aACjEH,EAAQI,KAAO,cACf,IAAIC,EAAM,EACV,IAAK,IAAInB,KAAO/F,EAAgB,CAC/B,IAAMmH,EAAW,UAAMpB,EAAN,cAAeR,KAAKC,UAAUxF,EAAe+F,KAC9Dc,EAAQO,WAAWD,EAAa,GAAI,GAAK,GAAKD,EAAK,KACnDA,IAED,IAAMG,EAAMrL,EAAOqI,QAAQiD,UAAU,aACrC/H,EAAM8E,QAAQkD,aAAa,MAAOF,GAClC/H,EAAe+E,QAAQmD,KAAOH,EAC9B/H,EAAe+E,QAAQoD,SAAW,cAClCnI,EAAe+E,QAAQqD,QAEvBlR,OAAOmR,IAAIC,gBAAgBP,IAqBxB,SAQC,cAAC,IAAD,CAAapE,MAAO,CAAE4E,SAAU,WAGlC,qBAAKjD,GAAG,oBAAR,SACC,cAAC2B,EAAA,EAAD,CACCC,MAAM,YACNC,aAAW,iBACXC,UAAU,OACVC,QAAQ,YACRV,IAAKzG,EACLoH,QAhEW,WACf,IAAMkB,EAAa,2BAAQtH,GAAR,gCAA4BY,IAAc,IAE7DC,EADiBD,EAAY,GAE7BX,EAAcqH,IA6DVC,SAAU3G,GAhTO,EAySlB,SASC,cAAC,IAAD,CAAsB6B,MAAO,CAAE4E,SAAU,WAG3C,sBAAKjD,GAAG,WAAR,UACC,wBAAQA,GAAG,SAASqB,IAAKjK,EAAzB,SACE,MAEF,mBAAG4I,GAAG,iBAAiB4C,KAAK,6BAA6BvB,IAAK3G,EAA9D,mBAGA,qBAAKsF,GAAG,QAAQqB,IAAK1G,EAAOyI,IAAI,YAAYC,IAAI,4BAEjD,qBACC/E,UAAU,sBACV0B,GAAG,QACHqB,IAAKxG,EACLyI,aAAc,kBAAM3G,GAAe9B,IACnC0I,YAAa,kBAAM5G,GAAe9B,IALnC,SAOC,qBACCyD,UAAU,cACV+C,IAAKhE,GACLgB,MAAO,CACNmF,QAASrG,GAAc,EAAI,EAC3BsG,OAAQ,OACRvF,QAAStC,EAAWN,MAAQ,eAAiB,YAIhD,qBACCgD,UAAU,sBACV0B,GAAG,QACHqB,IAAKvG,EACLwI,aAAc,kBAAM3G,GAAe7B,IACnCyI,YAAa,kBAAM5G,GAAe7B,IALnC,SAOC,qBACCwD,UAAU,cACV+C,IAAK9D,GACLc,MAAO,CACNmF,QAASlG,GAAc,EAAG,EAC1BmG,OAAQ,OACRvF,QAAStC,EAAWL,MAAQ,eAAiB,YAIhD,qBACC+C,UAAU,sBACV0B,GAAG,QACHqB,IAAKtG,EACLuI,aAAc,kBAAM3G,GAAe5B,IACnCwI,YAAa,kBAAM5G,GAAe5B,IALnC,SAOC,qBACCuD,UAAU,cACV+C,IAAK5D,GACLY,MAAO,CACNmF,QAAShG,GAAc,EAAI,EAC3BiG,OAAQ,OACRvF,QAAStC,EAAWJ,MAAQ,eAAiB,YAIhD,qBACC8C,UAAU,sBACV0B,GAAG,QACHqB,IAAKrG,EACLsI,aAAc,kBAAM3G,GAAe3B,IACnCuI,YAAa,kBAAM5G,GAAe3B,IALnC,SAOC,qBACCsD,UAAU,cACV+C,IAAK1D,GACLU,MAAO,CACNmF,QAAS9F,GAAc,EAAI,EAC3B+F,OAAQ,OACRvF,QAAStC,EAAWH,MAAQ,eAAiB,YAIhD,qBACC6C,UAAU,sBACV0B,GAAG,QACHqB,IAAKpG,EACLqI,aAAc,kBAAM3G,GAAe1B,IACnCsI,YAAa,kBAAM5G,GAAe1B,IALnC,SAOC,qBACCqD,UAAU,cACV+C,IAAKxD,GACLQ,MAAO,CACNmF,QAAS5F,GAAc,EAAI,EAC3B6F,OAAQ,OACRvF,QAAStC,EAAWF,MAAQ,eAAiB,YAIhD,qBACC4C,UAAU,sBACV0B,GAAG,QACHqB,IAAKnG,EACLoI,aAAc,kBAAM3G,GAAezB,IACnCqI,YAAa,kBAAM5G,GAAezB,IALnC,SAOC,qBACCoD,UAAU,cACV+C,IAAKtD,GACLM,MAAO,CACNmF,QAAS1F,GAAc,EAAI,EAC3B2F,OAAQ,OACRvF,QAAStC,EAAWD,MAAQ,eAAiB,eAKjD,cAACsC,GAAD,Q,QChaYyF,MAZf,WACC,OACC,cAACC,EAAA,EAAD,CAAaC,QAASC,IAAcC,QAAS,CAAEC,mBAAmB,GAAlE,SACC,qBAAKzF,UAAU,MAAf,SACC,wBAAQA,UAAU,aAAlB,SACC,cAAC,EAAD,WCFU0F,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBxW,MAAK,YAAkD,IAA/CyW,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFrN,SAASsN,eAAe,SAM1BX,M","file":"static/js/main.8cbde85a.chunk.js","sourcesContent":["'use strict';\r\nvar __awaiter =\r\n\t(this && this.__awaiter) ||\r\n\tfunction (thisArg, _arguments, P, generator) {\r\n\t\tfunction adopt(value) {\r\n\t\t\treturn value instanceof P\r\n\t\t\t\t? value\r\n\t\t\t\t: new P(function (resolve) {\r\n\t\t\t\t\t\tresolve(value);\r\n\t\t\t\t  });\r\n\t\t}\r\n\t\treturn new (P || (P = Promise))(function (resolve, reject) {\r\n\t\t\tfunction fulfilled(value) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tstep(generator.next(value));\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\treject(e);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfunction rejected(value) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tstep(generator['throw'](value));\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\treject(e);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfunction step(result) {\r\n\t\t\t\tresult.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\r\n\t\t\t}\r\n\t\t\tstep((generator = generator.apply(thisArg, _arguments || [])).next());\r\n\t\t});\r\n\t};\r\nvar __generator =\r\n\t(this && this.__generator) ||\r\n\tfunction (thisArg, body) {\r\n\t\tvar _ = {\r\n\t\t\t\tlabel: 0,\r\n\t\t\t\tsent: function () {\r\n\t\t\t\t\tif (t[0] & 1) throw t[1];\r\n\t\t\t\t\treturn t[1];\r\n\t\t\t\t},\r\n\t\t\t\ttrys: [],\r\n\t\t\t\tops: [],\r\n\t\t\t},\r\n\t\t\tf,\r\n\t\t\ty,\r\n\t\t\tt,\r\n\t\t\tg;\r\n\t\treturn (\r\n\t\t\t(g = { next: verb(0), throw: verb(1), return: verb(2) }),\r\n\t\t\ttypeof Symbol === 'function' &&\r\n\t\t\t\t(g[Symbol.iterator] = function () {\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t}),\r\n\t\t\tg\r\n\t\t);\r\n\t\tfunction verb(n) {\r\n\t\t\treturn function (v) {\r\n\t\t\t\treturn step([n, v]);\r\n\t\t\t};\r\n\t\t}\r\n\t\tfunction step(op) {\r\n\t\t\tif (f) throw new TypeError('Generator is already executing.');\r\n\t\t\twhile (_)\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\t((f = 1),\r\n\t\t\t\t\t\ty &&\r\n\t\t\t\t\t\t\t(t =\r\n\t\t\t\t\t\t\t\top[0] & 2\r\n\t\t\t\t\t\t\t\t\t? y['return']\r\n\t\t\t\t\t\t\t\t\t: op[0]\r\n\t\t\t\t\t\t\t\t\t? y['throw'] || ((t = y['return']) && t.call(y), 0)\r\n\t\t\t\t\t\t\t\t\t: y.next) &&\r\n\t\t\t\t\t\t\t!(t = t.call(y, op[1])).done)\r\n\t\t\t\t\t)\r\n\t\t\t\t\t\treturn t;\r\n\t\t\t\t\tif (((y = 0), t)) op = [op[0] & 2, t.value];\r\n\t\t\t\t\tswitch (op[0]) {\r\n\t\t\t\t\t\tcase 0:\r\n\t\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\t\tt = op;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 4:\r\n\t\t\t\t\t\t\t_.label++;\r\n\t\t\t\t\t\t\treturn { value: op[1], done: false };\r\n\t\t\t\t\t\tcase 5:\r\n\t\t\t\t\t\t\t_.label++;\r\n\t\t\t\t\t\t\ty = op[1];\r\n\t\t\t\t\t\t\top = [0];\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\tcase 7:\r\n\t\t\t\t\t\t\top = _.ops.pop();\r\n\t\t\t\t\t\t\t_.trys.pop();\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t!((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\r\n\t\t\t\t\t\t\t\t(op[0] === 6 || op[0] === 2)\r\n\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t_ = 0;\r\n\t\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\r\n\t\t\t\t\t\t\t\t_.label = op[1];\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (op[0] === 6 && _.label < t[1]) {\r\n\t\t\t\t\t\t\t\t_.label = t[1];\r\n\t\t\t\t\t\t\t\tt = op;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (t && _.label < t[2]) {\r\n\t\t\t\t\t\t\t\t_.label = t[2];\r\n\t\t\t\t\t\t\t\t_.ops.push(op);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (t[2]) _.ops.pop();\r\n\t\t\t\t\t\t\t_.trys.pop();\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\top = body.call(thisArg, _);\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\top = [6, e];\r\n\t\t\t\t\ty = 0;\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tf = t = 0;\r\n\t\t\t\t}\r\n\t\t\tif (op[0] & 5) throw op[1];\r\n\t\t\treturn { value: op[0] ? op[1] : void 0, done: true };\r\n\t\t}\r\n\t};\r\nvar __spreadArrays =\r\n\t(this && this.__spreadArrays) ||\r\n\tfunction () {\r\n\t\tfor (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n\t\tfor (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n\t\t\tfor (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\r\n\t\treturn r;\r\n\t};\r\nexports.__esModule = true;\r\nexports.CameraAccess = void 0;\r\nvar browserCompatibility_1 = require('./browserCompatibility');\r\nvar browserHelper_1 = require('./browserHelper');\r\nvar camera_1 = require('./camera');\r\nvar unsupportedBrowserError_1 = require('./unsupportedBrowserError');\r\n/**\r\n * A helper object to interact with cameras.\r\n */\r\nvar CameraAccess;\r\n(function (CameraAccess) {\r\n\t/**\r\n\t * @hidden\r\n\t *\r\n\t * Handle localized camera labels. Supported languages:\r\n\t * English, German, French, Spanish (spain), Portuguese (brasil), Portuguese (portugal), Italian,\r\n\t * Chinese (simplified), Chinese (traditional), Japanese, Russian, Turkish, Dutch, Arabic, Thai, Swedish,\r\n\t * Danish, Vietnamese, Norwegian, Polish, Finnish, Indonesian, Hebrew, Greek, Romanian, Hungarian, Czech,\r\n\t * Catalan, Slovak, Ukraininan, Croatian, Malay, Hindi.\r\n\t */\r\n\tvar backCameraKeywords = [\r\n\t\t'rear',\r\n\t\t'back',\r\n\t\t'rück',\r\n\t\t'arrière',\r\n\t\t'trasera',\r\n\t\t'trás',\r\n\t\t'traseira',\r\n\t\t'posteriore',\r\n\t\t'后面',\r\n\t\t'後面',\r\n\t\t'背面',\r\n\t\t'后置',\r\n\t\t'後置',\r\n\t\t'背置',\r\n\t\t'задней',\r\n\t\t'الخلفية',\r\n\t\t'후',\r\n\t\t'arka',\r\n\t\t'achterzijde',\r\n\t\t'หลัง',\r\n\t\t'baksidan',\r\n\t\t'bagside',\r\n\t\t'sau',\r\n\t\t'bak',\r\n\t\t'tylny',\r\n\t\t'takakamera',\r\n\t\t'belakang',\r\n\t\t'אחורית',\r\n\t\t'πίσω',\r\n\t\t'spate',\r\n\t\t'hátsó',\r\n\t\t'zadní',\r\n\t\t'darrere',\r\n\t\t'zadná',\r\n\t\t'задня',\r\n\t\t'stražnja',\r\n\t\t'belakang',\r\n\t\t'बैक',\r\n\t];\r\n\t/**\r\n\t * @hidden\r\n\t */\r\n\tvar cameraObjects = new Map();\r\n\t/**\r\n\t * @hidden\r\n\t */\r\n\tvar getCamerasPromise;\r\n\t/**\r\n\t * @hidden\r\n\t *\r\n\t * @param label The camera label.\r\n\t * @returns Whether the label mentions the camera being a back-facing one.\r\n\t */\r\n\tfunction isBackCameraLabel(label) {\r\n\t\tvar lowercaseLabel = label.toLowerCase();\r\n\t\treturn backCameraKeywords.some(function (keyword) {\r\n\t\t\treturn lowercaseLabel.includes(keyword);\r\n\t\t});\r\n\t}\r\n\t/**\r\n\t * @hidden\r\n\t *\r\n\t * Adjusts the cameras' type classification based on the given currently active video stream:\r\n\t * If the stream comes from an environment-facing camera, the camera is marked to be a back-facing camera\r\n\t * and the other cameras to be of other types accordingly (if they are not correctly set already).\r\n\t *\r\n\t * The method returns the currently active camera if it's actually the main (back or only) camera in use.\r\n\t *\r\n\t * @param mediaStreamTrack The currently active `MediaStreamTrack`.\r\n\t * @param cameras The array of available [[Camera]] objects.\r\n\t * @returns Whether the stream was actually from the main camera.\r\n\t */\r\n\tfunction adjustCamerasFromMainCameraStream(mediaStreamTrack, cameras) {\r\n\t\tvar mediaTrackSettings;\r\n\t\tif (typeof mediaStreamTrack.getSettings === 'function') {\r\n\t\t\tmediaTrackSettings = mediaStreamTrack.getSettings();\r\n\t\t}\r\n\t\tvar activeCamera = cameras.find(function (camera) {\r\n\t\t\treturn (\r\n\t\t\t\t(mediaTrackSettings != null && camera.deviceId === mediaTrackSettings.deviceId) ||\r\n\t\t\t\tcamera.label === mediaStreamTrack.label\r\n\t\t\t);\r\n\t\t});\r\n\t\tif (activeCamera !== undefined) {\r\n\t\t\tvar activeCameraIsBackFacing =\r\n\t\t\t\t(mediaTrackSettings != null && mediaTrackSettings.facingMode === 'environment') ||\r\n\t\t\t\tisBackCameraLabel(mediaStreamTrack.label);\r\n\t\t\tvar activeCameraIsMainBackCamera = activeCameraIsBackFacing;\r\n\t\t\t// TODO: also correct camera types when active camera is not back-facing\r\n\t\t\tif (activeCameraIsBackFacing && cameras.length > 1) {\r\n\t\t\t\t// Correct camera types if needed\r\n\t\t\t\tcameras.forEach(function (camera) {\r\n\t\t\t\t\tif (camera.deviceId === activeCamera.deviceId) {\r\n\t\t\t\t\t\t// tslint:disable-next-line:no-any\r\n\t\t\t\t\t\tcamera.cameraType = camera_1.Camera.Type.BACK;\r\n\t\t\t\t\t} else if (!isBackCameraLabel(camera.label)) {\r\n\t\t\t\t\t\t// tslint:disable-next-line:no-any\r\n\t\t\t\t\t\tcamera.cameraType = camera_1.Camera.Type.FRONT;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tvar mainBackCamera = cameras\r\n\t\t\t\t\t.filter(function (camera) {\r\n\t\t\t\t\t\treturn camera.cameraType === camera_1.Camera.Type.BACK;\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.sort(function (camera1, camera2) {\r\n\t\t\t\t\t\treturn camera1.label.localeCompare(camera2.label);\r\n\t\t\t\t\t})[0];\r\n\t\t\t\tactiveCameraIsMainBackCamera = activeCamera.deviceId === mainBackCamera.deviceId;\r\n\t\t\t}\r\n\t\t\tif (cameras.length === 1 || activeCameraIsMainBackCamera) {\r\n\t\t\t\treturn activeCamera;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn undefined;\r\n\t}\r\n\tCameraAccess.adjustCamerasFromMainCameraStream = adjustCamerasFromMainCameraStream;\r\n\t/**\r\n\t * @hidden\r\n\t *\r\n\t * @param devices The list of available devices.\r\n\t * @returns The extracted list of camera objects initialized from the given devices.\r\n\t */\r\n\tfunction extractCamerasFromDevices(devices) {\r\n\t\tvar cameras = devices\r\n\t\t\t.filter(function (device) {\r\n\t\t\t\treturn device.kind === 'videoinput';\r\n\t\t\t})\r\n\t\t\t.map(function (videoDevice) {\r\n\t\t\t\tif (cameraObjects.has(videoDevice.deviceId)) {\r\n\t\t\t\t\treturn cameraObjects.get(videoDevice.deviceId);\r\n\t\t\t\t}\r\n\t\t\t\tvar label = videoDevice.label != null ? videoDevice.label : '';\r\n\t\t\t\tvar camera = {\r\n\t\t\t\t\tdeviceId: videoDevice.deviceId,\r\n\t\t\t\t\tlabel: label,\r\n\t\t\t\t\tcameraType: isBackCameraLabel(label) ? camera_1.Camera.Type.BACK : camera_1.Camera.Type.FRONT,\r\n\t\t\t\t};\r\n\t\t\t\tif (label !== '') {\r\n\t\t\t\t\tcameraObjects.set(videoDevice.deviceId, camera);\r\n\t\t\t\t}\r\n\t\t\t\treturn camera;\r\n\t\t\t});\r\n\t\tif (\r\n\t\t\tcameras.length > 1 &&\r\n\t\t\t!cameras.some(function (camera) {\r\n\t\t\t\treturn camera.cameraType === camera_1.Camera.Type.BACK;\r\n\t\t\t})\r\n\t\t) {\r\n\t\t\t// Check if cameras are labeled with resolution information, take the higher-resolution one in that case\r\n\t\t\t// Otherwise pick the last camera\r\n\t\t\tvar backCameraIndex = cameras.length - 1;\r\n\t\t\tvar cameraResolutions = cameras.map(function (camera) {\r\n\t\t\t\tvar match = camera.label.match(/\\b([0-9]+)MP?\\b/i);\r\n\t\t\t\tif (match != null) {\r\n\t\t\t\t\treturn parseInt(match[1], 10);\r\n\t\t\t\t}\r\n\t\t\t\treturn NaN;\r\n\t\t\t});\r\n\t\t\tif (\r\n\t\t\t\t!cameraResolutions.some(function (cameraResolution) {\r\n\t\t\t\t\treturn isNaN(cameraResolution);\r\n\t\t\t\t})\r\n\t\t\t) {\r\n\t\t\t\tbackCameraIndex = cameraResolutions.lastIndexOf(Math.max.apply(Math, cameraResolutions));\r\n\t\t\t}\r\n\t\t\t// tslint:disable-next-line:no-any\r\n\t\t\tcameras[backCameraIndex].cameraType = camera_1.Camera.Type.BACK;\r\n\t\t}\r\n\t\treturn cameras;\r\n\t}\r\n\t/**\r\n\t * Get a list of cameras (if any) available on the device, a camera access permission is requested to the user\r\n\t * the first time this method is called if needed.\r\n\t *\r\n\t * Depending on device features and user permissions for camera access, any of the following errors\r\n\t * could be the rejected result of the returned promise:\r\n\t * - `UnsupportedBrowserError`\r\n\t * - `PermissionDeniedError`\r\n\t * - `NotAllowedError`\r\n\t * - `NotFoundError`\r\n\t * - `AbortError`\r\n\t * - `NotReadableError`\r\n\t * - `InternalError`\r\n\t *\r\n\t * @returns A promise resolving to the array of available [[Camera]] objects (could be empty).\r\n\t */\r\n\tfunction getCameras() {\r\n\t\tvar _this = this;\r\n\t\tif (getCamerasPromise != null) {\r\n\t\t\treturn getCamerasPromise;\r\n\t\t}\r\n\t\tvar browserCompatibility = browserHelper_1.BrowserHelper.checkBrowserCompatibility();\r\n\t\tif (!browserCompatibility.fullSupport) {\r\n\t\t\treturn Promise.reject(new unsupportedBrowserError_1.UnsupportedBrowserError(browserCompatibility));\r\n\t\t}\r\n\t\tvar accessPermissionPromise = new Promise(function (resolve, reject) {\r\n\t\t\treturn enumerateDevices()\r\n\t\t\t\t.then(function (devices) {\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tdevices\r\n\t\t\t\t\t\t\t.filter(function (device) {\r\n\t\t\t\t\t\t\t\treturn device.kind === 'videoinput';\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.every(function (device) {\r\n\t\t\t\t\t\t\t\treturn device.label === '';\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tresolve(\r\n\t\t\t\t\t\t\tnavigator.mediaDevices.getUserMedia({\r\n\t\t\t\t\t\t\t\tvideo: true,\r\n\t\t\t\t\t\t\t\taudio: false,\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t['catch'](reject);\r\n\t\t});\r\n\t\tgetCamerasPromise = new Promise(function (resolve, reject) {\r\n\t\t\treturn __awaiter(_this, void 0, void 0, function () {\r\n\t\t\t\tvar stream, devices, cameras, error_1;\r\n\t\t\t\treturn __generator(this, function (_a) {\r\n\t\t\t\t\tswitch (_a.label) {\r\n\t\t\t\t\t\tcase 0:\r\n\t\t\t\t\t\t\t_a.trys.push([0, 3, 4, 5]);\r\n\t\t\t\t\t\t\treturn [4 /*yield*/, accessPermissionPromise];\r\n\t\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\t\tstream = _a.sent();\r\n\t\t\t\t\t\t\treturn [4 /*yield*/, enumerateDevices()];\r\n\t\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\t\tdevices = _a.sent();\r\n\t\t\t\t\t\t\tcameras = extractCamerasFromDevices(devices);\r\n\t\t\t\t\t\t\tconsole.debug.apply(console, __spreadArrays(['Camera list: '], cameras));\r\n\t\t\t\t\t\t\treturn [2 /*return*/, resolve(cameras)];\r\n\t\t\t\t\t\tcase 3:\r\n\t\t\t\t\t\t\terror_1 = _a.sent();\r\n\t\t\t\t\t\t\t// istanbul ignore if\r\n\t\t\t\t\t\t\tif (error_1.name === 'SourceUnavailableError') {\r\n\t\t\t\t\t\t\t\terror_1.name = 'NotReadableError';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn [2 /*return*/, reject(error_1)];\r\n\t\t\t\t\t\tcase 4:\r\n\t\t\t\t\t\t\t// istanbul ignore else\r\n\t\t\t\t\t\t\tif (stream != null) {\r\n\t\t\t\t\t\t\t\tstream.getVideoTracks().forEach(function (track) {\r\n\t\t\t\t\t\t\t\t\ttrack.stop();\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tgetCamerasPromise = undefined;\r\n\t\t\t\t\t\t\treturn [7 /*endfinally*/];\r\n\t\t\t\t\t\tcase 5:\r\n\t\t\t\t\t\t\treturn [2 /*return*/];\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t\treturn getCamerasPromise;\r\n\t}\r\n\tCameraAccess.getCameras = getCameras;\r\n\t/**\r\n\t * @hidden\r\n\t *\r\n\t * Call `navigator.mediaDevices.getUserMedia` asynchronously in a `setTimeout` call.\r\n\t *\r\n\t * @param getUserMediaParams The parameters for the `navigator.mediaDevices.getUserMedia` call.\r\n\t * @returns A promise resolving when the camera is accessed.\r\n\t */\r\n\tfunction getUserMediaDelayed(getUserMediaParams) {\r\n\t\tconsole.log('Camera access:', getUserMediaParams.video);\r\n\t\treturn new Promise(function (resolve, reject) {\r\n\t\t\twindow.setTimeout(function () {\r\n\t\t\t\tnavigator.mediaDevices.getUserMedia(getUserMediaParams).then(resolve)['catch'](reject);\r\n\t\t\t}, 0);\r\n\t\t});\r\n\t}\r\n\t/**\r\n\t * @hidden\r\n\t *\r\n\t * Get the *getUserMedia* *video* parameters to be used given a resolution fallback level and the browser used.\r\n\t *\r\n\t * @param resolutionFallbackLevel The number representing the wanted resolution, from 0 to 6,\r\n\t * resulting in higher to lower video resolutions.\r\n\t * @param isSafariBrowser Whether the browser is *Safari*.\r\n\t * @returns The resulting *getUserMedia* *video* parameters.\r\n\t */\r\n\tfunction getUserMediaVideoParams(resolutionFallbackLevel, isSafariBrowser) {\r\n\t\tswitch (resolutionFallbackLevel) {\r\n\t\t\tcase 1:\r\n\t\t\tcase 2:\r\n\t\t\t\tif (isSafariBrowser) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\twidth: { min: 1920, ideal: 3840, max: 4096 },\r\n\t\t\t\t\t\theight: { min: 1080, ideal: 2160, max: 2160 },\r\n\t\t\t\t\t};\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\twidth: { min: 1920, ideal: 3840, max: 3840 },\r\n\t\t\t\t\t\theight: { min: 1440, ideal: 2180, max: 2180 },\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\tcase 3:\r\n\t\t\t\tif (isSafariBrowser) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\twidth: { min: 1400, ideal: 1920, max: 1920 },\r\n\t\t\t\t\t\theight: { min: 900, ideal: 1080, max: 1440 },\r\n\t\t\t\t\t};\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\twidth: { min: 1400, ideal: 1920, max: 1920 },\r\n\t\t\t\t\t\theight: { min: 900, ideal: 1440, max: 1440 },\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\tcase 4:\r\n\t\t\t\tif (isSafariBrowser) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\twidth: { min: 1200, ideal: 1600, max: 1920 },\r\n\t\t\t\t\t\theight: { min: 900, ideal: 1080, max: 1200 },\r\n\t\t\t\t\t};\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\twidth: { min: 1200, ideal: 1920, max: 1920 },\r\n\t\t\t\t\t\theight: { min: 900, ideal: 1200, max: 1200 },\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\tcase 5:\r\n\t\t\t\tif (isSafariBrowser) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\twidth: { min: 1080, ideal: 1600, max: 1920 },\r\n\t\t\t\t\t\theight: { min: 900, ideal: 900, max: 1080 },\r\n\t\t\t\t\t};\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\twidth: { min: 1080, ideal: 1920, max: 1920 },\r\n\t\t\t\t\t\theight: { min: 900, ideal: 1080, max: 1080 },\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\tcase 6:\r\n\t\t\t\tif (isSafariBrowser) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\twidth: { min: 960, ideal: 1280, max: 1440 },\r\n\t\t\t\t\t\theight: { min: 480, ideal: 720, max: 960 },\r\n\t\t\t\t\t};\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\twidth: { min: 960, ideal: 1280, max: 1440 },\r\n\t\t\t\t\t\theight: { min: 480, ideal: 960, max: 960 },\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\tcase 7:\r\n\t\t\t\tif (isSafariBrowser) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\twidth: { min: 720, ideal: 1024, max: 1440 },\r\n\t\t\t\t\t\theight: { min: 480, ideal: 768, max: 768 },\r\n\t\t\t\t\t};\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\twidth: { min: 720, ideal: 1280, max: 1440 },\r\n\t\t\t\t\t\theight: { min: 480, ideal: 720, max: 768 },\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\tcase 8:\r\n\t\t\t\tif (isSafariBrowser) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\twidth: { min: 640, ideal: 800, max: 1440 },\r\n\t\t\t\t\t\theight: { min: 480, ideal: 600, max: 720 },\r\n\t\t\t\t\t};\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\twidth: { min: 640, ideal: 960, max: 1440 },\r\n\t\t\t\t\t\theight: { min: 480, ideal: 720, max: 720 },\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\tdefault:\r\n\t\t\t\treturn {};\r\n\t\t}\r\n\t}\r\n\tCameraAccess.getUserMediaVideoParams = getUserMediaVideoParams;\r\n\r\n\t/**\r\n\t * @hidden\r\n\t *\r\n\t * Try to access a given camera for video input at the given resolution level.\r\n\t *\r\n\t * @param resolutionFallbackLevel The number representing the wanted resolution, from 0 to 6,\r\n\t * resulting in higher to lower video resolutions.\r\n\t * @param camera The camera to try to access for video input.\r\n\t * @returns A promise resolving to the `MediaStream` object coming from the accessed camera.\r\n\t */\r\n\tfunction accessCameraStream(resolutionFallbackLevel, camera) {\r\n\t\tvar browserName = browserHelper_1.BrowserHelper.userAgentInfo.getBrowser().name;\r\n\t\tvar getUserMediaParams;\r\n\t\tif (resolutionFallbackLevel < 0) {\r\n\t\t\tgetUserMediaParams = {\r\n\t\t\t\taudio: false,\r\n\t\t\t\tvideo: { facingMode: 'environment' },\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tgetUserMediaParams = {\r\n\t\t\t\taudio: false,\r\n\t\t\t\tvideo: getUserMediaVideoParams(\r\n\t\t\t\t\tresolutionFallbackLevel,\r\n\t\t\t\t\tbrowserName != null && browserName.includes('Safari'),\r\n\t\t\t\t),\r\n\t\t\t};\r\n\t\t}\r\n\t\tif (camera.deviceId === '' || (browserName != null && browserName.includes('Safari'))) {\r\n\t\t\tgetUserMediaParams.video.facingMode = {\r\n\t\t\t\tideal: camera.cameraType === camera_1.Camera.Type.BACK ? 'environment' : 'user',\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tgetUserMediaParams.video.deviceId = {\r\n\t\t\t\texact: camera.deviceId,\r\n\t\t\t};\r\n\t\t}\r\n\t\tconsole.log(getUserMediaParams);\r\n\t\treturn getUserMediaDelayed(getUserMediaParams);\r\n\t}\r\n\tCameraAccess.accessCameraStream = accessCameraStream;\r\n\t/**\r\n\t * @hidden\r\n\t *\r\n\t * Get a list of available devices in a cross-browser compatible way.\r\n\t *\r\n\t * @returns A promise resolving to the `MediaDeviceInfo` array of all available devices.\r\n\t */\r\n\tfunction enumerateDevices() {\r\n\t\tif (typeof navigator.enumerateDevices === 'function') {\r\n\t\t\treturn navigator.enumerateDevices();\r\n\t\t} else if (\r\n\t\t\ttypeof navigator.mediaDevices === 'object' &&\r\n\t\t\ttypeof navigator.mediaDevices.enumerateDevices === 'function'\r\n\t\t) {\r\n\t\t\treturn navigator.mediaDevices.enumerateDevices();\r\n\t\t} else {\r\n\t\t\treturn new Promise(function (resolve, reject) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (window.MediaStreamTrack == null || window.MediaStreamTrack.getSources == null) {\r\n\t\t\t\t\t\tthrow new Error();\r\n\t\t\t\t\t}\r\n\t\t\t\t\twindow.MediaStreamTrack.getSources(function (devices) {\r\n\t\t\t\t\t\tresolve(\r\n\t\t\t\t\t\t\tdevices\r\n\t\t\t\t\t\t\t\t.filter(function (device) {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\tdevice.kind.toLowerCase() === 'video' ||\r\n\t\t\t\t\t\t\t\t\t\tdevice.kind.toLowerCase() === 'videoinput'\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t.map(function (device) {\r\n\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\tdeviceId: device.deviceId != null ? device.deviceId : '',\r\n\t\t\t\t\t\t\t\t\t\tgroupId: device.groupId,\r\n\t\t\t\t\t\t\t\t\t\tkind: 'videoinput',\r\n\t\t\t\t\t\t\t\t\t\tlabel: device.label,\r\n\t\t\t\t\t\t\t\t\t\ttoJSON: /* istanbul ignore next */ function () {\r\n\t\t\t\t\t\t\t\t\t\t\treturn this;\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t});\r\n\t\t\t\t} catch (_a) {\r\n\t\t\t\t\tvar browserCompatibility = {\r\n\t\t\t\t\t\tfullSupport: false,\r\n\t\t\t\t\t\tscannerSupport: true,\r\n\t\t\t\t\t\tmissingFeatures: [browserCompatibility_1.BrowserCompatibility.Feature.MEDIA_DEVICES],\r\n\t\t\t\t\t};\r\n\t\t\t\t\treturn reject(new unsupportedBrowserError_1.UnsupportedBrowserError(browserCompatibility));\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n})((CameraAccess = exports.CameraAccess || (exports.CameraAccess = {})));\r\n","\"use strict\";\r\nexports.__esModule = true;\r\nexports.BrowserCompatibility = void 0;\r\nvar BrowserCompatibility;\r\n(function (BrowserCompatibility) {\r\n    /**\r\n     * Browser feature.\r\n     */\r\n    var Feature;\r\n    (function (Feature) {\r\n        /**\r\n         * [Blob](https://developer.mozilla.org/en-US/docs/Web/API/Blob) -\r\n         * [current support?](https://caniuse.com/#feat=blobbuilder)\r\n         */\r\n        Feature[\"BLOB\"] = \"blob\";\r\n        /**\r\n         * [MediaDevices/getUserMedia](https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia) -\r\n         * [current support?](https://caniuse.com/#feat=stream)\r\n         */\r\n        Feature[\"MEDIA_DEVICES\"] = \"mediaDevices\";\r\n        /**\r\n         * [OffscreenCanvas](https://developer.mozilla.org/en-US/docs/Web/API/OffscreenCanvas) -\r\n         * [current support?](https://caniuse.com/#feat=offscreencanvas)\r\n         */\r\n        Feature[\"OFFSCREEN_CANVAS\"] = \"offscreenCanvas\";\r\n        /**\r\n         * [URL/createObjectURL](https://developer.mozilla.org/en-US/docs/Web/API/URL/createObjectURL) -\r\n         * [current support?](https://caniuse.com/#feat=bloburls)\r\n         */\r\n        Feature[\"URL_OBJECT\"] = \"urlObject\";\r\n        /**\r\n         * [Web Workers](https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API) -\r\n         * [current support?](https://caniuse.com/#feat=webworkers)\r\n         */\r\n        Feature[\"WEB_WORKERS\"] = \"webWorkers\";\r\n        /**\r\n         * [WebAssembly](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_objects/WebAssembly) -\r\n         * [current support?](https://caniuse.com/#feat=wasm)\r\n         */\r\n        Feature[\"WEB_ASSEMBLY\"] = \"webAssembly\";\r\n        /**\r\n         * WebAssembly without memory corruption (specific iOS version 11.2.2/11.2.5/11.2.6 bug)\r\n         */\r\n        Feature[\"WEB_ASSEMBLY_ERROR_FREE\"] = \"webAssemblyErrorFree\";\r\n        /**\r\n         * [WebGL](https://developer.mozilla.org/en-US/docs/Web/API/WebGL_API) -\r\n         * [current support?](https://caniuse.com/#feat=webgl)\r\n         */\r\n        Feature[\"WEBGL\"] = \"webgl\";\r\n    })(Feature = BrowserCompatibility.Feature || (BrowserCompatibility.Feature = {}));\r\n})(BrowserCompatibility = exports.BrowserCompatibility || (exports.BrowserCompatibility = {}));\r\n","\"use strict\";\r\nexports.__esModule = true;\r\nexports.BrowserHelper = exports.UAParser = void 0;\r\nvar js_cookie_1 = require(\"js-cookie\");\r\nvar ua_parser_js_1 = require(\"ua-parser-js\");\r\nexports.UAParser = ua_parser_js_1.UAParser;\r\nvar browserCompatibility_1 = require(\"./browserCompatibility\");\r\nvar BrowserHelper;\r\n(function (BrowserHelper) {\r\n    /**\r\n     * @hidden\r\n     */\r\n    BrowserHelper.userAgentInfo = new ua_parser_js_1.UAParser(navigator.userAgent);\r\n    /**\r\n     * @hidden\r\n     */\r\n    BrowserHelper.canvas = document.createElement(\"canvas\");\r\n    /**\r\n     * @returns The built [[BrowserCompatibility]] object representing the current OS/Browser's support for features.\r\n     */\r\n    function checkBrowserCompatibility() {\r\n        function objectHasPropertyWithType(object, propertyNames, propertyType) {\r\n            // tslint:disable-next-line:no-any\r\n            var objectProperty = object[propertyNames[0]];\r\n            if (objectProperty == null) {\r\n                return false;\r\n            }\r\n            if (propertyNames.length === 1) {\r\n                return typeof objectProperty === propertyType;\r\n            }\r\n            else {\r\n                return ((typeof objectProperty === \"function\" || typeof objectProperty === \"object\") &&\r\n                    objectHasPropertyWithType(objectProperty, propertyNames.slice(1), propertyType));\r\n            }\r\n        }\r\n        function isBrokenWebAssemblyOS(os) {\r\n            return os.name === \"iOS\" && os.version != null && [\"11.2.2\", \"11.2.5\", \"11.2.6\"].includes(os.version);\r\n        }\r\n        var fullSupport = true;\r\n        var scannerSupport = true;\r\n        var missingFeatures = [];\r\n        if (!objectHasPropertyWithType(navigator, [\"mediaDevices\", \"getUserMedia\"], \"function\") &&\r\n            !objectHasPropertyWithType(navigator, [\"enumerateDevices\"], \"function\") &&\r\n            !objectHasPropertyWithType(window, [\"MediaStreamTrack\", \"getSources\"], \"function\")) {\r\n            missingFeatures.push(browserCompatibility_1.BrowserCompatibility.Feature.MEDIA_DEVICES);\r\n            fullSupport = false;\r\n        }\r\n        if (!objectHasPropertyWithType(window, [\"Worker\"], \"function\")) {\r\n            missingFeatures.push(browserCompatibility_1.BrowserCompatibility.Feature.WEB_WORKERS);\r\n            fullSupport = scannerSupport = false;\r\n        }\r\n        if (!objectHasPropertyWithType(window, [\"WebAssembly\"], \"object\")) {\r\n            missingFeatures.push(browserCompatibility_1.BrowserCompatibility.Feature.WEB_ASSEMBLY);\r\n            fullSupport = scannerSupport = false;\r\n        }\r\n        if (!objectHasPropertyWithType(window, [\"Blob\"], \"function\")) {\r\n            missingFeatures.push(browserCompatibility_1.BrowserCompatibility.Feature.BLOB);\r\n            fullSupport = scannerSupport = false;\r\n        }\r\n        if (!objectHasPropertyWithType(window, [\"URL\", \"createObjectURL\"], \"function\")) {\r\n            missingFeatures.push(browserCompatibility_1.BrowserCompatibility.Feature.URL_OBJECT);\r\n            fullSupport = scannerSupport = false;\r\n        }\r\n        if (!objectHasPropertyWithType(window, [\"OffscreenCanvas\"], \"function\")) {\r\n            missingFeatures.push(browserCompatibility_1.BrowserCompatibility.Feature.OFFSCREEN_CANVAS);\r\n        }\r\n        try {\r\n            if (!objectHasPropertyWithType(window, [\"WebGLRenderingContext\"], \"function\") ||\r\n                (BrowserHelper.canvas.getContext(\"webgl\") == null && BrowserHelper.canvas.getContext(\"experimental-webgl\") == null)) {\r\n                throw new Error();\r\n            }\r\n        }\r\n        catch (_a) {\r\n            missingFeatures.push(browserCompatibility_1.BrowserCompatibility.Feature.WEBGL);\r\n        }\r\n        var userAgentOS = BrowserHelper.userAgentInfo.getOS();\r\n        if (isBrokenWebAssemblyOS(userAgentOS)) {\r\n            missingFeatures.push(browserCompatibility_1.BrowserCompatibility.Feature.WEB_ASSEMBLY_ERROR_FREE);\r\n            fullSupport = scannerSupport = false;\r\n        }\r\n        return {\r\n            fullSupport: fullSupport,\r\n            scannerSupport: scannerSupport,\r\n            missingFeatures: missingFeatures\r\n        };\r\n    }\r\n    BrowserHelper.checkBrowserCompatibility = checkBrowserCompatibility;\r\n    /**\r\n     * @hidden\r\n     *\r\n     * Get a device id for the current browser, when available it's retrieved from a cookie,\r\n     * when not it's randomly generated and stored in a cookie to be retrieved by later calls.\r\n     *\r\n     * @returns The device id for the current browser.\r\n     */\r\n    function getDeviceId() {\r\n        var cookieKey = \"scandit-device-id\";\r\n        var storedDeviceId = js_cookie_1[\"default\"].get(\"scandit-device-id\");\r\n        if (storedDeviceId != null && storedDeviceId !== \"\") {\r\n            return storedDeviceId;\r\n        }\r\n        var hexCharacters = \"0123456789abcdef\";\r\n        var randomDeviceId = \"\";\r\n        for (var i = 0; i < 40; ++i) {\r\n            // tslint:disable-next-line:insecure-random\r\n            randomDeviceId += hexCharacters.charAt(Math.floor(Math.random() * 16));\r\n        }\r\n        js_cookie_1[\"default\"].set(cookieKey, randomDeviceId, { expires: 3650 });\r\n        return randomDeviceId;\r\n    }\r\n    BrowserHelper.getDeviceId = getDeviceId;\r\n    /**\r\n     * @hidden\r\n     *\r\n     * Check if a given object is a valid HTMLElement\r\n     *\r\n     * @param object The object to check.\r\n     * @returns Whether the given object is a valid HTMLElement.\r\n     */\r\n    // tslint:disable-next-line:no-any\r\n    function isValidHTMLElement(object) {\r\n        return (object instanceof HTMLElement ||\r\n            (object != null && typeof object === \"object\" && typeof object.tagName === \"string\"));\r\n    }\r\n    BrowserHelper.isValidHTMLElement = isValidHTMLElement;\r\n})(BrowserHelper = exports.BrowserHelper || (exports.BrowserHelper = {}));\r\n","\"use strict\";\r\nexports.__esModule = true;\r\nexports.Camera = void 0;\r\nvar Camera;\r\n(function (Camera) {\r\n    /**\r\n     * Camera type (not guaranteed to be correct, depending on the device).\r\n     */\r\n    var Type;\r\n    (function (Type) {\r\n        /**\r\n         * Front facing camera.\r\n         */\r\n        Type[\"FRONT\"] = \"front\";\r\n        /**\r\n         * Back facing camera.\r\n         */\r\n        Type[\"BACK\"] = \"back\";\r\n    })(Type = Camera.Type || (Camera.Type = {}));\r\n})(Camera = exports.Camera || (exports.Camera = {}));\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nexports.__esModule = true;\r\nexports.UnsupportedBrowserError = void 0;\r\nvar customError_1 = require(\"./customError\");\r\n/**\r\n * @hidden\r\n */\r\nvar UnsupportedBrowserError = /** @class */ (function (_super) {\r\n    __extends(UnsupportedBrowserError, _super);\r\n    // istanbul ignore next\r\n    function UnsupportedBrowserError(browserCompatibility) {\r\n        var _this = _super.call(this, {\r\n            name: \"UnsupportedBrowserError\",\r\n            message: \"This OS / Browser has one or more missing features preventing it from working correctly\"\r\n        }) || this;\r\n        _this.data = browserCompatibility;\r\n        return _this;\r\n    }\r\n    return UnsupportedBrowserError;\r\n}(customError_1.CustomError));\r\nexports.UnsupportedBrowserError = UnsupportedBrowserError;\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nexports.__esModule = true;\r\nexports.CustomError = void 0;\r\nvar CustomError = /** @class */ (function (_super) {\r\n    __extends(CustomError, _super);\r\n    // istanbul ignore next\r\n    function CustomError(_a) {\r\n        var _b = _a === void 0 ? {} : _a, _c = _b.name, name = _c === void 0 ? \"\" : _c, _d = _b.message, message = _d === void 0 ? \"\" : _d;\r\n        var _this = _super.call(this, message) || this;\r\n        Object.setPrototypeOf(_this, CustomError.prototype);\r\n        _this.name = name;\r\n        return _this;\r\n    }\r\n    return CustomError;\r\n}(Error));\r\nexports.CustomError = CustomError;\r\n","import * as CamerHelper from './cameraAccess';\r\n\r\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\r\nimport { useDrag, useDragDropManager, useDrop } from 'react-dnd';\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport PhotoCamera from '@material-ui/icons/PhotoCamera';\r\nimport SettingsOverscanIcon from '@material-ui/icons/SettingsOverscan';\r\nimport { usePreview } from 'react-dnd-preview';\r\n\r\nconst ItemTypes = {\r\n\tBOUNDARY: 'boundry',\r\n};\r\n\r\nconst Capture = () => {\r\n\tconst debug = true;\r\n\tconst allowedBBoxes = 2;\r\n\tconst video = useRef();\r\n\tconst canvas = useRef();\r\n\tconst downloadAnchor = useRef();\r\n\tconst photo = useRef();\r\n\tconst snap = useRef();\r\n\tconst bboxWrapper0 = useRef();\r\n\tconst bboxWrapper1 = useRef();\r\n\tconst bboxWrapper2 = useRef();\r\n\tconst bboxWrapper3 = useRef();\r\n\tconst bboxWrapper4 = useRef();\r\n\tconst bboxWrapper5 = useRef();\r\n\tconst [bboxProperties, setBboxProperties] = useState();\r\n\tconst [displayBox, setDisplayBox] = useState({\r\n\t\tdisp0: false,\r\n\t\tdisp1: false,\r\n\t\tdisp2: false,\r\n\t\tdisp3: false,\r\n\t\tdisp4: false,\r\n\t\tdisp5: false,\r\n\t});\r\n\tconst [currentPosition, setCurrentPosition] = useState({ x: 0, y: 0 });\r\n\tconst [dragInitPositionDiff, setDragInitPositionDiff] = useState({ x: 0, y: 0 });\r\n\tconst [debugData, setDebugData] = useState([]);\r\n\tconst dragDropManager = useDragDropManager();\r\n\tconst monitor = dragDropManager.getMonitor();\r\n\tconst [bboxCount, setBBoxCount] = useState(0);\r\n\tconst [currentBBox, setCurrentBBox] = useState();\r\n\tconst [imageHeight, setImageHieght] = useState(0);\r\n\tconst [imageWidth, setImageWidth] = useState(0);\r\n\tconst [{ isDragging0 }, bbox0] = useDrag(() => ({\r\n\t\ttype: ItemTypes.BOUNDARY,\r\n\t\tcollect: (monitor) => ({\r\n\t\t\tisDragging0: !!monitor.isDragging(),\r\n\t\t}),\r\n\t}));\r\n\tconst [{ isDragging1 }, bbox1] = useDrag(() => ({\r\n\t\ttype: ItemTypes.BOUNDARY,\r\n\t\tcollect: (monitor) => ({\r\n\t\t\tisDragging1: !!monitor.isDragging(),\r\n\t\t}),\r\n\t}));\r\n\tconst [{ isDragging2 }, bbox2] = useDrag(() => ({\r\n\t\ttype: ItemTypes.BOUNDARY,\r\n\t\tcollect: (monitor) => ({\r\n\t\t\tisDragging2: !!monitor.isDragging(),\r\n\t\t}),\r\n\t}));\r\n\tconst [{ isDragging3 }, bbox3] = useDrag(() => ({\r\n\t\ttype: ItemTypes.BOUNDARY,\r\n\t\tcollect: (monitor) => ({\r\n\t\t\tisDragging3: !!monitor.isDragging(),\r\n\t\t}),\r\n\t}));\r\n\tconst [{ isDragging4 }, bbox4] = useDrag(() => ({\r\n\t\ttype: ItemTypes.BOUNDARY,\r\n\t\tcollect: (monitor) => ({\r\n\t\t\tisDragging4: !!monitor.isDragging(),\r\n\t\t}),\r\n\t}));\r\n\tconst [{ isDragging5 }, bbox5] = useDrag(() => ({\r\n\t\ttype: ItemTypes.BOUNDARY,\r\n\t\tcollect: (monitor) => ({\r\n\t\t\tisDragging5: !!monitor.isDragging(),\r\n\t\t}),\r\n\t}));\r\n\tconst { display, itemType, item, style } = usePreview();\r\n\tconst MyPreview = () => {\r\n\t\tconst { display, itemType, item, style } = usePreview();\r\n\t\tif (!display) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div className='boundingBoxWrapper1' style={style}>\r\n\t\t\t\t<div className='boundingBox'></div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t};\r\n\tReact.useEffect(() => {\r\n\t\tmonitor.subscribeToOffsetChange(() => {\r\n\t\t\tconst offset = monitor.getClientOffset();\r\n\t\t\tconst initialClientOffset = monitor.getInitialClientOffset();\r\n\t\t\tconst initialSourceClientOffset = monitor.getInitialSourceClientOffset();\r\n\t\t\tif (initialClientOffset && initialSourceClientOffset) {\r\n\t\t\t\tsetDragInitPositionDiff({\r\n\t\t\t\t\tx: initialClientOffset.x - initialSourceClientOffset.x,\r\n\t\t\t\t\ty: initialClientOffset.y - initialSourceClientOffset.y,\r\n\t\t\t\t});\r\n\t\t\t\tsetCurrentPosition(offset);\r\n\t\t\t}\r\n\r\n\t\t\t// do stuff like setState, though consider directly updating style through refs for performance\r\n\t\t});\r\n\t}, [monitor]);\r\n\r\n\tconst _onMouseMove = (e) => {\r\n\t\tsetCurrentPosition({ x: e.screenX, y: e.screenY });\r\n\t};\r\n\r\n\tconst [{ isOver }, drop] = useDrop(\r\n\t\t() => ({\r\n\t\t\taccept: ItemTypes.BOUNDARY,\r\n\t\t\tdrop: () => moveBox(currentBBox, currentPosition, dragInitPositionDiff),\r\n\t\t\tcollect: (monitor) => ({\r\n\t\t\t\tisOver: !!monitor.isOver(),\r\n\t\t\t}),\r\n\t\t}),\r\n\t\t[currentPosition, dragInitPositionDiff, currentBBox],\r\n\t);\r\n\tconst moveBox = (cbbox, cp, diff) => {\r\n\t\tconst x = cp.x - diff.x;\r\n\t\tconst y = cp.y - diff.y;\r\n\r\n\t\tconst rbox = cbbox.current.getClientRects();\r\n\t\tconst x1 = x + rbox[0].width;\r\n\t\tconst y1 = y + rbox[0].height;\r\n\t\tcbbox.current.style.left = `${x}px`;\r\n\t\tcbbox.current.style.top = `${y}px`;\r\n\t\tconst newBboxProperties = {\r\n\t\t\t...bboxProperties,\r\n\t\t\t[cbbox.current.id]: [\r\n\t\t\t\t{ x, y },\r\n\t\t\t\t{ x: x1, y: y1 },\r\n\t\t\t],\r\n\t\t};\r\n\t\tsetBboxProperties(newBboxProperties);\r\n\t\t// drag.current.left = `${currentPosition.x}px`;\r\n\t\t// drag.current.top = `${currentPosition.y}px`;\r\n\t};\r\n\r\n\tconst getVideo = useCallback(\r\n\t\tasync (device, devices) => {\r\n\t\t\t// console.log(device.getCapabilities())\r\n\t\t\tlet mediaStream;\r\n\t\t\tlet res = 0;\r\n\t\t\t// try {\r\n\t\t\t// \tres = -1;\r\n\t\t\t// \tmediaStream = await CamerHelper.CameraAccess.accessCameraStream(-1, device);\r\n\t\t\t// } catch {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tres =0\r\n\t\t\t\t\tmediaStream = await CamerHelper.CameraAccess.accessCameraStream(0, device);\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tres = 1;\r\n\t\t\t\t\t\tmediaStream = await CamerHelper.CameraAccess.accessCameraStream(1, device);\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tres = 2;\r\n\t\t\t\t\t\t\tmediaStream = await CamerHelper.CameraAccess.accessCameraStream(2, device);\r\n\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tres = 3;\r\n\t\t\t\t\t\t\t\tmediaStream = await CamerHelper.CameraAccess.accessCameraStream(3, device);\r\n\t\t\t\t\t\t\t\tvideo.current.srcObject = mediaStream;\r\n\t\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\tres = 4;\r\n\t\t\t\t\t\t\t\t\tmediaStream = await CamerHelper.CameraAccess.accessCameraStream(4, device);\r\n\t\t\t\t\t\t\t\t\tvideo.current.srcObject = mediaStream;\r\n\t\t\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\t\tres = 5;\r\n\t\t\t\t\t\t\t\t\t\tmediaStream = await CamerHelper.CameraAccess.accessCameraStream(5, device);\r\n\t\t\t\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\t\t\tres = 6;\r\n\t\t\t\t\t\t\t\t\t\t\tmediaStream = await CamerHelper.CameraAccess.accessCameraStream(6, device);\r\n\t\t\t\t\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\t\t\t\tres = 7;\r\n\t\t\t\t\t\t\t\t\t\t\t\tmediaStream = await CamerHelper.CameraAccess.accessCameraStream(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t7,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdevice,\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tres = 8;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmediaStream = await CamerHelper.CameraAccess.accessCameraStream(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t8,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdevice,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t} catch (e) {}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t// }\t\t\t\t\r\n\t\t\t// const newCamera = await CamerHelper.CameraAccess.adjustCamerasFromMainCameraStream(mediaStream, devices)\r\n\t\t\t// console.log(newCamera);\r\n\t\t\tconst isSafari = navigator.userAgent.indexOf('Safari') != -1;\r\n\t\t\tconst reso = CamerHelper.CameraAccess.getUserMediaVideoParams(res, isSafari);\r\n\t\t\tconsole.log(res, reso);\r\n\t\t\tconst newDebugData = {};\r\n\t\t\tnewDebugData['resolution'] = res >= 0 ? JSON.stringify(reso) : \"generic\";\r\n\t\t\tsetDebugData(newDebugData);\r\n\t\t\tconsole.log(mediaStream.getVideoTracks()[0].getSettings());\r\n\t\t\tconst streamSettings = mediaStream.getVideoTracks()[0].getSettings();\r\n\t\t\tconst width = streamSettings.width;\r\n\t\t\tconst height = streamSettings.height;\r\n\t\t\tsetImageHieght(height);\r\n\t\t\tsetImageWidth(width);\r\n\t\t\t// canvas.current.width = `${width}px`;\r\n\t\t\t// canvas.current.height = `${height}px`;\r\n\t\t\tvideo.current.srcObject = mediaStream;\r\n\t\t},\r\n\t\t[video, canvas, downloadAnchor, photo, setImageHieght, setImageWidth],\r\n\t);\r\n\r\n\tconst getCamera = useCallback(async () => {\r\n\t\tconst enumDevices = await navigator.mediaDevices.getSupportedConstraints();\r\n\t\t// const videoDevices = enumDevices.filter((device) => (device.kind === 'videoinput'))\r\n\t\tconsole.log(enumDevices);\r\n\t\tconst devices = await CamerHelper.CameraAccess.getCameras();\r\n\t\tconst debugData = {};\r\n\t\tdevices.map((d, i) => (debugData[`Devices Info ${i}`] = JSON.stringify(d)));\r\n\r\n\t\tlet backDevice = devices.filter((device) => device.cameraType === 'back');\r\n\r\n\t\tdebugData['Has Back Camera'] = backDevice.length ? 'true' : 'false';\r\n\t\tdebugData['Back Camera'] = JSON.stringify(backDevice[0]);\r\n\t\tdebugData['Back Camera length'] = JSON.stringify(backDevice.length);\r\n\t\tsetDebugData(debugData);\r\n\t\t// debug.append(div);\r\n\t\tif (backDevice.length) {\r\n\t\t\tgetVideo(backDevice[0], devices);\r\n\t\t} else {\r\n\t\t\tgetVideo(devices[0], devices);\r\n\t\t}\r\n\t}, [getVideo]);\r\n\r\n\tuseEffect(() => {\r\n\t\tgetCamera();\r\n\t\t// console.log(.then(cameras => console.log(cameras)));\r\n\t}, [debug, video, canvas, downloadAnchor, photo, getCamera, getVideo]);\r\n\tconst addBBox = () => {\r\n\t\tconst newDisplayBox = { ...displayBox, [`disp${bboxCount}`]: true };\r\n\t\tconst newCount = bboxCount + 1;\r\n\t\tsetBBoxCount(newCount);\r\n\t\tsetDisplayBox(newDisplayBox);\r\n\t};\r\n\tconst captureImage = () => {\r\n\t\tconsole.log(imageHeight, imageWidth);\r\n\t\tconst context = canvas.current.getContext('2d');\r\n\t\tcanvas.current.width = imageWidth;\r\n\t\tcanvas.current.height = imageHeight;\r\n\t\tcontext.drawImage(video.current, 0, 0, window.innerWidth, window.innerHeight);\r\n\t\tcontext.font = '20px Roboto';\r\n\t\tlet cnt = 0;\r\n\t\tfor (let key in bboxProperties) {\r\n\t\t\tconst contentText = `${key} : ${JSON.stringify(bboxProperties[key])}`;\r\n\t\t\tcontext.strokeText(contentText, 10, 20 + 20 * cnt, 1000);\r\n\t\t\tcnt++;\r\n\t\t}\r\n\t\tconst url = canvas.current.toDataURL('image/png');\r\n\t\tphoto.current.setAttribute('src', url);\r\n\t\tdownloadAnchor.current.href = url;\r\n\t\tdownloadAnchor.current.download = 'MyPhoto.png';\r\n\t\tdownloadAnchor.current.click();\r\n\t\t//\r\n\t\twindow.URL.revokeObjectURL(url);\r\n\t};\r\n\r\n\tconst getDebugData = () => {\r\n\t\tconst components = [];\r\n\t\tfor (let key in debugData) {\r\n\t\t\tcomponents.push(\r\n\t\t\t\t<div className='debugRow'>\r\n\t\t\t\t\t<span className='debugLabel'>{key} : </span>\r\n\t\t\t\t\t<span className='debugValue'>{debugData[key]}</span>\r\n\t\t\t\t</div>,\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn components;\r\n\t};\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{debug && <div id='debug'>Debug {getDebugData()}</div>}\r\n\t\t\t<div className='container' ref={drop} onMouseMove={_onMouseMove}>\r\n\t\t\t\t<video ref={video} id='video' autoPlay muted></video>\r\n\t\t\t\t<div id='changeVideo'>\r\n\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\taria-label='upload picture'\r\n\t\t\t\t\t\tcomponent='span'\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tref={snap}\r\n\t\t\t\t\t\tonClick={captureImage}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<PhotoCamera style={{ fontSize: 100 }} />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div id='additionalButtons'>\r\n\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\taria-label='upload picture'\r\n\t\t\t\t\t\tcomponent='span'\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tref={snap}\r\n\t\t\t\t\t\tonClick={addBBox}\r\n\t\t\t\t\t\tdisabled={bboxCount >= allowedBBoxes}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<SettingsOverscanIcon style={{ fontSize: 100 }} />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div id='handlers'>\r\n\t\t\t\t\t<canvas id='canvas' ref={canvas}>\r\n\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t</canvas>\r\n\t\t\t\t\t<a id='downloadAnchor' href='http://chetandr.github.com' ref={downloadAnchor}>\r\n\t\t\t\t\t\timage\r\n\t\t\t\t\t</a>\r\n\t\t\t\t\t<img id='photo' ref={photo} src='/logo.svg' alt='Donwload placeholder' />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName='boundingBoxWrapper0'\r\n\t\t\t\t\tid='bbox0'\r\n\t\t\t\t\tref={bboxWrapper0}\r\n\t\t\t\t\tonTouchStart={() => setCurrentBBox(bboxWrapper0)}\r\n\t\t\t\t\tonMouseDown={() => setCurrentBBox(bboxWrapper0)}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName='boundingBox'\r\n\t\t\t\t\t\tref={bbox0}\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\topacity: isDragging0 ? 0 : 1,\r\n\t\t\t\t\t\t\tcursor: 'move',\r\n\t\t\t\t\t\t\tdisplay: displayBox.disp0 ? 'inline-block' : 'none',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName='boundingBoxWrapper1'\r\n\t\t\t\t\tid='bbox1'\r\n\t\t\t\t\tref={bboxWrapper1}\r\n\t\t\t\t\tonTouchStart={() => setCurrentBBox(bboxWrapper1)}\r\n\t\t\t\t\tonMouseDown={() => setCurrentBBox(bboxWrapper1)}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName='boundingBox'\r\n\t\t\t\t\t\tref={bbox1}\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\topacity: isDragging1 ? 0: 1,\r\n\t\t\t\t\t\t\tcursor: 'move',\r\n\t\t\t\t\t\t\tdisplay: displayBox.disp1 ? 'inline-block' : 'none',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName='boundingBoxWrapper2'\r\n\t\t\t\t\tid='bbox2'\r\n\t\t\t\t\tref={bboxWrapper2}\r\n\t\t\t\t\tonTouchStart={() => setCurrentBBox(bboxWrapper2)}\r\n\t\t\t\t\tonMouseDown={() => setCurrentBBox(bboxWrapper2)}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName='boundingBox'\r\n\t\t\t\t\t\tref={bbox2}\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\topacity: isDragging2 ? 0 : 1,\r\n\t\t\t\t\t\t\tcursor: 'move',\r\n\t\t\t\t\t\t\tdisplay: displayBox.disp2 ? 'inline-block' : 'none',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName='boundingBoxWrapper3'\r\n\t\t\t\t\tid='bbox3'\r\n\t\t\t\t\tref={bboxWrapper3}\r\n\t\t\t\t\tonTouchStart={() => setCurrentBBox(bboxWrapper3)}\r\n\t\t\t\t\tonMouseDown={() => setCurrentBBox(bboxWrapper3)}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName='boundingBox'\r\n\t\t\t\t\t\tref={bbox3}\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\topacity: isDragging3 ? 0 : 1,\r\n\t\t\t\t\t\t\tcursor: 'move',\r\n\t\t\t\t\t\t\tdisplay: displayBox.disp3 ? 'inline-block' : 'none',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName='boundingBoxWrapper4'\r\n\t\t\t\t\tid='bbox4'\r\n\t\t\t\t\tref={bboxWrapper4}\r\n\t\t\t\t\tonTouchStart={() => setCurrentBBox(bboxWrapper4)}\r\n\t\t\t\t\tonMouseDown={() => setCurrentBBox(bboxWrapper4)}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName='boundingBox'\r\n\t\t\t\t\t\tref={bbox4}\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\topacity: isDragging4 ? 0 : 1,\r\n\t\t\t\t\t\t\tcursor: 'move',\r\n\t\t\t\t\t\t\tdisplay: displayBox.disp4 ? 'inline-block' : 'none',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName='boundingBoxWrapper5'\r\n\t\t\t\t\tid='bbox5'\r\n\t\t\t\t\tref={bboxWrapper5}\r\n\t\t\t\t\tonTouchStart={() => setCurrentBBox(bboxWrapper5)}\r\n\t\t\t\t\tonMouseDown={() => setCurrentBBox(bboxWrapper5)}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName='boundingBox'\r\n\t\t\t\t\t\tref={bbox5}\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\topacity: isDragging5 ? 0 : 1,\r\n\t\t\t\t\t\t\tcursor: 'move',\r\n\t\t\t\t\t\t\tdisplay: displayBox.disp5 ? 'inline-block' : 'none',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t></div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<MyPreview />\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Capture;\r\n","import './App.css';\n\nimport { DndProvider, useDrag } from 'react-dnd';\n\nimport Capture from './components/capture';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport { TouchBackend } from 'react-dnd-touch-backend';\n\nfunction App() {\n\treturn (\n\t\t<DndProvider backend={TouchBackend} options={{ enableMouseEvents: true }}>\n\t\t\t<div className='App'>\n\t\t\t\t<header className='App-header'>\n\t\t\t\t\t<Capture />\n\t\t\t\t</header>\n\t\t\t</div>\n\t\t</DndProvider>\n\t);\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}