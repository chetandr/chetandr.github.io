(this["webpackJsonpchetandr.github.io.src"]=this["webpackJsonpchetandr.github.io.src"]||[]).push([[0],{55:function(e,n,t){},56:function(e,n,t){},65:function(e,n,t){"use strict";t.r(n);var c=t(0),i=t.n(c),r=t(16),a=t.n(r),o=(t(55),t(56),t(86)),s=t(28),u=t.n(s),d=t(36),b=t(22),l=t(29),j=t(5),f=t(8),g=t(87),O=t(88),p=t(89),x=t(45),h=t.n(x),v=t(46),y=t.n(v),m=t(3),D="boundry",w=function(){var e=Object(c.useRef)(),n=Object(c.useRef)(),t=Object(c.useRef)(),r=Object(c.useRef)(),a=Object(c.useRef)(),o=Object(c.useRef)(),s=Object(c.useRef)(),x=Object(c.useRef)(),v=Object(c.useRef)(),w=Object(c.useRef)(),k=Object(c.useRef)(),S=Object(c.useState)(),N=Object(j.a)(S,2),B=N[0],R=N[1],C=Object(c.useState)({disp0:!1,disp1:!1,disp2:!1,disp3:!1,disp4:!1,disp5:!1}),M=Object(j.a)(C,2),T=M[0],I=M[1],W=Object(c.useState)({x:0,y:0}),F=Object(j.a)(W,2),L=F[0],A=F[1],E=Object(c.useState)({x:0,y:0}),J=Object(j.a)(E,2),P=J[0],U=J[1],H=Object(c.useState)([]),z=Object(j.a)(H,2),V=(z[0],z[1]),X=Object(f.a)().getMonitor(),Y=Object(c.useState)(0),q=Object(j.a)(Y,2),G=q[0],K=q[1],Q=Object(c.useState)(),Z=Object(j.a)(Q,2),$=Z[0],_=Z[1],ee=Object(g.a)((function(){return{type:D,collect:function(e){return{isDragging:!!e.isDragging()}}}})),ne=Object(j.a)(ee,2),te=(ne[0].isDragging0,ne[1]),ce=Object(g.a)((function(){return{type:D,collect:function(e){return{isDragging:!!e.isDragging()}}}})),ie=Object(j.a)(ce,2),re=(ie[0].isDragging1,ie[1]),ae=Object(g.a)((function(){return{type:D,collect:function(e){return{isDragging:!!e.isDragging()}}}})),oe=Object(j.a)(ae,2),se=(oe[0].isDragging2,oe[1]),ue=Object(g.a)((function(){return{type:D,collect:function(e){return{isDragging:!!e.isDragging()}}}})),de=Object(j.a)(ue,2),be=(de[0].isDragging3,de[1]),le=Object(g.a)((function(){return{type:D,collect:function(e){return{isDragging:!!e.isDragging()}}}})),je=Object(j.a)(le,2),fe=(je[0].isDragging4,je[1]),ge=Object(g.a)((function(){return{type:D,collect:function(e){return{isDragging:!!e.isDragging()}}}})),Oe=Object(j.a)(ge,2),pe=(Oe[0].isDragging5,Oe[1]);i.a.useEffect((function(){X.subscribeToOffsetChange((function(){var e=X.getClientOffset(),n=X.getInitialClientOffset(),t=X.getInitialSourceClientOffset();n&&t&&(U({x:n.x-t.x,y:n.y-t.y}),A(e))}))}),[X]);var xe=Object(O.a)((function(){return{accept:D,drop:function(){return ye($,L,P)},collect:function(e){return{isOver:!!e.isOver()}}}}),[L,P,$]),he=Object(j.a)(xe,2),ve=(he[0].isOver,he[1]),ye=function(e,n,t){var c=n.x-t.x,i=n.y-t.y,r=e.current.getClientRects(),a=c+r[0].width,o=i+r[0].height;e.current.style.left="".concat(c,"px"),e.current.style.top="".concat(i,"px");var s=Object(l.a)(Object(l.a)({},B),{},Object(b.a)({},e.current.id,[{x:c,y:i},{x:a,y:o}]));R(s)},me=Object(c.useCallback)(function(){var n=Object(d.a)(u.a.mark((function n(t){var c;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,navigator.mediaDevices.getUserMedia(t);case 2:c=n.sent,e.current.srcObject=c;case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[e,n,t,r]),De=Object(c.useCallback)(Object(d.a)(u.a.mark((function e(){var n,t,c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.enumerateDevices();case 2:n=e.sent,t={"Devices Info":JSON.stringify(n)},c=n.filter((function(e){return"videoinput"===e.kind&&e.label.indexOf("back")>=0})),t["Has Back Camera"]=c.length?"true":"false",V(t),c.length?(i={video:{width:{min:1280,ideal:1920,max:2560},height:{min:720,ideal:1080,max:1440},deviceId:c[0].deviceId}},me(i)):me({video:{width:{min:1280,ideal:1920,max:2560},height:{min:720,ideal:1080,max:1440}}});case 8:case"end":return e.stop()}}),e)}))),[me]);Object(c.useEffect)((function(){De()}),[false,e,n,t,r,De,me]);return Object(m.jsxs)(m.Fragment,{children:[false,Object(m.jsxs)("div",{className:"container",ref:ve,onMouseMove:function(e){A({x:e.screenX,y:e.screenY})},children:[Object(m.jsx)("video",{ref:e,id:"video",playsInline:!0,autoPlay:!0}),Object(m.jsx)("div",{id:"changeVideo",children:Object(m.jsx)(p.a,{color:"secondary","aria-label":"upload picture",component:"span",variant:"contained",ref:a,onClick:function(){var c=n.current.getContext("2d");n.current.width=window.innerWidth,n.current.height=window.innerHeight,c.drawImage(e.current,0,0,window.innerWidth,window.innerHeight),c.font="20px Roboto";var i=0;for(var a in B){var o="".concat(a," : ").concat(JSON.stringify(B[a]));c.strokeText(o,10,20+20*i,1e3),i++}var s=n.current.toDataURL("image/png");r.current.setAttribute("src",s),t.current.href=s,t.current.download="MyPhoto.png",t.current.click(),window.URL.revokeObjectURL(s)},children:Object(m.jsx)(h.a,{style:{fontSize:100}})})}),Object(m.jsx)("div",{id:"additionalButtons",children:Object(m.jsx)(p.a,{color:"primary","aria-label":"upload picture",component:"span",variant:"contained",ref:a,onClick:function(){var e=Object(l.a)(Object(l.a)({},T),{},Object(b.a)({},"disp".concat(G),!0));K(G+1),I(e)},disabled:G>=2,children:Object(m.jsx)(y.a,{style:{fontSize:100}})})}),Object(m.jsxs)("div",{id:"handlers",children:[Object(m.jsx)("canvas",{id:"canvas",ref:n,children:" "}),Object(m.jsx)("a",{id:"downloadAnchor",href:"http://chetandr.github.com",ref:t,children:"image"}),Object(m.jsx)("img",{id:"photo",ref:r,src:"/logo.svg",alt:"Donwload placeholder"})]}),Object(m.jsx)("div",{className:"boundingBoxWrapper0",id:"bbox0",ref:o,onTouchStart:function(){return _(o)},children:Object(m.jsx)("div",{className:"boundingBox",ref:te,style:{opacity:1,cursor:"move",display:T.disp0?"inline-block":"none"}})}),Object(m.jsx)("div",{className:"boundingBoxWrapper1",id:"bbox1",ref:s,onTouchStart:function(){return _(s)},onMouseDown:function(){return _(s)},children:Object(m.jsx)("div",{className:"boundingBox",ref:re,style:{opacity:1,cursor:"move",display:T.disp1?"inline-block":"none"}})}),Object(m.jsx)("div",{className:"boundingBoxWrapper2",id:"bbox2",ref:x,onTouchStart:function(){return _(x)},onMouseDown:function(){return _(s)},children:Object(m.jsx)("div",{className:"boundingBox",ref:se,style:{opacity:1,cursor:"move",display:T.disp2?"inline-block":"none"}})}),Object(m.jsx)("div",{className:"boundingBoxWrapper3",id:"bbox3",ref:v,onTouchStart:function(){return _(v)},onMouseDown:function(){return _(s)},children:Object(m.jsx)("div",{className:"boundingBox",ref:be,style:{opacity:1,cursor:"move",display:T.disp3?"inline-block":"none"}})}),Object(m.jsx)("div",{className:"boundingBoxWrapper4",id:"bbox4",ref:w,onTouchStart:function(){return _(w)},onMouseDown:function(){return _(s)},children:Object(m.jsx)("div",{className:"boundingBox",ref:fe,style:{opacity:1,cursor:"move",display:T.disp4?"inline-block":"none"}})}),Object(m.jsx)("div",{className:"boundingBoxWrapper5",id:"bbox5",ref:k,onTouchStart:function(){return _(k)},onMouseDown:function(){return _(s)},children:Object(m.jsx)("div",{className:"boundingBox",ref:pe,style:{opacity:1,cursor:"move",display:T.disp5?"inline-block":"none"}})})]})]})},k=t(47);var S=function(){return Object(m.jsx)(o.a,{backend:k.a,options:{enableMouseEvents:!0},children:Object(m.jsx)("div",{className:"App",children:Object(m.jsx)("header",{className:"App-header",children:Object(m.jsx)(w,{})})})})},N=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,90)).then((function(n){var t=n.getCLS,c=n.getFID,i=n.getFCP,r=n.getLCP,a=n.getTTFB;t(e),c(e),i(e),r(e),a(e)}))};a.a.render(Object(m.jsx)(i.a.StrictMode,{children:Object(m.jsx)(S,{})}),document.getElementById("root")),N()}},[[65,1,2]]]);
//# sourceMappingURL=main.fdc547fe.chunk.js.map