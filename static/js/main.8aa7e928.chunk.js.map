{"version":3,"sources":["components/MediaStream/helper.js","components/MediaStream/index.jsx","components/Logos/theunlimited.jsx","components/RoundedButton/index.js","components/Car/index.js","components/Journey/Onboard/Login/index.jsx","components/OverlayWindow/index.js","components/MediaStreamWithDnD/index.js","components/OverlayMessageBox/index.jsx","components/Journey/Onboard/License/index.jsx","components/OverlayImage/index.jsx","components/CaptureIcon/index.jsx","components/CaptureButton/index.jsx","components/Journey/Inspection/Front/index.jsx","components/Journey/Inspection/Driverside/index.jsx","components/Journey/Inspection/Passengerside/index.jsx","components/Journey/Inspection/Rear/index.jsx","mockconfig/journey1.js","Theme/index.js","Journey/index.jsx","App.js","reportWebVitals.js","index.js"],"names":["getReso","width","height","getMedia","a","stream","navigator","mediaDevices","getUserMedia","audio","video","facingMode","exact","getVideoTracks","videoTracks","videoTrack","getCapabilities","getSettings","reso","platform","indexOf","constraints","ideal","applyConstraints","alert","updatedSettings","settings","console","error","ItemTypes","MediaStream","videoRef","React","useRef","videoWrapper","imageRef","bboxWrapper","canvasRef","imageCanvasRef","useState","currentBBox","setCurrentBBox","downloadAnchor","setMediaSettings","setDebugData","bboxProperties","setBboxProperties","stage","monitor","useDragDropManager","getMonitor","imageBboxRef","x","y","currentPosition","setCurrentPosition","dragInitPositionDiff","setDragInitPositionDiff","useDrag","type","collect","isDragging","bbox","useDrop","accept","drop","moveBox","isOver","cbbox","cp","diff","log","rbox","current","getClientRects","x1","y1","style","left","top","newBboxProperties","id","MyPreview","usePreview","display","itemType","item","className","getTargetDimensions","ms","video_width","video_height","to_width","offsetWidth","to_height","offsetHeight","Math","floor","scaleRatioY","scaleRatioX","to_x","document","documentElement","clientWidth","renderMedia","useCallback","media","srcObject","src","window","URL","createObjectURL","to_y","transform","offsetLeft","offsetTop","transformOrigin","newDebugData","scale","target","targetXY","addEventListener","event","useEffect","subscribeToOffsetChange","offset","getClientOffset","initialClientOffset","getInitialClientOffset","initialSourceClientOffset","getInitialSourceClientOffset","ref","overflow","autoPlay","playsInline","border","href","onTouchStart","onMouseDown","opacity","cursor","TheUnlimited","Box","p","alt","marginLeft","marginRight","RoundedButton","props","Button","variant","color","fullWidth","size","borderRadius","textTransform","paddingLeft","paddingRight","onClick","label","defaultProps","Car","Login","checked","setChecked","nextAction","Fragment","pt","px","Typography","textAlign","TextField","placeholder","margin","InputProps","FormGroup","FormLabel","Checkbox","onChange","name","float","prevAction","OverlayWindow","Grid","container","xs","windowSize","borderColor","MediaStreamWithDnD","DndProvider","backend","TouchBackend","options","enableMouseEvents","OverlayMessageBox","Styled","position","zIndex","backgroundColor","maxSize","License","postion","OverlayImage","imageName","image","CaptureIcon","Icon","CaptureButton","right","IconButton","mockJourney","step","contained","CSAItheme","createMuiTheme","typography","fontFamily","join","palette","primary","main","secondary","overrides","MuiButton","textSecondary","getComposed","push","nextIndex","prevIndex","currentIndex","Component","startCase","split","newComponent","createElement","JourneyModule","default","Journey","useParams","history","useHistory","findIndex","mj","toLowerCase","getCurrentAndNext","currentAction","CssBaseline","theme","Container","LinearProgress","App","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8aa7e928.chunk.js","sourcesContent":["export const getReso = (width, height) => {\r\n\tswitch (`${width}x${height}`) {\r\n\t\tcase '4032x3024':\r\n\t\t\treturn 'DCI 4K (iCAM 12MP)';\r\n\t\tcase '3840x2160':\r\n\t\t\treturn '4K (iCAM 12MP)';\r\n\t\tcase '4096x2160':\r\n\t\t\treturn 'DCI 4K';\r\n\t\tcase '3840x2160':\r\n\t\t\treturn '4K';\r\n\t\tcase '2048x1152':\r\n\t\t\treturn '2K';\r\n\t\tcase '1920x1080':\r\n\t\t\treturn 'Full HD';\r\n\t\tcase '1280x720':\r\n\t\t\treturn 'HD';\r\n\t\tcase '640x480':\r\n\t\t\treturn 'SD';\r\n\t\tdefault:\r\n\t\t\tswitch (width) {\r\n\t\t\t\tcase 4032:\r\n\t\t\t\t\treturn 'DCI 4K';\r\n\t\t\t\tcase 3840:\r\n\t\t\t\t\treturn '4K';\r\n\t\t\t\tcase 2048:\r\n\t\t\t\t\treturn '2K';\r\n\t\t\t\tcase 1920:\r\n\t\t\t\t\treturn 'Full HD';\r\n\t\t\t\tcase 1280:\r\n\t\t\t\t\treturn 'HD';\r\n\t\t\t\tcase 640:\r\n\t\t\t\t\treturn 'HD';\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn 'Non SD';\r\n\t\t\t}\r\n\t}\r\n};\r\n\r\nexport async function getMedia() {\r\n    let stream = null;\r\n\r\n    try {\r\n        try {\r\n            stream = await navigator.mediaDevices.getUserMedia({\r\n                audio: false,\r\n                video: { facingMode: { exact: 'environment' } },\r\n            });\r\n        } catch (err) {\r\n            stream = await navigator.mediaDevices.getUserMedia({\r\n                audio: false,\r\n                video: { facingMode: { exact: 'user' } },\r\n            });\r\n        }\r\n\r\n        const videoTracks = await stream.getVideoTracks();\r\n        const videoTrack = videoTracks[0];\r\n        const capabilities = videoTracks[0].getCapabilities();\r\n        const settings = videoTrack.getSettings();\r\n        let reso = '';\r\n        if (navigator.platform.indexOf('Mac') > -1) {\r\n            try {\r\n                // DCI 4K - iCam 12 MP\r\n                reso = 'DCI 4K';\r\n                const constraints = {\r\n                    width: { ideal: 4032 },\r\n                    height: { ideal: 3024 },\r\n                };\r\n                await videoTrack.applyConstraints(constraints);\r\n            } catch (e) {\r\n                try {\r\n                    // UHD - iCam 8 MP\r\n                    reso = 'DCI 4K';\r\n                    const constraints = {\r\n                        width: { ideal: 3840 },\r\n                        height: { ideal: 2160 },\r\n                    };\r\n                    await videoTrack.applyConstraints(constraints);\r\n                } catch (e) {\r\n                    try {\r\n                        // UHD - iCam 8 MP\r\n                        reso = 'DCI 4K';\r\n                        const constraints = {\r\n                            width: { ideal: 3840 },\r\n                            height: { ideal: 2160 },\r\n                        };\r\n                        await videoTrack.applyConstraints(constraints);\r\n                    } catch (e) {\r\n                        try {\r\n                            // Full HD\r\n                            reso = 'Full HD';\r\n                            const constraints = {\r\n                                width: { ideal: 1920 },\r\n                                height: { ideal: 1080 },\r\n                            };\r\n                            await videoTrack.applyConstraints(constraints);\r\n                        } catch (e) {\r\n                            try {\r\n                                // HD\r\n                                reso = 'HD';\r\n\r\n                                const constraints = {\r\n                                    width: { ideal: 1280 },\r\n                                    height: { ideal: 720 },\r\n                                };\r\n                                await videoTrack.applyConstraints(constraints);\r\n                            } catch (e) {\r\n                                try {\r\n                                    // HD\r\n                                    reso = 'SD';\r\n                                    const constraints = {\r\n                                        width: { ideal: 640 },\r\n                                        height: { ideal: 480 },\r\n                                    };\r\n                                    await videoTrack.applyConstraints(constraints);\r\n                                } catch (e) {\r\n                                    alert(e);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            try {\r\n                // DCI 4K\r\n                reso = 'DCI 4K';\r\n                const constraints = {\r\n                    width: { ideal: 4096 },\r\n                    height: { ideal: 2160 },\r\n                };\r\n                await videoTrack.applyConstraints(constraints);\r\n            } catch (e) {\r\n                try {\r\n                    // UHD\r\n                    reso = 'UHD';\r\n                    const constraints = {\r\n                        width: { ideal: 3840 },\r\n                        height: { ideal: 2160 },\r\n                    };\r\n                    await videoTrack.applyConstraints(constraints);\r\n                } catch (e) {\r\n                    try {\r\n                        // 2K\r\n                        reso = '2K';\r\n                        const constraints = {\r\n                            width: { ideal: 2048 },\r\n                            height: { ideal: 1152 },\r\n                        };\r\n                        await videoTrack.applyConstraints(constraints);\r\n                    } catch (e) {\r\n                        try {\r\n                            // Full HD\r\n                            reso = 'Full HD';\r\n                            const constraints = {\r\n                                width: { ideal: 1920 },\r\n                                height: { ideal: 1080 },\r\n                            };\r\n                            await videoTrack.applyConstraints(constraints);\r\n                        } catch (e) {\r\n                            try {\r\n                                // HD\r\n                                reso = 'HD';\r\n\r\n                                const constraints = {\r\n                                    width: { ideal: 1280 },\r\n                                    height: { ideal: 720 },\r\n                                };\r\n                                await videoTrack.applyConstraints(constraints);\r\n                            } catch (e) {\r\n                                try {\r\n                                    // HD\r\n                                    reso = 'SD';\r\n                                    const constraints = {\r\n                                        width: { ideal: 640 },\r\n                                        height: { ideal: 480 },\r\n                                    };\r\n                                    await videoTrack.applyConstraints(constraints);\r\n                                } catch (e) {\r\n                                    alert(e);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        const updatedSettings = videoTrack.getSettings();\r\n        updatedSettings.reso = reso;\r\n        return { stream, settings: updatedSettings, reso: reso };\r\n        /* use the stream */\r\n    } catch (err) {\r\n        console.error(err);\r\n        /* handle the error */\r\n    }\r\n}\r\n","import React, { useCallback, useEffect } from 'react';\r\nimport { getMedia, getReso } from './helper';\r\nimport { useDrag, useDragDropManager, useDrop } from 'react-dnd';\r\n\r\nimport ArrowForwardRounded from '@material-ui/icons/ArrowForwardRounded';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport DebugData from '../DebugData';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport PhotoCamera from '@material-ui/icons/PhotoCamera';\r\nimport Replay from '@material-ui/icons/Replay';\r\nimport { usePreview } from 'react-dnd-preview';\r\nimport { DndProvider } from 'react-dnd';\r\n// import Hierarchy from './components/Hierarchy';\r\nimport { TouchBackend } from 'react-dnd-touch-backend';\r\nconst ItemTypes = {\r\n\tBOUNDARY: 'boundry',\r\n};\r\n\r\nconst MediaStream = () => {\r\n\tconst debug = false;\r\n\tconst videoRef = React.useRef();\r\n\tconst videoWrapper = React.useRef();\r\n\tconst container = React.useRef();\r\n\r\n\tconst imageRef = React.useRef();\r\n\tconst bboxWrapper = React.useRef();\r\n\tconst canvasRef = React.useRef();\r\n\tconst imageCanvasRef = React.useRef();\r\n\tconst [currentBBox, setCurrentBBox] = React.useState();\r\n\tconst downloadAnchor = React.useRef();\r\n\tconst [mediaSettings, setMediaSettings] = React.useState({});\r\n\tconst [debugData, setDebugData] = React.useState({});\r\n\tconst [capturing, setCapturing] = React.useState(false);\r\n\tconst [bboxProperties, setBboxProperties] = React.useState();\r\n\tconst [stage, setStage] = React.useState('INIT');\r\n\tconst dragDropManager = useDragDropManager();\r\n\tconst monitor = dragDropManager.getMonitor();\r\n\tconst imageBboxRef = React.useRef();\r\n\tconst [currentPosition, setCurrentPosition] = React.useState({ x: 0, y: 0 });\r\n\tconst [dragInitPositionDiff, setDragInitPositionDiff] = React.useState({ x: 0, y: 0 });\r\n\tconst [{ isDragging }, bbox] = useDrag(() => ({\r\n\t\ttype: ItemTypes.BOUNDARY,\r\n\t\tcollect: (monitor) => ({\r\n\t\t\tisDragging: !!monitor.isDragging(),\r\n\t\t}),\r\n\t}));\r\n\tconst [{ isOver }, drop] = useDrop(\r\n\t\t() => ({\r\n\t\t\taccept: ItemTypes.BOUNDARY,\r\n\t\t\tdrop: () => moveBox(currentBBox, currentPosition, dragInitPositionDiff),\r\n\t\t\tcollect: (monitor) => ({\r\n\t\t\t\tisOver: !!monitor.isOver(),\r\n\t\t\t}),\r\n\t\t}),\r\n\t\t[currentPosition, dragInitPositionDiff, currentBBox],\r\n\t);\r\n\tconst moveBox = (cbbox, cp, diff) => {\r\n\t\tconst x = cp.x - diff.x;\r\n\t\tconst y = cp.y - diff.y;\r\n\t\tconsole.log(cbbox, cp, diff);\r\n\t\tconst rbox = cbbox.current.getClientRects();\r\n\t\tconst x1 = x + rbox[0].width;\r\n\t\tconst y1 = y + rbox[0].height;\r\n\t\tcbbox.current.style.left = `${x}px`;\r\n\t\tcbbox.current.style.top = `${y}px`;\r\n\t\tconst newBboxProperties = {\r\n\t\t\t...bboxProperties,\r\n\t\t\t[cbbox.current.id]: [\r\n\t\t\t\t{ x, y },\r\n\t\t\t\t{ x: x1, y: y1 },\r\n\t\t\t],\r\n\t\t};\r\n\t\tsetBboxProperties(newBboxProperties);\r\n\t\t// drag.current.left = `${currentPosition.x}px`;\r\n\t\t// drag.current.top = `${currentPosition.y}px`;\r\n\t};\r\n\tconst MyPreview = () => {\r\n\t\tconst { display, itemType, item, style } = usePreview();\r\n\t\tif (!display) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div className='boundingBoxWrapper' style={style}>\r\n\t\t\t\t<div className='boundingBox'></div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t};\r\n\r\n\tconst getTargetDimensions = (ms) => {\r\n\t\tconst video_width = ms.width;\r\n\t\tconst video_height = ms.height;\r\n\t\tlet to_width = videoWrapper.current.offsetWidth;\r\n\t\tlet to_height = videoWrapper.current.offsetHeight;\r\n\t\tif(to_width > to_height) {\r\n\t\t\tto_height = Math.floor((to_width * video_height) / video_width);\r\n\t\t} else {\r\n\t\t\tto_width = Math.floor((to_height * video_width) / video_height);\r\n\t\t}\r\n\t\tconst scaleRatioY = to_height / video_height;\r\n\t\tconst scaleRatioX = to_width / video_width;\r\n\t\tlet to_x = 0;\r\n\t\tlet to_y = 0;\r\n\t\tif(to_width > document.documentElement.clientWidth) {\r\n\t\t\tto_x = -(to_width - document.documentElement.clientWidth) / 2\r\n\t\t}\r\n\t\t// if(to_width > to_height) { \r\n\t\t// \tif (video_width > to_width) {\r\n\t\t// \t\tto_x = -Math.ceil(scaleRatioX * 100);\r\n\t\t// \t\tto_y = -Math.ceil(scaleRatioY * 100);\r\n\t\t// \t} else {\r\n\t\t// \t\tto_x = -Math.ceil((video_width / to_width) * 100);\r\n\t\t// \t\tto_y = -Math.ceil((video_height / to_height) * 100);\r\n\t\t// \t}\r\n\t\t// } else {\r\n\t\t// \tif (video_width > to_height) {\r\n\t\t// \t\tto_x = (video_width - to_height) / 2;\r\n\t\t// \t\tto_y = -Math.ceil(scaleRatioY * 100);\r\n\t\t// \t} else {\r\n\t\t// \t\tto_x = -Math.ceil((video_width / to_width) * 100);\r\n\t\t// \t\tto_y = -Math.ceil((video_height / to_height) * 100);\r\n\t\t// \t}\r\n\t\t// }\r\n\t\t\r\n\t\tconsole.log(video_width, video_height, to_width, to_height, to_x, to_y)\r\n\t\treturn [video_width, video_height, to_width, to_height, to_x, to_y, scaleRatioX, scaleRatioY]\r\n\r\n\t}\r\n\tconst renderMedia = React.useCallback(async () => {\r\n\t\tconst media = await getMedia();\r\n\t\tif (videoRef.current) {\r\n\t\t\tif ('srcObject' in videoRef.current) {\r\n\t\t\t\tvideoRef.current.srcObject = media.stream;\r\n\t\t\t} else {\r\n\t\t\t\tvideoRef.src = window.URL.createObjectURL(media.stream);\r\n\t\t\t}\r\n\t\t\tsetMediaSettings(media.settings);\r\n\t\t\tconst [video_width, video_height, to_width, to_height, to_x, to_y, scaleRatioX, scaleRatioY] = getTargetDimensions(media.settings);\r\n\r\n\t\t\tvideoRef.current.width = video_width;\r\n\t\t\tvideoRef.current.height = video_height;\r\n\t\t\timageRef.current.width = video_width;\r\n\t\t\timageRef.current.height = video_height;\r\n\t\t\tif(to_width < document.documentElement.clientWidth) { \r\n\t\t\t\tvideoRef.current.style.transform = `translate(${-videoRef.current.offsetLeft}px, ${-videoRef.current\r\n\t\t\t\t\t.offsetTop}px) scale(${scaleRatioX}, ${scaleRatioY})`;\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(`translate(${-to_x}px, ${-to_y}px) scale(${scaleRatioX}, ${scaleRatioY})`)\r\n\t\t\t\tvideoRef.current.style.transform = `translate(${to_x}px, ${-videoRef.current\r\n\t\t\t\t\t.offsetTop}px) scale(${scaleRatioX}, ${scaleRatioY})`;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvideoRef.current.style.transformOrigin = 'top left';\r\n\t\t\timageCanvasRef.current.width = video_width; //media.settings.width; //window.innerWidth;\r\n\t\t\timageCanvasRef.current.height = video_height; //media.settings.height; //window.innerHeight;\r\n\t\t\timageCanvasRef.current.style.width = `${to_width}px`;\r\n\t\t\timageCanvasRef.current.style.height = `${to_height}px`;\r\n\t\t\tconst newDebugData = {\r\n\t\t\t\tvideo: `${video_width} x ${video_height} (${getReso(video_width, video_height)})`,\r\n\t\t\t\tscale: `${scaleRatioX} x ${scaleRatioY}`,\r\n\t\t\t\tmedia: `${media.settings.width} x ${media.settings.height}`,\r\n\t\t\t\ttarget: `${to_width} x ${to_height}`,\r\n\t\t\t\ttargetXY: `${to_x} x ${to_y}`,\r\n\t\t\t};\r\n\t\t\tsetDebugData(newDebugData);\r\n\t\t}\r\n\t}, [videoRef, videoWrapper, canvasRef, imageCanvasRef]);\r\n\twindow.addEventListener('orientationchange', function (event) {\r\n\t\trenderMedia();\r\n\t});\r\n\tuseEffect(async () => {\r\n\t\trenderMedia();\r\n\t}, [videoRef, videoWrapper, canvasRef, imageCanvasRef]);\r\n\r\n\tconst captureImage = () => {\r\n\t\tconst [video_width, video_height, to_width, to_height, to_x, to_y, scaleRatioX, scaleRatioY] = getTargetDimensions(mediaSettings);\r\n\r\n\t\tconst ctx = imageCanvasRef.current.getContext('2d');\r\n\t\tsetCapturing(true);\r\n\t\tvideoRef.current.pause();\r\n\t\t// videoRef.current.currentTime = 0;\r\n\t\t// ctx.scale(scaleRatioX, scaleRatioY);\r\n\t\tctx.drawImage(videoRef.current, 0, 0);\r\n\r\n\t\tconst url = imageCanvasRef.current.toDataURL('image/png');\r\n\t\timageRef.current.src = url;\r\n\t\tvideoRef.current.style.display = 'none';\r\n\t\timageRef.current.style.display = 'block';\r\n\t\timageRef.current.style.transform = `translate(${-videoRef.current.offsetLeft}px, ${-videoRef.current\r\n\t\t\t.offsetTop}px) scale(${scaleRatioX}, ${scaleRatioY})`;\r\n\t\timageRef.current.style.transformOrigin = 'top left';\r\n\t\tvideoRef.current.style.display = 'none';\r\n\t\timageRef.current.style.display = 'block';\r\n\t\t// photo.current.setAttribute('src', url);\r\n\t\t// downloadAnchor.current.href = url;\r\n\t\t// downloadAnchor.current.download = 'MyPhoto.png';\r\n\t\t// downloadAnchor.current.click();\r\n\t\t// //\r\n\t\t// window.URL.revokeObjectURL(url);\r\n\t\tsetTimeout(() => setCapturing(false), 3000);\r\n\t\tsetStage('BBOX');\r\n\t};\r\n\r\n\tconst captureBox = () => {\r\n\t\tconst video_width = mediaSettings.width;\r\n\t\tconst video_height = mediaSettings.height;\r\n\t\tconst to_width = videoWrapper.current.offsetWidth; //document.documentElement.clientWidth; //window.innerWidth;\r\n\t\tconst to_height = Math.floor((to_width * video_height) / video_width); //window.innerHeight;\r\n\t\t// const ratio = media.settings.aspectRatio;\r\n\t\tconst scaleRatioY = to_height / video_height;\r\n\t\tconst scaleRatioX = to_width / video_width;\r\n\t\tconst ctx = imageCanvasRef.current.getContext('2d');\r\n\t\tctx.lineWidth = '2';\r\n\r\n\t\tctx.globalAlpha = 0.2;\r\n\t\tctx.fillStyle = '#FFD600';\r\n\r\n\t\tctx.fillRect(\r\n\t\t\tbboxWrapper.current.offsetLeft / scaleRatioX,\r\n\t\t\tbboxWrapper.current.offsetTop / scaleRatioY,\r\n\t\t\tbboxWrapper.current.offsetWidth / scaleRatioX,\r\n\t\t\tbboxWrapper.current.offsetHeight / scaleRatioY,\r\n\t\t);\r\n\t\tctx.globalAlpha = 1;\r\n\t\tctx.strokeStyle = '#ff7300';\r\n\t\tctx.stroke();\r\n\t\tsetCapturing(true);\r\n\t\t// videoRef.current.pause();\r\n\t\t// videoRef.current.currentTime = 0;\r\n\t\t// // ctx.scale(scaleRatioX, scaleRatioY);\r\n\t\t// ctx.drawImage(videoRef.current, 0, 0);\r\n\r\n\t\tconst url = imageCanvasRef.current.toDataURL('image/png');\r\n\t\timageBboxRef.current.src = url;\r\n\t\tvideoRef.current.style.display = 'none';\r\n\t\timageBboxRef.current.style.display = 'block';\r\n\t\timageRef.current.style.display = 'none';\r\n\t\t// videoWrapper.current.style.oveflor ='auto';\r\n\t\t// imageRef.current.style.transform = `translate(${-videoRef.current.offsetLeft}px, ${-videoRef.current\r\n\t\t// .offsetTop}px) scale(${scaleRatioX}, ${scaleRatioY})`;\r\n\t\timageBboxRef.current.style.transformOrigin = 'top left';\r\n\t\tvideoRef.current.style.display = 'none';\r\n\t\timageBboxRef.current.style.display = 'block';\r\n\t\t// photo.current.setAttribute('src', url);\r\n\t\t// downloadAnchor.current.href = url;\r\n\t\t// downloadAnchor.current.download = 'MyPhoto.png';\r\n\t\t// downloadAnchor.current.click();\r\n\t\t// //\r\n\t\t// window.URL.revokeObjectURL(url);\r\n\t\tsetTimeout(() => setCapturing(false), 3000);\r\n\t\tsetStage('CAPTURED');\r\n\t};\r\n\tReact.useEffect(() => {\r\n\t\tmonitor.subscribeToOffsetChange(() => {\r\n\t\t\tconst offset = monitor.getClientOffset();\r\n\t\t\tconst initialClientOffset = monitor.getInitialClientOffset();\r\n\t\t\tconst initialSourceClientOffset = monitor.getInitialSourceClientOffset();\r\n\t\t\tif (initialClientOffset && initialSourceClientOffset) {\r\n\t\t\t\tsetDragInitPositionDiff({\r\n\t\t\t\t\tx: initialClientOffset.x - initialSourceClientOffset.x,\r\n\t\t\t\t\ty: initialClientOffset.y - initialSourceClientOffset.y,\r\n\t\t\t\t});\r\n\t\t\t\tsetCurrentPosition(offset);\r\n\t\t\t}\r\n\r\n\t\t\t// do stuff like setState, though consider directly updating style through refs for performance\r\n\t\t});\r\n\t}, [monitor]);\r\n\tconst reset = () => {\r\n\t\tvideoRef.current.style.display = 'block';\r\n\t\tconst ctx = imageCanvasRef.current.getContext('2d');\r\n\t\tctx.clearRect(0, 0, imageCanvasRef.current.width, imageCanvasRef.current.height);\r\n\t\tctx.globalAlpha = 1;\r\n\t\timageBboxRef.current.style.display = 'none';\r\n\t\timageRef.current.style.display = 'none';\r\n\t\tvideoRef.current.play();\r\n\t\tsetStage('INIT');\r\n\t};\r\n\tconsole.log('DRAGGING', isDragging);\r\n\treturn (\r\n\t\t<div ref={drop}>\r\n\t\t\t{debug && (\r\n\t\t\t\t<div id='debug'>\r\n\t\t\t\t\t<DebugData debugData={debugData} />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<div\r\n\t\t\t\tref={videoWrapper}\r\n\t\t\t\tclassName='videoWrapper'\r\n\t\t\t\tstyle={{ overflow: stage === 'CAPTURED' ? 'auto' : 'hidden' }}\r\n\t\t\t>\r\n\t\t\t\t{/* <div ref={videoWrapper}> */}\r\n\t\t\t\t<video\r\n\t\t\t\t\tref={videoRef}\r\n\t\t\t\t\tid='camvideo'\r\n\t\t\t\t\tautoPlay\r\n\t\t\t\t\tplaysInline\r\n\t\t\t\t\t// onLoadedMetadata={metaDataLoadHandle}\r\n\t\t\t\t\t// style={{ display: 'none' }}\r\n\t\t\t\t\t// className=\"videosize\"\r\n\t\t\t\t></video>\r\n\t\t\t\t<img ref={imageRef} style={{ border: 'solid 2px red', display: 'none' }}></img>\r\n\t\t\t\t<img ref={imageBboxRef} style={{ border: 'solid 2px red', display: 'none' }}></img>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<canvas ref={canvasRef} style={{ border: 'solid 2px red', display: 'none' }}></canvas>\r\n\t\t\t\t<canvas ref={imageCanvasRef} style={{ border: 'solid 2px red', display: 'none' }}></canvas>\r\n\t\t\t</div>\r\n\t\t\t<a id='downloadAnchor' href='http://chetandr.github.com' ref={downloadAnchor} style={{ display: 'none' }}>\r\n\t\t\t\timage\r\n\t\t\t</a>\r\n\t\t\t{stage === 'BBOX' && (\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName='boundingBoxWrapper'\r\n\t\t\t\t\tid='bbox'\r\n\t\t\t\t\tref={bboxWrapper}\r\n\t\t\t\t\tonTouchStart={() => setCurrentBBox(bboxWrapper)}\r\n\t\t\t\t\tonMouseDown={() => setCurrentBBox(bboxWrapper)}\r\n\t\t\t\t\tstyle={{ opacity: isDragging ? 0 : 1 }}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName='boundingBox'\r\n\t\t\t\t\t\tref={bbox}\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tcursor: 'move',\r\n\t\t\t\t\t\t\tdisplay: 'inline-block',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t></div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<a id='downloadAnchor' href='http://chetandr.github.com' ref={downloadAnchor} style={{ display: 'none' }}>\r\n\t\t\t\timage\r\n\t\t\t</a>\r\n\t\t\t<MyPreview />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default MediaStream;\r\n","import React from 'react';\r\n\r\nimport { Box } from '@material-ui/core';\r\n\r\nconst TheUnlimited = () => {\r\n\treturn (\r\n\t\t<Box p={4}>\r\n\t\t\t<img\r\n\t\t\t\tsrc='/logos/theunlimted.svg'\r\n\t\t\t\talt='The Unlimited'\r\n\t\t\t\tstyle={{ marginLeft: 'auto', marginRight: 'auto', display: 'block', width: '80vw' }}\r\n\t\t\t></img>\r\n\t\t</Box>\r\n\t);\r\n};\r\n\r\nexport default TheUnlimited;\r\n","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nconst RoundedButton = (props) => {\r\n\tconst handleClick = () => {\r\n\t\tprops.onClick();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Button\r\n\t\t\tvariant={props.variant}\r\n\t\t\tcolor={props.color}\r\n\t\t\tfullWidth={props.fullWidth}\r\n\t\t\tsize={props.size}\r\n\t\t\tstyle={{ borderRadius: '28px', height: '0.05%', textTransform: 'none', paddingLeft: '16px',  paddingRight: '16px'  }}\r\n\t\t\tonClick={handleClick}\r\n\t\t>\r\n\t\t\t{props.label}\r\n\t\t</Button>\r\n\t);\r\n};\r\n\r\nRoundedButton.defaultProps = {\r\n\tlabel: '',\r\n\tcolor: 'primary',\r\n\tonClick: () => {},\r\n\tfullWidth: true,\r\n\tsize: 'medium',\r\n\tvariant: 'contained',\r\n};\r\n\r\nexport default RoundedButton;\r\n","import React from \"react\"\r\n\r\nconst Car = () => {\r\n    return <img src=\"/images/car.png\" style={{width:'100%'}}/>;\r\n}\r\n\r\nexport default Car;","import Box from '@material-ui/core/Box';\r\nimport Button from '@material-ui/core/Button';\r\nimport React from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport TheUnlimited from '../../../Logos/theunlimited';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport FormGroup from \"@material-ui/core/FormGroup\";\r\nimport RoundedButton from \"../../../RoundedButton\";\r\nimport Car from \"../../../Car\";\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nconst Login = (props) => {\r\n\tconst [checked,setChecked] = React.useState(false);\r\n\t\r\n\tconst handleChange = () => {\r\n\t\tsetChecked(!checked);\r\n\t}\r\n\r\n\tconst handleClicked = () => {\r\n\t\tconsole.log(\"next Clicked\",props.nextAction)\r\n\t\tprops.nextAction();\r\n\t}\r\n\tconsole.log(\"PROPS\", props.nextAction)\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<TheUnlimited />\r\n\t\t\t<Box pt={2} px={4}>\r\n\t\t\t\t<Typography style={{ textAlign: 'center' }}>\r\n\t\t\t\t\tWelcome to The Unlimited. Let us begin assessing your vehicle from the comfort of your home.\r\n\t\t\t\t</Typography>\r\n\t\t\t</Box>\r\n\t\t\t<Box pt={2} px={4}>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tid='standard-full-width'\r\n\t\t\t\t\tplaceholder='Enter Your Contact Number'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tmargin='normal'\r\n\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\tInputProps={{\r\n\t\t\t\t\t\tstyle: { borderRadius: '28px' },\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</Box>\r\n\t\t\t<Box pt={4} px={4}>\r\n\t\t\t\t<RoundedButton label=\"Login\" onClick={handleClicked}/>\r\n\t\t\t</Box>\r\n\t\t\t<Box pt={8}>\r\n\t\t\t\t<Car/>\r\n\t\t\t</Box>\r\n\t\t\t<Box pt={4}>\r\n\t\t\t\t<FormGroup>\r\n\t\t\t\t\r\n\t\t\t\t<FormLabel><Checkbox checked={checked} onChange={handleChange} name=\"Agreed\" style={{float:\"left\"}}/><Typography variant=\"caption\">I have read, understood and agreed with your Terms and Conditions</Typography></FormLabel>\r\n\t\t\t\t</FormGroup>\r\n\t\t\t\t\t</Box>\r\n\r\n\t\t</React.Fragment>\r\n\t);\r\n};\r\n\r\nLogin.defaultProps = {\r\n\tnextAction: () => {},\r\n\tprevAction: () => {},\r\n  };\r\nexport default Login;\r\n","import React from \"react\";\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Grid from '@material-ui/core/Grid';\r\nconst OverlayWindow =(props) => {\r\n    return (\r\n        <React.Fragment>\r\n            <Grid container  style={{ height:\"100vh\"}}>\r\n            <Grid item xs={12} className=\"translucent\" style={{height:`${(100 - props.windowSize)/2}%`}}></Grid>\r\n            <Grid item xs={12}  style={{height:`${props.windowSize}%`}}>\r\n                <Grid container  style={{height:\"100%\"}}>\r\n                    <Grid item xs={1} className=\"translucent\">\r\n                    </Grid>\r\n                    <Grid item xs={10} className=\"window\" style={{borderColor: props.borderColor}}>\r\n                        <div className=\"windowCorner topLeftWindowCorner\" style={{borderColor: props.borderColor}}></div>\r\n                        <div className=\"windowCorner topRightWindowCorner\" style={{borderColor: props.borderColor}}></div>\r\n                        <div className=\"windowCorner bottomLeftWindowCorner\" style={{borderColor: props.borderColor}}></div>\r\n                        <div className=\"windowCorner bottomRightWindowCorner\" style={{borderColor: props.borderColor}}></div>\r\n                    </Grid>\r\n                    <Grid item xs={1} className=\"translucent\">\r\n                    </Grid>\r\n                </Grid>    \r\n            </Grid>\r\n            <Grid item xs={12} className=\"translucent\" style={{height:`${(100 - props.windowSize)/2}%`}}></Grid>\r\n            </Grid>\r\n        </React.Fragment>\r\n    )\r\n    // return <Backdrop open={true}></Backdrop>\r\n}\r\nOverlayWindow.defaultProps = {\r\n    windowSize: 15,\r\n    borderColor : '#7EF424',\r\n}\r\n\r\nexport default OverlayWindow;\r\n","import { DndProvider } from 'react-dnd';\r\nimport MediaStream from '../MediaStream';\r\nimport { TouchBackend } from 'react-dnd-touch-backend';\r\nfunction MediaStreamWithDnD() {\r\n\treturn (\r\n\t\t\r\n\t\t<DndProvider backend={TouchBackend} options={{ enableMouseEvents: true }}>\r\n\t\t\t\t\t\t\t\t<MediaStream />\r\n\t\t\t\t\t\t\t</DndProvider>\r\n\t\t\t\t\t\t\r\n\t);\r\n}\r\n\r\nexport default MediaStreamWithDnD;\r\n","import Styled from '@material-ui/core/styles/styled';\r\nimport Box from '@material-ui/core/Box';\r\n\r\nconst OverlayMessageBox = Styled(Box)({\r\n\tposition: 'relative',\r\n\t// margin: 16,\r\n\twidth: '100%',\r\n\ttextAlign: 'center',\r\n\tcolor: '#fff',\r\n\tzIndex: 2002,\r\n\tbackgroundColor: '#000',\r\n\tmaxSize: '640px',\r\n    borderRadius: '8px'\r\n});\r\n\r\nexport default OverlayMessageBox;\r\n","import React from 'react';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport Button from '@material-ui/core/Button';\r\nimport OverlayWindow from '../../../OverlayWindow';\r\nimport MediaStreamWithDnD from '../../../MediaStreamWithDnD';\r\nimport OverlayMessageBox from '../../../OverlayMessageBox';\r\nimport RoundedButton from '../../../RoundedButton';\r\nimport { Typography } from '@material-ui/core';\r\nconst License = (props) => {\r\n\tconst handleClicked = () => {\r\n\t\tconsole.log('next Clicked', props.nextAction);\r\n\t\tprops.nextAction();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<Box p={2} style={{ display: 'block', width: '100%', position: 'absolute' }}>\r\n\t\t\t\t<OverlayMessageBox>\r\n\t\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t\t<Typography variant='body1'>Generate Vehicle Details</Typography>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Grid container>\r\n\t\t\t\t\t\t\t<Grid item xs={1}></Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={4}>\r\n\t\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t\t<RoundedButton\r\n\t\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\t\tfullWidth={false}\r\n\t\t\t\t\t\t\t\t\t\tlabel='License Disc'\r\n\t\t\t\t\t\t\t\t\t\tonClick={handleClicked}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={1}></Grid>\r\n\r\n\t\t\t\t\t\t\t<Grid item xs={4}>\r\n\t\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t\t<RoundedButton\r\n\t\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\t\tfullWidth={false}\r\n\t\t\t\t\t\t\t\t\t\tlabel='Vin Number'\r\n\t\t\t\t\t\t\t\t\t\tvariant='text'\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={1}></Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</OverlayMessageBox>\r\n\t\t\t</Box>\r\n\t\t\t<Box p={4} style={{ display: 'block', width: '100%', position: 'absolute', top: \"20%\", zIndex: 200, textAlign: \"center\", color: \"white\" }}>\r\n\t\t\t\t<Typography>Place our License disc within the frames and hold it there for a few second.</Typography>\r\n\t\t\t</Box>\r\n\t\t\t<Box></Box>\r\n\r\n\t\t\t<MediaStreamWithDnD />\r\n\t\t\t<Box style={{ postion: 'absolute', top: 0, left: 0 }}>\r\n\t\t\t\t<OverlayWindow windowSize={24} />\r\n\t\t\t</Box>\r\n            <Box p={4} style={{ display: 'block', width: '100%', position: 'absolute', top: \"64%\", zIndex: 200, textAlign: \"center\", color: \"white\" }}>\r\n\t\t\t\t<Typography>Move Closer to the scan area.</Typography>\r\n\t\t\t</Box>\r\n\t\t</React.Fragment>\r\n\t);\r\n\t// return <Backdrop open={true}></Backdrop>\r\n};\r\n\r\nexport default License;\r\n","import React from 'react';\r\n\r\nconst OverlayImage = (props) => {\r\n    const imageName = `/images/overlays/${props.image}`\r\n    return <img src={imageName} width=\"60%\"/>\r\n}\r\n\r\nOverlayImage.defaultProps = {\r\n    image: \"FrontFull.png\"\r\n}\r\nexport default OverlayImage;","import React from 'react';\r\nimport Icon from '@material-ui/core/Icon';\r\nconst CaptureIcon = (props) => {\r\n\treturn (\r\n\t\t<Icon style={{ height: '100%', width: '100%' }}>\r\n\t\t\t<img src='/images/CaptureButton.png' style={{ textAlign: 'center', width: '80px' }} />\r\n\t\t</Icon>\r\n\t);\r\n};\r\n\r\nexport default CaptureIcon;\r\n","import React from 'react';\r\nimport Box from '@material-ui/core/Box';\r\nimport IconButton from '@material-ui/core/IconButton';\r\n\r\nimport CaptureIcon from '../CaptureIcon';\r\n\r\nconst CaptureButton = (props) => {\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tp={4}\r\n\t\t\tstyle={{\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tposition: 'absolute',\r\n\t\t\t\ttop: '40%',\r\n\t\t\t\tright: '0%',\r\n\t\t\t\tzIndex: 205,\r\n\t\t\t\ttextAlign: 'center',\r\n\t\t\t\tcolor: 'white',\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<IconButton onClick={props.onClick}>\r\n\t\t\t\t<CaptureIcon />\r\n\t\t\t</IconButton>\r\n\t\t</Box>\r\n\t);\r\n};\r\n\r\nexport default CaptureButton;","import React from 'react';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Button from '@material-ui/core/Button';\r\nimport OverlayWindow from '../../../OverlayWindow';\r\nimport MediaStreamWithDnD from '../../../MediaStreamWithDnD';\r\nimport OverlayImage from '../../../OverlayImage';\r\nimport RoundedButton from '../../../RoundedButton';\r\nimport { Typography } from '@material-ui/core';\r\nimport PhotoCameraRounded from '@material-ui/icons/PhotoCameraRounded';\r\nimport CaptureIcon from '../../../CaptureIcon';\r\nimport CaptureButton from '../../../CaptureButton';\r\nconst License = (props) => {\r\n\tconst handleClicked = () => {\r\n\t\tconsole.log('next Clicked', props.nextAction);\r\n\t\tprops.nextAction();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<Box\r\n\t\t\t\tp={4}\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tdisplay: 'block',\r\n\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\ttop: '10px',\r\n\t\t\t\t\tzIndex: 200,\r\n\t\t\t\t\ttextAlign: 'center',\r\n\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Typography>Position Front of the car within the outlines and take a photo.</Typography>\r\n\t\t\t</Box>\r\n\r\n\t\t\t<MediaStreamWithDnD />\r\n\t\t\t{/* <Box style={{ postion: 'absolute', top: 0, left: 0 }}>\r\n\t\t\t\t<OverlayWindow windowSize={24} />\r\n\t\t\t</Box> */}\r\n\t\t\t<CaptureButton onClick={handleClicked}/>\r\n\t\t\t<Box\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tdisplay: 'block',\r\n\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\ttop: '20%',\r\n\t\t\t\t\tzIndex: 200,\r\n\t\t\t\t\ttextAlign: 'center',\r\n\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<OverlayImage image='FrontFull.png' />\r\n\t\t\t</Box>\r\n\t\t</React.Fragment>\r\n\t);\r\n\t// return <Backdrop open={true}></Backdrop>\r\n};\r\n\r\nexport default License;\r\n","import React from 'react';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Button from '@material-ui/core/Button';\r\nimport OverlayWindow from '../../../OverlayWindow';\r\nimport MediaStreamWithDnD from '../../../MediaStreamWithDnD';\r\nimport OverlayImage from '../../../OverlayImage';\r\nimport RoundedButton from '../../../RoundedButton';\r\nimport { Typography } from '@material-ui/core';\r\nimport PhotoCameraRounded from '@material-ui/icons/PhotoCameraRounded';\r\nimport CaptureIcon from '../../../CaptureIcon';\r\nimport CaptureButton from '../../../CaptureButton';\r\nconst License = (props) => {\r\n\tconst handleClicked = () => {\r\n\t\tconsole.log('next Clicked', props.nextAction);\r\n\t\tprops.nextAction();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<Box\r\n\t\t\t\tp={4}\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tdisplay: 'block',\r\n\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\ttop: '10px',\r\n\t\t\t\t\tzIndex: 200,\r\n\t\t\t\t\ttextAlign: 'center',\r\n\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Typography>Position Front of the car within the outlines and take a photo.</Typography>\r\n\t\t\t</Box>\r\n\r\n\t\t\t<MediaStreamWithDnD />\r\n\t\t\t{/* <Box style={{ postion: 'absolute', top: 0, left: 0 }}>\r\n\t\t\t\t<OverlayWindow windowSize={24} />\r\n\t\t\t</Box> */}\r\n\t\t\t<CaptureButton onClick={handleClicked}/>\r\n\t\t\t<Box\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tdisplay: 'block',\r\n\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\ttop: '35%',\r\n\t\t\t\t\tzIndex: 200,\r\n\t\t\t\t\ttextAlign: 'center',\r\n\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<OverlayImage image='DriverSideFull.png' />\r\n\t\t\t</Box>\r\n\t\t</React.Fragment>\r\n\t);\r\n\t// return <Backdrop open={true}></Backdrop>\r\n};\r\n\r\nexport default License;\r\n","import React from 'react';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Button from '@material-ui/core/Button';\r\nimport OverlayWindow from '../../../OverlayWindow';\r\nimport MediaStreamWithDnD from '../../../MediaStreamWithDnD';\r\nimport OverlayImage from '../../../OverlayImage';\r\nimport RoundedButton from '../../../RoundedButton';\r\nimport { Typography } from '@material-ui/core';\r\nimport PhotoCameraRounded from '@material-ui/icons/PhotoCameraRounded';\r\nimport CaptureIcon from '../../../CaptureIcon';\r\nimport CaptureButton from '../../../CaptureButton';\r\nconst License = (props) => {\r\n\tconst handleClicked = () => {\r\n\t\tconsole.log('next Clicked', props.nextAction);\r\n\t\tprops.nextAction();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<Box\r\n\t\t\t\tp={4}\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tdisplay: 'block',\r\n\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\ttop: '10px',\r\n\t\t\t\t\tzIndex: 200,\r\n\t\t\t\t\ttextAlign: 'center',\r\n\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Typography>Position Front of the car within the outlines and take a photo.</Typography>\r\n\t\t\t</Box>\r\n\r\n\t\t\t<MediaStreamWithDnD />\r\n\t\t\t{/* <Box style={{ postion: 'absolute', top: 0, left: 0 }}>\r\n\t\t\t\t<OverlayWindow windowSize={24} />\r\n\t\t\t</Box> */}\r\n\t\t\t<CaptureButton onClick={handleClicked}/>\r\n\t\t\t<Box\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tdisplay: 'block',\r\n\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\ttop: '35%',\r\n\t\t\t\t\tzIndex: 200,\r\n\t\t\t\t\ttextAlign: 'center',\r\n\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<OverlayImage image=\"PassengerSideFull.png\"/>\r\n\t\t\t</Box>\r\n\t\t</React.Fragment>\r\n\t);\r\n\t// return <Backdrop open={true}></Backdrop>\r\n};\r\n\r\nexport default License;\r\n","import React from 'react';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Button from '@material-ui/core/Button';\r\nimport OverlayWindow from '../../../OverlayWindow';\r\nimport MediaStreamWithDnD from '../../../MediaStreamWithDnD';\r\nimport OverlayImage from '../../../OverlayImage';\r\nimport RoundedButton from '../../../RoundedButton';\r\nimport { Typography } from '@material-ui/core';\r\nimport PhotoCameraRounded from '@material-ui/icons/PhotoCameraRounded';\r\nimport CaptureIcon from '../../../CaptureIcon';\r\nimport CaptureButton from '../../../CaptureButton';\r\nconst License = (props) => {\r\n\tconst handleClicked = () => {\r\n\t\tconsole.log('next Clicked', props.nextAction);\r\n\t\tprops.nextAction();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<Box\r\n\t\t\t\tp={4}\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tdisplay: 'block',\r\n\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\ttop: '10px',\r\n\t\t\t\t\tzIndex: 200,\r\n\t\t\t\t\ttextAlign: 'center',\r\n\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Typography>Position Front of the car within the outlines and take a photo.</Typography>\r\n\t\t\t</Box>\r\n\r\n\t\t\t<MediaStreamWithDnD />\r\n\t\t\t{/* <Box style={{ postion: 'absolute', top: 0, left: 0 }}>\r\n\t\t\t\t<OverlayWindow windowSize={24} />\r\n\t\t\t</Box> */}\r\n\t\t\t<CaptureButton onClick={handleClicked}/>\r\n\t\t\t<Box\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tdisplay: 'block',\r\n\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\ttop: '20%',\r\n\t\t\t\t\tzIndex: 200,\r\n\t\t\t\t\ttextAlign: 'center',\r\n\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<OverlayImage image='RearFull.png' />\r\n\t\t\t</Box>\r\n\t\t</React.Fragment>\r\n\t);\r\n\t// return <Backdrop open={true}></Backdrop>\r\n};\r\n\r\nexport default License;\r\n","export const mockJourney = [\r\n    { type: \"Onboard\", step: \"login\", contained : true },\r\n    { type: \"Onboard\", step: \"license\" },\r\n    { type: \"Inspection\", step: \"front\" },\r\n    { type: \"Inspection\", step: \"driverside\" },\r\n    { type: \"Inspection\", step: \"passengerside\" },\r\n    { type: \"Inspection\", step: \"rear\" },\r\n    { type: \"Summary\", step: \"report\" },\r\n    { type: \"OffBoard\", step: \"report\" },\r\n]","import { ThemeOptions, createMuiTheme } from '@material-ui/core/styles';\r\n\r\nconst CSAItheme = createMuiTheme({\r\n\ttypography: {\r\n\t\tfontFamily: [\r\n\t\t\t'Roboto',\r\n\t\t\t'\"Helvetica Neue\"',\r\n\t\t\t'Arial',\r\n\t\t\t'sans-serif',\r\n\t\t\t'\"Apple Color Emoji\"',\r\n\t\t\t'\"Segoe UI Emoji\"',\r\n\t\t\t'\"Segoe UI Symbol\"',\r\n\t\t].join(','),\r\n\t},\r\n\tpalette: {\r\n\t\tprimary: {\r\n\t\t\tmain: '#EE1B2E',\r\n\t\t},\r\n\t\tsecondary: {\r\n\t\t\tmain: 'rgb(126, 244, 36)',\r\n\t\t},\r\n\t},\r\n\toverrides: {\r\n\t\tMuiButton : {\r\n\t\t\ttextSecondary: {\r\n\t\t\t\tcolor: '#FFF',\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n});\r\n\r\nexport default CSAItheme;\r\n","import React from 'react';\r\n\r\nimport * as JourneyModule from '../components/Journey';\r\n\r\nimport { mockJourney } from '../mockconfig/journey1';\r\n\r\nimport CSAItheme from '../Theme';\r\nimport Container from '@material-ui/core/Container';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport MuiThemeProvider from '@material-ui/core/styles/MuiThemeProvider';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport findIndex from 'lodash/findIndex';\r\nimport startCase from 'lodash/startCase';\r\n// import { useRouter } from 'next/router';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\nconst getComposed = ({ type, step, push, prevIndex, currentIndex, nextIndex }) => {\r\n\tlet Component = [];\r\n\r\n\tconst nextAction = () => {\r\n\t\tconst href = `/journey/${mockJourney[nextIndex].type}/${mockJourney[nextIndex].step}`;\r\n\t\tpush(href);\r\n\t};\r\n\tconsole.log('Module', startCase(type), startCase(step).split(' ').join(''));\r\n\tif (type) {\r\n\t\tconst newComponent = React.createElement(JourneyModule[startCase(type)][startCase(step)].default, {\r\n\t\t\tnextAction,\r\n\t\t});\r\n\t\tComponent.push(newComponent);\r\n\t}\r\n\treturn Component;\r\n};\r\n\r\nconst getCurrentAndNext = (type, step) => {\r\n\tconsole.log(type, step);\r\n\r\n\t// findIndex(mockJourney, (mj:StepData) => mj.type === type && mj.step == step);\r\n\tconst currentIndex = findIndex(\r\n\t\tmockJourney,\r\n\t\t(mj) => mj.type.toLowerCase() === type.toLowerCase() && mj.step.toLowerCase() === step.toLowerCase(),\r\n\t);\r\n\tconst prevIndex = currentIndex - 1;\r\n\tconst nextIndex = currentIndex + 1;\r\n\treturn [prevIndex, currentIndex, nextIndex];\r\n};\r\n\r\nconst Journey = () => {\r\n\t// const router = useRouter();\r\n\tlet { type, step } = useParams();\r\n\tif (!type && !step) {\r\n\t\ttype = mockJourney[0].type;\r\n\t\tstep = mockJourney[0].step;\r\n\t}\r\n\tconst history = useHistory();\r\n\tconst [prevIndex, currentIndex, nextIndex] = getCurrentAndNext(type, step);\r\n\tconst currentAction = mockJourney[currentIndex];\r\n\tif (type && step) {\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<CssBaseline />\r\n\t\t\t\t<MuiThemeProvider theme={CSAItheme}>\r\n\t\t\t\t\t{currentAction.container ? (\r\n\t\t\t\t\t\t<Container>\r\n\t\t\t\t\t\t\t{type &&\r\n\t\t\t\t\t\t\t\tstep &&\r\n\t\t\t\t\t\t\t\tgetComposed({ type, step, push: history.push, prevIndex, currentIndex, nextIndex })}\r\n\t\t\t\t\t\t</Container>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\ttype &&\r\n\t\t\t\t\t\tstep &&\r\n\t\t\t\t\t\tgetComposed({ type, step, push: history.push, prevIndex, currentIndex, nextIndex })\r\n\t\t\t\t\t)}\r\n\t\t\t\t</MuiThemeProvider>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t} else {\r\n\t\treturn <LinearProgress />;\r\n\t}\r\n};\r\n\r\nexport default Journey;\r\n","import 'roboto-fontface/css/roboto/roboto-fontface.css';\nimport './App.css';\n\nimport { Route, Switch, useLocation, useParams } from 'react-router-dom';\n\nimport { DndProvider } from 'react-dnd';\n// import Hierarchy from './components/Hierarchy';\nimport MediaStream from './components/MediaStream';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { TouchBackend } from 'react-dnd-touch-backend';\nimport Journey from './Journey';\nfunction App() {\n\treturn (\n\t\t<Router>\n\t\t\t<Switch>\n\t\t\t\t<Route exact path='/'>\n\t\t\t\t\t<Journey />\n\t\t\t\t</Route>\n\t\t\t\t<Route exact path='/journey/:type/:step'>\n\t\t\t\t\t<Journey />\n\t\t\t\t</Route>\n\t\t\t</Switch>\n\t\t\t{/* <Switch>\n\t\t\t\t<Route path='/hierarchy' exact>\n\t\t\t\t\t<Hierarchy />\n\t\t\t\t</Route>\n\t\t\t</Switch> */}\n\t\t</Router>\n\t);\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import './index.css';\r\n\r\nimport App from './App';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t\t<App />\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById('root'),\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}