(this["webpackJsonpchetandr.github.io.src"]=this["webpackJsonpchetandr.github.io.src"]||[]).push([[0],{55:function(e,n,t){},56:function(e,n,t){},65:function(e,n,t){"use strict";t.r(n);var c=t(0),i=t.n(c),r=t(16),a=t.n(r),o=(t(55),t(56),t(86)),s=t(28),u=t.n(s),d=t(36),b=t(22),l=t(29),j=t(5),g=t(8),f=t(87),O=t(88),p=t(89),x=t(45),h=t.n(x),v=t(46),m=t.n(v),y=t(3),D="boundry",w=function(){var e=Object(c.useRef)(),n=Object(c.useRef)(),t=Object(c.useRef)(),r=Object(c.useRef)(),a=Object(c.useRef)(),o=Object(c.useRef)(),s=Object(c.useRef)(),x=Object(c.useRef)(),v=Object(c.useRef)(),w=Object(c.useRef)(),k=Object(c.useRef)(),N=Object(c.useState)(),S=Object(j.a)(N,2),R=S[0],B=S[1],C=Object(c.useState)({disp0:!1,disp1:!1,disp2:!1,disp3:!1,disp4:!1,disp5:!1}),M=Object(j.a)(C,2),T=M[0],I=M[1],W=Object(c.useState)({x:0,y:0}),L=Object(j.a)(W,2),F=L[0],A=L[1],E=Object(c.useState)({x:0,y:0}),P=Object(j.a)(E,2),U=P[0],H=P[1],J=Object(c.useState)([]),z=Object(j.a)(J,2),V=z[0],X=z[1],Y=Object(g.a)().getMonitor(),q=Object(c.useState)(0),G=Object(j.a)(q,2),K=G[0],Q=G[1],Z=Object(c.useState)(),$=Object(j.a)(Z,2),_=$[0],ee=$[1],ne=Object(f.a)((function(){return{type:D,collect:function(e){return{isDragging:!!e.isDragging()}}}})),te=Object(j.a)(ne,2),ce=(te[0].isDragging0,te[1]),ie=Object(f.a)((function(){return{type:D,collect:function(e){return{isDragging:!!e.isDragging()}}}})),re=Object(j.a)(ie,2),ae=(re[0].isDragging1,re[1]),oe=Object(f.a)((function(){return{type:D,collect:function(e){return{isDragging:!!e.isDragging()}}}})),se=Object(j.a)(oe,2),ue=(se[0].isDragging2,se[1]),de=Object(f.a)((function(){return{type:D,collect:function(e){return{isDragging:!!e.isDragging()}}}})),be=Object(j.a)(de,2),le=(be[0].isDragging3,be[1]),je=Object(f.a)((function(){return{type:D,collect:function(e){return{isDragging:!!e.isDragging()}}}})),ge=Object(j.a)(je,2),fe=(ge[0].isDragging4,ge[1]),Oe=Object(f.a)((function(){return{type:D,collect:function(e){return{isDragging:!!e.isDragging()}}}})),pe=Object(j.a)(Oe,2),xe=(pe[0].isDragging5,pe[1]);i.a.useEffect((function(){Y.subscribeToOffsetChange((function(){var e=Y.getClientOffset(),n=Y.getInitialClientOffset(),t=Y.getInitialSourceClientOffset();n&&t&&(H({x:n.x-t.x,y:n.y-t.y}),A(e))}))}),[Y]);var he=Object(O.a)((function(){return{accept:D,drop:function(){return ye(_,F,U)},collect:function(e){return{isOver:!!e.isOver()}}}}),[F,U,_]),ve=Object(j.a)(he,2),me=(ve[0].isOver,ve[1]),ye=function(e,n,t){var c=n.x-t.x,i=n.y-t.y,r=e.current.getClientRects(),a=c+r[0].width,o=i+r[0].height;e.current.style.left="".concat(c,"px"),e.current.style.top="".concat(i,"px");var s=Object(l.a)(Object(l.a)({},R),{},Object(b.a)({},e.current.id,[{x:c,y:i},{x:a,y:o}]));B(s)},De=Object(c.useCallback)(function(){var n=Object(d.a)(u.a.mark((function n(t){var c;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,navigator.mediaDevices.getUserMedia(t);case 2:c=n.sent,e.current.srcObject=c;case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[e,n,t,r]),we=Object(c.useCallback)(Object(d.a)(u.a.mark((function e(){var n,t,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.enumerateDevices();case 2:(n=e.sent).map((function(e,n){return V["Devices Info ".concat(n)]=e.label})),t=n.filter((function(e){return"videoinput"===e.kind&&e.label.indexOf("back")>=0})),V["Has Back Camera"]=t.length?"true":"false",X(V),t.length?(c={video:{width:{min:1280,ideal:1920,max:2560},height:{min:720,ideal:1080,max:1440},deviceId:t[0].deviceId}},De(c)):De({video:{width:{min:1280,ideal:1920,max:2560},height:{min:720,ideal:1080,max:1440}}});case 8:case"end":return e.stop()}}),e)}))),[De]);Object(c.useEffect)((function(){we()}),[true,e,n,t,r,we,De]);return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{id:"debug",children:["Debug ",function(){var e=[];for(var n in V)e.push(Object(y.jsxs)("div",{className:"debugRow",children:[Object(y.jsxs)("span",{className:"debugLabel",children:[n," : "]}),Object(y.jsx)("span",{className:"debugValue",children:V[n]})]}));return e}()]}),Object(y.jsxs)("div",{className:"container",ref:me,onMouseMove:function(e){A({x:e.screenX,y:e.screenY})},children:[Object(y.jsx)("video",{ref:e,id:"video",playsInline:!0,autoPlay:!0}),Object(y.jsx)("div",{id:"changeVideo",children:Object(y.jsx)(p.a,{color:"secondary","aria-label":"upload picture",component:"span",variant:"contained",ref:a,onClick:function(){var c=n.current.getContext("2d");n.current.width=window.innerWidth,n.current.height=window.innerHeight,c.drawImage(e.current,0,0,window.innerWidth,window.innerHeight),c.font="20px Roboto";var i=0;for(var a in R){var o="".concat(a," : ").concat(JSON.stringify(R[a]));c.strokeText(o,10,20+20*i,1e3),i++}var s=n.current.toDataURL("image/png");r.current.setAttribute("src",s),t.current.href=s,t.current.download="MyPhoto.png",t.current.click(),window.URL.revokeObjectURL(s)},children:Object(y.jsx)(h.a,{style:{fontSize:100}})})}),Object(y.jsx)("div",{id:"additionalButtons",children:Object(y.jsx)(p.a,{color:"primary","aria-label":"upload picture",component:"span",variant:"contained",ref:a,onClick:function(){var e=Object(l.a)(Object(l.a)({},T),{},Object(b.a)({},"disp".concat(K),!0));Q(K+1),I(e)},disabled:K>=2,children:Object(y.jsx)(m.a,{style:{fontSize:100}})})}),Object(y.jsxs)("div",{id:"handlers",children:[Object(y.jsx)("canvas",{id:"canvas",ref:n,children:" "}),Object(y.jsx)("a",{id:"downloadAnchor",href:"http://chetandr.github.com",ref:t,children:"image"}),Object(y.jsx)("img",{id:"photo",ref:r,src:"/logo.svg",alt:"Donwload placeholder"})]}),Object(y.jsx)("div",{className:"boundingBoxWrapper0",id:"bbox0",ref:o,onTouchStart:function(){return ee(o)},children:Object(y.jsx)("div",{className:"boundingBox",ref:ce,style:{opacity:1,cursor:"move",display:T.disp0?"inline-block":"none"}})}),Object(y.jsx)("div",{className:"boundingBoxWrapper1",id:"bbox1",ref:s,onTouchStart:function(){return ee(s)},onMouseDown:function(){return ee(s)},children:Object(y.jsx)("div",{className:"boundingBox",ref:ae,style:{opacity:1,cursor:"move",display:T.disp1?"inline-block":"none"}})}),Object(y.jsx)("div",{className:"boundingBoxWrapper2",id:"bbox2",ref:x,onTouchStart:function(){return ee(x)},onMouseDown:function(){return ee(s)},children:Object(y.jsx)("div",{className:"boundingBox",ref:ue,style:{opacity:1,cursor:"move",display:T.disp2?"inline-block":"none"}})}),Object(y.jsx)("div",{className:"boundingBoxWrapper3",id:"bbox3",ref:v,onTouchStart:function(){return ee(v)},onMouseDown:function(){return ee(s)},children:Object(y.jsx)("div",{className:"boundingBox",ref:le,style:{opacity:1,cursor:"move",display:T.disp3?"inline-block":"none"}})}),Object(y.jsx)("div",{className:"boundingBoxWrapper4",id:"bbox4",ref:w,onTouchStart:function(){return ee(w)},onMouseDown:function(){return ee(s)},children:Object(y.jsx)("div",{className:"boundingBox",ref:fe,style:{opacity:1,cursor:"move",display:T.disp4?"inline-block":"none"}})}),Object(y.jsx)("div",{className:"boundingBoxWrapper5",id:"bbox5",ref:k,onTouchStart:function(){return ee(k)},onMouseDown:function(){return ee(s)},children:Object(y.jsx)("div",{className:"boundingBox",ref:xe,style:{opacity:1,cursor:"move",display:T.disp5?"inline-block":"none"}})})]})]})},k=t(47);var N=function(){return Object(y.jsx)(o.a,{backend:k.a,options:{enableMouseEvents:!0},children:Object(y.jsx)("div",{className:"App",children:Object(y.jsx)("header",{className:"App-header",children:Object(y.jsx)(w,{})})})})},S=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,90)).then((function(n){var t=n.getCLS,c=n.getFID,i=n.getFCP,r=n.getLCP,a=n.getTTFB;t(e),c(e),i(e),r(e),a(e)}))};a.a.render(Object(y.jsx)(i.a.StrictMode,{children:Object(y.jsx)(N,{})}),document.getElementById("root")),S()}},[[65,1,2]]]);
//# sourceMappingURL=main.ab3ea73b.chunk.js.map