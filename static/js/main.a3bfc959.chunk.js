(this["webpackJsonpchetandr.github.io.src"]=this["webpackJsonpchetandr.github.io.src"]||[]).push([[0],{42:function(e,t,n){},43:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);n(42),n(43);var a=n(5),r=n(81),c=n(25),s=n.n(c),i=n(32),o=n(36),d=n(0),u=n.n(d),l=n(82),h=n(37),b=n.n(h),j=n(3),p=function(e){var t=[];if(e.debugData)for(var n in e.debugData)t.push(Object(j.jsxs)("div",{className:"debugRow",children:[Object(j.jsxs)("span",{className:"debugLabel",children:[n," : "]}),Object(j.jsx)("span",{className:"debugValue",children:e.debugData[n]})]}));return t},g=function(){var e=u.a.useRef(),t=u.a.useRef(),n=u.a.useRef(),a=u.a.useRef(),r=u.a.useState({}),c=Object(o.a)(r,2),h=c[0],g=c[1],x=u.a.useState({}),f=Object(o.a)(x,2),v=f[0];f[1];function m(){return O.apply(this,arguments)}function O(){return(O=Object(i.a)(s.a.mark((function e(){var t,n,a,r,c,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,e.prev=1,e.prev=2,e.next=5,navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:{exact:"environment"}}});case 5:t=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:{exact:"user"}}});case 12:t=e.sent;case 13:return e.next=15,t.getVideoTracks();case 15:return n=e.sent,a=n[0],r=n[0].getCapabilities(),c=a.getSettings(),console.log(r,c),i={width:{ideal:r.width.max},height:{ideal:r.height.max}},e.prev=21,e.next=24,a.applyConstraints(i);case 24:e.next=29;break;case 26:e.prev=26,e.t1=e.catch(21),alert(e.t1);case 29:return o=a.getSettings(),g(o),e.abrupt("return",{stream:t,settings:o});case 34:e.prev=34,e.t2=e.catch(1),console.error(e.t2);case 37:case"end":return e.stop()}}),e,null,[[1,34],[2,8],[21,26]])})))).apply(this,arguments)}Object(d.useEffect)(Object(i.a)(s.a.mark((function t(){var n,a,r,c,i,o,d;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m();case 2:n=t.sent,e.current&&("srcObject"in e.current?e.current.srcObject=n.stream:e.src=window.URL.createObjectURL(n.stream),a=n.settings.width,r=n.settings.height,c=document.documentElement.clientHeight,i=c*n.settings.aspectRatio,h.aspectRatio,o=c/r,d=i/a,e.current.style.transform="scale(".concat(d,", ").concat(o,")"));case 4:case"end":return t.stop()}}),t)}))),[e,t,n]);var w=function n(){requestAnimationFrame(n);var a=t.current.getContext("2d");requestAnimationFrame((function(){return a.drawImage(e.current,0,0)}))};return Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{id:"debug",children:Object(j.jsx)(p,{debugData:v})}),Object(j.jsx)("div",{style:{marginBottom:"16px"},children:Object(j.jsx)("video",{ref:e,autoPlay:!0,playsInline:!0,onLoadedMetadata:function(e){w()}})}),Object(j.jsxs)("div",{children:[Object(j.jsx)("canvas",{ref:t,style:{border:"solid 2px red",display:"none"}}),Object(j.jsx)("canvas",{ref:n,style:{border:"solid 2px red",display:"none"}})]}),Object(j.jsx)("a",{id:"downloadAnchor",href:"http://chetandr.github.com",ref:a,style:{display:"none"},children:"image"}),Object(j.jsx)("div",{id:"changeVideo",children:Object(j.jsx)(l.a,{color:"primary","aria-label":"upload picture",component:"span",variant:"contained",onClick:function(){var r,c=n.current.getContext("2d"),s=3456,i=3456,o=h.aspectRatio,d=0,u=0;r=t.current.height,t.current.height,u=(t.current.width-r)/2,u=(i-367*o)/2,d=(s-(r=367))/2,c.drawImage(e.current,u,d);var l=n.current.toDataURL("image/png");a.current.href=l,a.current.download="MyPhoto.png",a.current.click(),window.URL.revokeObjectURL(l)},children:Object(j.jsx)(b.a,{style:{fontSize:100}})})}),Object(j.jsx)("a",{id:"downloadAnchor",href:"http://chetandr.github.com",ref:a,style:{display:"none"},children:"image"})]})},x=n(31),f=n(39);var v=function(){return Object(j.jsx)(x.a,{children:Object(j.jsx)(a.c,{children:Object(j.jsx)(a.a,{exact:!0,path:"/",children:Object(j.jsx)("div",{className:"App",children:Object(j.jsx)("header",{className:"App-header",children:Object(j.jsx)(r.a,{backend:f.a,options:{enableMouseEvents:!0},children:Object(j.jsx)(g,{})})})})})})})},m=n(19),O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,83)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};n.n(m).a.render(Object(j.jsx)(u.a.StrictMode,{children:Object(j.jsx)(v,{})}),document.getElementById("root")),O()}},[[62,1,2]]]);
//# sourceMappingURL=main.a3bfc959.chunk.js.map